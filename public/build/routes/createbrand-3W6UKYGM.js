import{a as Te}from"/build/_shared/chunk-HKPUGHCD.js";import{a as k}from"/build/_shared/chunk-NJKAJ7NJ.js";import{a as T}from"/build/_shared/chunk-KJTVB6JA.js";import{U as xe,a as ye}from"/build/_shared/chunk-A6XXWJXG.js";import{d as fe,g as pe,l as ge,m as be}from"/build/_shared/chunk-P4VL4XDR.js";import{a as I,b as F}from"/build/_shared/chunk-WLYSEPGK.js";import{e as A,g as Fe,h as ve}from"/build/_shared/chunk-EUC6ZTEW.js";var t=A(Fe());var he=A(Te()),e=A(ve());var ze=()=>{let h=be(),z=(0,t.useRef)(null),H=(0,t.useRef)(null),[Me,Re]=(0,t.useState)(!1),M=ge().user.id,[w,n]=(0,t.useState)(""),[i,we]=(0,t.useState)(null),R=(0,t.useRef)(null),[E,S]=(0,t.useState)(null),[N,j]=(0,t.useState)(null),[Ee,B]=(0,t.useState)(!1),[U,Ne]=(0,t.useState)([]),[a,Ce]=(0,t.useState)(null),[s,Ae]=(0,t.useState)(null),O=(0,t.useRef)(null),[C,D]=(0,t.useState)(null),[u,ke]=(0,t.useState)(),Be=r=>{ke(r.target.value.replace(/\D/g,""))},o=(0,t.useRef)(null),Le=async r=>{let l=await I.post(`${F}/api/get-city`,{search:r});Ne(l.data.data)},c=(0,t.useRef)(null),m=(0,t.useRef)(null),f=(0,t.useRef)(null),p=(0,t.useRef)(null),d=(0,t.useRef)(null),g=(0,t.useRef)(null),b=(0,t.useRef)(null);return(0,t.useEffect)(()=>{H.current.value=M},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:`w-full h-screen bg-black bg-opacity-25 fixed top-0 left-0  place-items-center ${Ee?"grid":"hidden"}`,children:(0,e.jsx)("div",{className:"bg-white shadow-md w-80 rounded-lg p-4 overflow-y-scroll",children:U.length==0?(0,e.jsxs)("div",{className:"w-full h-96",children:[(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal  my-4",children:"No city found with this name"}),(0,e.jsx)("button",{className:"px-5 mx-auto bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 font-normal text-md my-4",onClick:()=>{B(!1)},children:"Close"})]}):(0,e.jsx)("div",{className:"h-72 overflow-y-scroll no-scrollbar",children:U.map((r,l)=>(0,e.jsxs)("div",{onClick:()=>{Ce(r),B(!1),o.current.value=""},className:"my-6 cursor-pointer bg-white rounded-md py-1 border-2 text-center font-normal text-md hover:border-emerald-500",children:[r.name," - ",r.code]},l))})})}),(0,e.jsxs)("div",{className:"w-full pt-4 px-4 bg-background pb-10",children:[(0,e.jsx)("div",{className:"w-full rounded-lg bg-white grid place-items-center shadow-lg py-2 sm:w-96 mx-auto",children:(0,e.jsx)(pe,{to:"/",className:"cursor-pointer",children:(0,e.jsx)("img",{src:"./images/swrvlogo.png",className:"w-28 lg:w-32"})})}),(0,e.jsxs)("div",{className:"bg-white w-full shadow-xl p-4 mt-4 rounded-lg mx-auto sm:w-96",children:[(0,e.jsx)("div",{className:"hidden",children:(0,e.jsx)("input",{type:"file",accept:"image/*",ref:R,onChange:r=>{parseInt((r.target.files[0].size/1024/1024).toString())<4?(S(null),we(r.target.files[0])):S("Image file size must be less then 4 mb")}})}),(0,e.jsxs)("div",{className:"bg-gray-200 rounded-lg my-6 mr-6 p-4 text-gray-400 flex w-full items-center justify-center",children:[(0,e.jsx)("div",{className:"grid place-items-center w-40 mr-4 h-40 object-cover",children:i==null?(0,e.jsx)("img",{src:"/images/icons/gallery.png",alt:"error",className:"w-40 object-cover inline-block"}):(0,e.jsx)("img",{src:URL.createObjectURL(i),alt:"error",className:"w-20 h-20 inline-block object-cover rounded-md"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"mt-4",children:"Drop profile photo here."}),(0,e.jsx)("p",{className:"mt-4",children:"The image should either be jpg jped or png format and be a maximum size of 4 MB"}),(0,e.jsxs)("div",{className:"mt-4",children:[E==""||E==null||E==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:E}),(0,e.jsx)("div",{onClick:()=>{var r;(r=R.current)==null||r.click()},children:(0,e.jsx)(k,{text:"Upload",textColor:"text-white",width:"w-full",background:"bg-gray-400"})})]})]})]}),(0,e.jsx)("div",{className:"hidden",children:(0,e.jsx)("input",{type:"file",accept:"image/*",ref:O,onChange:r=>{parseInt((r.target.files[0].size/1024/1024).toString())<4?(D(null),Ae(r.target.files[0])):D("Image file size must be less then 4 mb")}})}),(0,e.jsxs)("div",{className:"bg-gray-200 rounded-lg my-6 mr-6 p-4 text-gray-400 w-full",children:[(0,e.jsx)("div",{className:"grid place-items-center mr-4 h-40 object-cover w-full",children:s==null?(0,e.jsx)("img",{src:"/images/icons/gallery.png",alt:"error",className:"w-40 object-cover inline-block"}):(0,e.jsx)("img",{src:URL.createObjectURL(s),alt:"error",className:"w-full h-36 inline-block object-cover rounded-md"})}),(0,e.jsx)("div",{children:(0,e.jsxs)("div",{className:"mt-4",children:[C==""||C==null||C==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:C}),(0,e.jsx)("div",{onClick:()=>{var r;(r=O.current)==null||r.click()},children:(0,e.jsx)(k,{text:"Upload",textColor:"text-white",width:"w-full",background:"bg-gray-400"})})]})})]}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand Name"}),(0,e.jsx)("input",{ref:c,className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand code"}),(0,e.jsx)("input",{ref:m,className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand website"}),(0,e.jsx)("input",{ref:p,className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand address"}),(0,e.jsx)("input",{ref:f,className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand city"}),(0,e.jsxs)("div",{className:"w-full bg-[#EEEEEE] rounded-md flex p-2",children:[(0,e.jsx)("div",{className:"grow",children:(0,e.jsx)("input",{ref:o,className:"h-full w-full outline-none focus:border-gray-300 bg-transparent"})}),(0,e.jsx)("div",{className:"bg-white text-bold p-2 rounded-md grid place-items-center w-8 h-8 cursor-pointer",onClick:()=>{var r,l,v,y,x;((r=o.current)==null?void 0:r.value)==null||((l=o.current)==null?void 0:l.value)==null||((v=o.current)==null?void 0:v.value)==""?j("Enter the city name"):(B(!0),j(null),Le((x=(y=o.current)==null?void 0:y.value)!=null?x:""))},children:(0,e.jsx)(ye,{icon:xe})})]}),N==""||N==null||N==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:N}),a==""||a==null||a==null?null:(0,e.jsxs)("div",{className:"bg-white bg-opacity-10 border-2 text-center border-black rounded-md text-black text-md font-normal text-md my-4",children:[a.name," - ",a.code]}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Support Contact"}),(0,e.jsxs)("div",{className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md flex",children:[(0,e.jsx)("div",{className:"text-center text-black font-normal text-md mr-4",children:a==null?0:a.country.isd}),(0,e.jsx)("input",{onChange:Be,value:u,type:"text",className:"w-full outline-none bg-transparent focus:border-gray-300 rounded-md resize-none"})]}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Support Email"}),(0,e.jsx)("input",{ref:d,className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand info"}),(0,e.jsx)("textarea",{ref:g,className:"p-2 w-full h-32 outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Company info"}),(0,e.jsx)("textarea",{ref:b,className:"p-2 w-full h-32 outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),w==""||w==null||w==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:w}),h==""||h==null||h==null?null:(0,e.jsx)("p",{className:"w-full border-2 border-red-500 bg-red-500 bg-opacity-5  text-center my-2 rounded-md p-2 text-sm font-semibold text-red-500",children:h.message}),(0,e.jsx)("div",{onClick:async()=>{var r,l,v,y,x,$,_,q,V,X,P,W,G,J,K,Q,Y,Z,ee,te,re,ne,le,ae,oe,de,ie,se,ue;if(i==null||i==null)n("Select the image");else if(s==null||s==null)n("Select the banner image");else if(((r=c.current)==null?void 0:r.value)==null||((l=c.current)==null?void 0:l.value)==null||((v=c.current)==null?void 0:v.value)=="")n("Fill the Brand name");else if(((y=m.current)==null?void 0:y.value)==null||((x=m.current)==null?void 0:x.value)==null||(($=m.current)==null?void 0:$.value)=="")n("Fill the Brand code");else if(((_=p.current)==null?void 0:_.value)==null||((q=p.current)==null?void 0:q.value)==null||((V=p.current)==null?void 0:V.value)=="")n("Fill the Brand website");else if(((X=f.current)==null?void 0:X.value)==null||((P=f.current)==null?void 0:P.value)==null||((W=f.current)==null?void 0:W.value)=="")n("Fill the Brand address");else if(a==null)n("Fill the city");else if(u==null||u==null||u==0)n("Fill the contact number");else if(((G=d.current)==null?void 0:G.value)==null||((J=d.current)==null?void 0:J.value)==null||((K=d.current)==null?void 0:K.value)=="")n("Fill the Brand info");else if(!he.validate((Q=d.current)==null?void 0:Q.value))n("Enter valid email");else if(((Y=g.current)==null?void 0:Y.value)==null||((Z=g.current)==null?void 0:Z.value)==null||((ee=g.current)==null?void 0:ee.value)=="")n("Fill the Brand info");else if(((te=b.current)==null?void 0:te.value)==null||((re=b.current)==null?void 0:re.value)==null||((ne=b.current)==null?void 0:ne.value)=="")n("Fill the Campany info");else{let L=await T(i),ce=await T(s);if(L.status&&ce.status){let Ie={userId:M,brandLogoUrl:L.data,brandName:(le=c.current)==null?void 0:le.value,brandCode:(ae=m.current)==null?void 0:ae.value,brandWebUrl:(oe=p.current)==null?void 0:oe.value,brandFullRegisteredAddress:(de=f.current)==null?void 0:de.value,brandSupportEmail:(ie=d.current)==null?void 0:ie.value,brandSupportContact:u,brandBioInfo:(se=g.current)==null?void 0:se.value,comapnyBio:(ue=b.current)==null?void 0:ue.value,cityId:a.id,banner:ce.data},me=await I({method:"post",url:`${F}/api/add-brand`,data:Ie,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});if(me.data.status==!1)return n(me.data.message);z.current.click()}else n(L.data)}},children:(0,e.jsx)(k,{text:"Create Brand",background:"bg-secondary",textColor:"text-white",width:"w-full"})})]})]}),(0,e.jsx)("div",{className:"hidden",children:(0,e.jsxs)(fe,{method:"post",children:[(0,e.jsx)("input",{type:"hidden",name:"id",ref:H}),(0,e.jsx)("button",{ref:z,name:"submit",children:"Submit"})]})})]})},He=ze;export{He as default};
