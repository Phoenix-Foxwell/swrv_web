import{a as we}from"/build/_shared/chunk-J32PS5QO.js";import{a as L}from"/build/_shared/chunk-6ONMTUBQ.js";import{a as se}from"/build/_shared/chunk-XLGCWUM4.js";import{a as k,b as B}from"/build/_shared/chunk-MNPIC26H.js";import{T as ie,a as de}from"/build/_shared/chunk-B53UXM73.js";import{a as ne,f as le,k as ae}from"/build/_shared/chunk-WLPYV2BQ.js";import{c as w,d as Ee,e as oe}from"/build/_shared/chunk-7UEYUE33.js";var r=w(Ee());var ue=w(we()),e=w(oe());var Ne=()=>{let ce=ne(),me=ae().user.id,[y,n]=(0,r.useState)(""),[s,fe]=(0,r.useState)(null),I=(0,r.useRef)(null),[h,A]=(0,r.useState)(null),[E,F]=(0,r.useState)(null),[pe,N]=(0,r.useState)(!1),[T,ge]=(0,r.useState)([]),[a,be]=(0,r.useState)(null),[o,ve]=(0,r.useState)(),xe=t=>{ve(t.target.value.replace(/\D/g,""))},d=(0,r.useRef)(null),ye=async t=>{let l=await k.post(`${B}/api/get-city`,{search:t});ge(l.data.data)},u=(0,r.useRef)(null),c=(0,r.useRef)(null),m=(0,r.useRef)(null),f=(0,r.useRef)(null),i=(0,r.useRef)(null),p=(0,r.useRef)(null),g=(0,r.useRef)(null);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:`w-full h-screen bg-black bg-opacity-25 fixed top-0 left-0  place-items-center ${pe?"grid":"hidden"}`,children:(0,e.jsx)("div",{className:"bg-white shadow-md w-80 rounded-lg p-4",children:T.length==0?(0,e.jsxs)("div",{className:"w-80 h-96",children:[(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:"No city found with this name"}),(0,e.jsx)("button",{className:"px-5 mx-auto bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",onClick:()=>{N(!1)},children:"Close"})]}):(0,e.jsx)("div",{className:"h-72 overflow-y-scroll no-scrollbar",children:T.map((t,l)=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{onClick:()=>{be(t),N(!1),d.current.value=""},className:"my-6 cursor-pointer bg-white rounded-md py-1 border-2 text-center font-normal text-md hover:border-emerald-500",children:[t.name," - ",t.code]},l)}))})})}),(0,e.jsxs)("div",{className:"w-full pt-4 px-4 bg-background pb-10",children:[(0,e.jsx)("div",{className:"w-full rounded-lg bg-white grid place-items-center shadow-lg py-2 sm:w-96 mx-auto",children:(0,e.jsx)(le,{to:"/",className:"cursor-pointer",children:(0,e.jsx)("img",{src:"./images/swrvlogo.png",className:"w-28 lg:w-32"})})}),(0,e.jsxs)("div",{className:"bg-white w-full shadow-xl p-4 mt-4 rounded-lg mx-auto sm:w-96",children:[(0,e.jsx)("div",{className:"hidden",children:(0,e.jsx)("input",{type:"file",accept:"image/*",ref:I,onChange:t=>{parseInt((t.target.files[0].size/1024/1024).toString())<4?(A(null),fe(t.target.files[0])):A("Image file size must be less then 4 mb")}})}),(0,e.jsxs)("div",{className:"bg-gray-200 rounded-lg my-6 mr-6 p-4 text-gray-400 flex w-full items-center justify-center",children:[(0,e.jsx)("div",{className:"grid place-items-center w-40 mr-4 h-40 object-cover",children:s==null?(0,e.jsx)("img",{src:"/images/icons/gallery.png",alt:"error",className:"w-40 object-cover inline-block"}):(0,e.jsx)("img",{src:URL.createObjectURL(s),alt:"error",className:"w-20 h-20 inline-block object-cover rounded-md"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"mt-4",children:"Drop profile photo here."}),(0,e.jsx)("p",{className:"mt-4",children:"The image should either be jpg jped or png format and be a maximum size of 4 MB"}),(0,e.jsxs)("div",{className:"mt-4",children:[h==""||h==null||h==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:h}),(0,e.jsx)("div",{onClick:()=>{var t;(t=I.current)==null||t.click()},children:(0,e.jsx)(L,{text:"Upload",textColor:"text-white",width:"w-full",background:"bg-gray-400"})})]})]})]}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand Name"}),(0,e.jsx)("input",{ref:u,className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand code"}),(0,e.jsx)("input",{ref:c,className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand website"}),(0,e.jsx)("input",{ref:f,className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand address"}),(0,e.jsx)("input",{ref:m,className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand city"}),(0,e.jsxs)("div",{className:"w-full bg-[#EEEEEE] rounded-md flex p-2",children:[(0,e.jsx)("div",{className:"grow",children:(0,e.jsx)("input",{ref:d,className:"h-full w-full outline-none focus:border-gray-300 bg-transparent"})}),(0,e.jsx)("div",{className:"bg-white text-bold p-2 rounded-md grid place-items-center w-8 h-8 cursor-pointer",onClick:()=>{var t,l,b,v,x;((t=d.current)==null?void 0:t.value)==null||((l=d.current)==null?void 0:l.value)==null||((b=d.current)==null?void 0:b.value)==""?F("Enter the city name"):(N(!0),F(null),ye((x=(v=d.current)==null?void 0:v.value)!=null?x:""))},children:(0,e.jsx)(de,{icon:ie})})]}),E==""||E==null||E==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:E}),a==""||a==null||a==null?null:(0,e.jsxs)("div",{className:"bg-white bg-opacity-10 border-2 text-center border-black rounded-md text-black text-md font-normal text-md my-4",children:[a.name," - ",a.code]}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Support Contact"}),(0,e.jsxs)("div",{className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md flex",children:[(0,e.jsx)("div",{className:"text-center text-black font-normal text-md mr-4",children:a==null?0:a.country.isd}),(0,e.jsx)("input",{onChange:xe,value:o,type:"text",maxLength:10,className:"w-full outline-none bg-transparent focus:border-gray-300 rounded-md resize-none"})]}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Support Email"}),(0,e.jsx)("input",{ref:i,className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand info"}),(0,e.jsx)("textarea",{ref:p,className:"p-2 w-full h-32 outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Company info"}),(0,e.jsx)("textarea",{ref:g,className:"p-2 w-full h-32 outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),y==""||y==null||y==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:y}),(0,e.jsx)("div",{onClick:async()=>{var t,l,b,v,x,z,R,S,H,M,j,U,O,D,$,q,V,_,P,W,X,G,J,K,Q,Y,Z,ee,te;if(s==null||s==null)n("Select the image");else if(((t=u.current)==null?void 0:t.value)==null||((l=u.current)==null?void 0:l.value)==null||((b=u.current)==null?void 0:b.value)=="")n("Fill the Brand name");else if(((v=c.current)==null?void 0:v.value)==null||((x=c.current)==null?void 0:x.value)==null||((z=c.current)==null?void 0:z.value)=="")n("Fill the Brand code");else if(((R=f.current)==null?void 0:R.value)==null||((S=f.current)==null?void 0:S.value)==null||((H=f.current)==null?void 0:H.value)=="")n("Fill the Brand website");else if(((M=m.current)==null?void 0:M.value)==null||((j=m.current)==null?void 0:j.value)==null||((U=m.current)==null?void 0:U.value)=="")n("Fill the Brand address");else if(a==null)n("Fill the city");else if(o==null||o==null||o==0)n("Fill the contact number");else if(((O=i.current)==null?void 0:O.value)==null||((D=i.current)==null?void 0:D.value)==null||(($=i.current)==null?void 0:$.value)=="")n("Fill the Brand info");else if(!ue.validate((q=i.current)==null?void 0:q.value))n("Enter valid email");else if(o.toString().length!=10)n("Enter a 10 degit valid contact number");else if(((V=p.current)==null?void 0:V.value)==null||((_=p.current)==null?void 0:_.value)==null||((P=p.current)==null?void 0:P.value)=="")n("Fill the Brand info");else if(((W=g.current)==null?void 0:W.value)==null||((X=g.current)==null?void 0:X.value)==null||((G=g.current)==null?void 0:G.value)=="")n("Fill the Campany info");else{let C=await se(s);if(C.status){let he={userId:me,brandLogoUrl:C.data,brandName:(J=u.current)==null?void 0:J.value,brandCode:(K=c.current)==null?void 0:K.value,brandWebUrl:(Q=f.current)==null?void 0:Q.value,brandFullRegisteredAddress:(Y=m.current)==null?void 0:Y.value,brandSupportEmail:(Z=i.current)==null?void 0:Z.value,brandSupportContact:o,brandBioInfo:(ee=p.current)==null?void 0:ee.value,comapnyBio:(te=g.current)==null?void 0:te.value,cityId:a.id},re=await k({method:"post",url:`${B}/api/add-brand`,data:he,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});return re.data.status==!1?n(re.data.message):ce("/home")}else n(C.data)}},children:(0,e.jsx)(L,{text:"Create Brand",background:"bg-secondary",textColor:"text-white",width:"w-full"})})]})]})]})},Ce=Ne;export{Ce as default};
