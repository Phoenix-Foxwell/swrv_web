import{a as ke}from"/build/_shared/chunk-HKPUGHCD.js";import{a as L}from"/build/_shared/chunk-NJKAJ7NJ.js";import{a as ge}from"/build/_shared/chunk-KQNGW2SI.js";import{a as k,b as B}from"/build/_shared/chunk-WI5Z27OJ.js";import{T as pe,a as fe}from"/build/_shared/chunk-6AVPJ36M.js";import{b as de,d as ie,g as se,l as ue,m as ce}from"/build/_shared/chunk-P4VL4XDR.js";import{e as N,g as Ae,h as me}from"/build/_shared/chunk-EUC6ZTEW.js";var t=N(Ae());var be=N(ke()),e=N(me());var Be=()=>{let Fe=de(),y=ce(),F=(0,t.useRef)(null),I=(0,t.useRef)(null),T=ue().user.id,[h,n]=(0,t.useState)(""),[s,ve]=(0,t.useState)(null),z=(0,t.useRef)(null),[E,H]=(0,t.useState)(null),[w,M]=(0,t.useState)(null),[xe,C]=(0,t.useState)(!1),[S,ye]=(0,t.useState)([]),[a,he]=(0,t.useState)(null),[o,Ee]=(0,t.useState)(),we=r=>{Ee(r.target.value.replace(/\D/g,""))},d=(0,t.useRef)(null),Ne=async r=>{let l=await k.post(`${B}/api/get-city`,{search:r});ye(l.data.data)},u=(0,t.useRef)(null),c=(0,t.useRef)(null),m=(0,t.useRef)(null),f=(0,t.useRef)(null),i=(0,t.useRef)(null),p=(0,t.useRef)(null),g=(0,t.useRef)(null);return(0,t.useEffect)(()=>{I.current.value=T},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:`w-full h-screen bg-black bg-opacity-25 fixed top-0 left-0  place-items-center ${xe?"grid":"hidden"}`,children:(0,e.jsx)("div",{className:"bg-white shadow-md w-80 rounded-lg p-4 overflow-y-scroll",children:S.length==0?(0,e.jsxs)("div",{className:"w-full h-96",children:[(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal  my-4",children:"No city found with this name"}),(0,e.jsx)("button",{className:"px-5 mx-auto bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 font-normal text-md my-4",onClick:()=>{C(!1)},children:"Close"})]}):(0,e.jsx)("div",{className:"h-72 overflow-y-scroll no-scrollbar",children:S.map((r,l)=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{onClick:()=>{he(r),C(!1),d.current.value=""},className:"my-6 cursor-pointer bg-white rounded-md py-1 border-2 text-center font-normal text-md hover:border-emerald-500",children:[r.name," - ",r.code]},l)}))})})}),(0,e.jsxs)("div",{className:"w-full pt-4 px-4 bg-background pb-10",children:[(0,e.jsx)("div",{className:"w-full rounded-lg bg-white grid place-items-center shadow-lg py-2 sm:w-96 mx-auto",children:(0,e.jsx)(se,{to:"/",className:"cursor-pointer",children:(0,e.jsx)("img",{src:"./images/swrvlogo.png",className:"w-28 lg:w-32"})})}),(0,e.jsxs)("div",{className:"bg-white w-full shadow-xl p-4 mt-4 rounded-lg mx-auto sm:w-96",children:[(0,e.jsx)("div",{className:"hidden",children:(0,e.jsx)("input",{type:"file",accept:"image/*",ref:z,onChange:r=>{parseInt((r.target.files[0].size/1024/1024).toString())<4?(H(null),ve(r.target.files[0])):H("Image file size must be less then 4 mb")}})}),(0,e.jsxs)("div",{className:"bg-gray-200 rounded-lg my-6 mr-6 p-4 text-gray-400 flex w-full items-center justify-center",children:[(0,e.jsx)("div",{className:"grid place-items-center w-40 mr-4 h-40 object-cover",children:s==null?(0,e.jsx)("img",{src:"/images/icons/gallery.png",alt:"error",className:"w-40 object-cover inline-block"}):(0,e.jsx)("img",{src:URL.createObjectURL(s),alt:"error",className:"w-20 h-20 inline-block object-cover rounded-md"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"mt-4",children:"Drop profile photo here."}),(0,e.jsx)("p",{className:"mt-4",children:"The image should either be jpg jped or png format and be a maximum size of 4 MB"}),(0,e.jsxs)("div",{className:"mt-4",children:[E==""||E==null||E==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:E}),(0,e.jsx)("div",{onClick:()=>{var r;(r=z.current)==null||r.click()},children:(0,e.jsx)(L,{text:"Upload",textColor:"text-white",width:"w-full",background:"bg-gray-400"})})]})]})]}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand Name"}),(0,e.jsx)("input",{ref:u,className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand code"}),(0,e.jsx)("input",{ref:c,className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand website"}),(0,e.jsx)("input",{ref:f,className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand address"}),(0,e.jsx)("input",{ref:m,className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand city"}),(0,e.jsxs)("div",{className:"w-full bg-[#EEEEEE] rounded-md flex p-2",children:[(0,e.jsx)("div",{className:"grow",children:(0,e.jsx)("input",{ref:d,className:"h-full w-full outline-none focus:border-gray-300 bg-transparent"})}),(0,e.jsx)("div",{className:"bg-white text-bold p-2 rounded-md grid place-items-center w-8 h-8 cursor-pointer",onClick:()=>{var r,l,b,v,x;((r=d.current)==null?void 0:r.value)==null||((l=d.current)==null?void 0:l.value)==null||((b=d.current)==null?void 0:b.value)==""?M("Enter the city name"):(C(!0),M(null),Ne((x=(v=d.current)==null?void 0:v.value)!=null?x:""))},children:(0,e.jsx)(fe,{icon:pe})})]}),w==""||w==null||w==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:w}),a==""||a==null||a==null?null:(0,e.jsxs)("div",{className:"bg-white bg-opacity-10 border-2 text-center border-black rounded-md text-black text-md font-normal text-md my-4",children:[a.name," - ",a.code]}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Support Contact"}),(0,e.jsxs)("div",{className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md flex",children:[(0,e.jsx)("div",{className:"text-center text-black font-normal text-md mr-4",children:a==null?0:a.country.isd}),(0,e.jsx)("input",{onChange:we,value:o,type:"text",maxLength:10,className:"w-full outline-none bg-transparent focus:border-gray-300 rounded-md resize-none"})]}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Support Email"}),(0,e.jsx)("input",{ref:i,className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand info"}),(0,e.jsx)("textarea",{ref:p,className:"p-2 w-full h-32 outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Company info"}),(0,e.jsx)("textarea",{ref:g,className:"p-2 w-full h-32 outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),h==""||h==null||h==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:h}),y==""||y==null||y==null?null:(0,e.jsx)("p",{className:"w-full border-2 border-red-500 bg-red-500 bg-opacity-5  text-center my-2 rounded-md p-2 text-sm font-semibold text-red-500",children:y.message}),(0,e.jsx)("div",{onClick:async()=>{var r,l,b,v,x,R,j,O,U,D,$,q,V,X,_,P,W,G,J,K,Q,Y,Z,ee,te,re,ne,le,ae;if(s==null||s==null)n("Select the image");else if(((r=u.current)==null?void 0:r.value)==null||((l=u.current)==null?void 0:l.value)==null||((b=u.current)==null?void 0:b.value)=="")n("Fill the Brand name");else if(((v=c.current)==null?void 0:v.value)==null||((x=c.current)==null?void 0:x.value)==null||((R=c.current)==null?void 0:R.value)=="")n("Fill the Brand code");else if(((j=f.current)==null?void 0:j.value)==null||((O=f.current)==null?void 0:O.value)==null||((U=f.current)==null?void 0:U.value)=="")n("Fill the Brand website");else if(((D=m.current)==null?void 0:D.value)==null||(($=m.current)==null?void 0:$.value)==null||((q=m.current)==null?void 0:q.value)=="")n("Fill the Brand address");else if(a==null)n("Fill the city");else if(o==null||o==null||o==0)n("Fill the contact number");else if(((V=i.current)==null?void 0:V.value)==null||((X=i.current)==null?void 0:X.value)==null||((_=i.current)==null?void 0:_.value)=="")n("Fill the Brand info");else if(!be.validate((P=i.current)==null?void 0:P.value))n("Enter valid email");else if(o.toString().length!=10)n("Enter a 10 digit valid contact number");else if(((W=p.current)==null?void 0:W.value)==null||((G=p.current)==null?void 0:G.value)==null||((J=p.current)==null?void 0:J.value)=="")n("Fill the Brand info");else if(((K=g.current)==null?void 0:K.value)==null||((Q=g.current)==null?void 0:Q.value)==null||((Y=g.current)==null?void 0:Y.value)=="")n("Fill the Campany info");else{let A=await ge(s);if(A.status){let Ce={userId:T,brandLogoUrl:A.data,brandName:(Z=u.current)==null?void 0:Z.value,brandCode:(ee=c.current)==null?void 0:ee.value,brandWebUrl:(te=f.current)==null?void 0:te.value,brandFullRegisteredAddress:(re=m.current)==null?void 0:re.value,brandSupportEmail:(ne=i.current)==null?void 0:ne.value,brandSupportContact:o,brandBioInfo:(le=p.current)==null?void 0:le.value,comapnyBio:(ae=g.current)==null?void 0:ae.value,cityId:a.id},oe=await k({method:"post",url:`${B}/api/add-brand`,data:Ce,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});if(oe.data.status==!1)return n(oe.data.message);F.current.click()}else n(A.data)}},children:(0,e.jsx)(L,{text:"Create Brand",background:"bg-secondary",textColor:"text-white",width:"w-full"})})]})]}),(0,e.jsx)("div",{className:"hidden",children:(0,e.jsxs)(ie,{method:"post",children:[(0,e.jsx)("input",{type:"hidden",name:"id",ref:I}),(0,e.jsx)("button",{ref:F,name:"submit",children:"Submit"})]})})]})},Le=Be;export{Le as default};
