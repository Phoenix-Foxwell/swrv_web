import{b as S,c as H,d as O}from"/build/_shared/chunk-MOI4VVMV.js";import"/build/_shared/chunk-6EK5NIKP.js";import"/build/_shared/chunk-57PMQZPE.js";import{a as E}from"/build/_shared/chunk-6ONMTUBQ.js";import{a as M,b as U}from"/build/_shared/chunk-XLGCWUM4.js";import{a as N,b as y}from"/build/_shared/chunk-MNPIC26H.js";import{C as B,E as D,H as A,M as L,U as R,a as h}from"/build/_shared/chunk-VYXQYHL2.js";import{g as F,k as j}from"/build/_shared/chunk-WLPYV2BQ.js";import{c as P,d as z,e as T}from"/build/_shared/chunk-7UEYUE33.js";var s=P(z());var e=P(T());var V=()=>{let t=j().campaign,r=j().user,c=r.role.code!=10,b=j(),a=r.id,l=t.brand==null||t.brand.length==0||t.brand==null||t.brand==""||t.brand.logo==""||t.brand.logo==null||t.brand.logo=="0"||t.brand.logo==null?"/images/avatar/user.png":t.brand.logo,p=t.brand.name,[i,v]=(0,s.useState)(""),[u,f]=(0,s.useState)(0),[g,x]=(0,s.useState)([]),[o,d]=(0,s.useState)(0),[n,m]=(0,s.useState)(0),I=async()=>{v(await U(t.campaignTypeId));let k={search:{campaign:t.id,influencer:a,fromUser:a}},w=await N.post(`${y}/api/search-invite`,k);w.data.status==!0?(w.data.data[0].status.code=="1"&&f(1),w.data.data[0].status.code=="3"&&f(2),w.data.data[0].status.code=="5"&&f(3),x(w.data.data)):f(0);let C=await N.post(`${y}/api/get-brand-connection`,{brandId:t.brand.id});w.data.status?d(C.data.data.influencer_count):d(0);let q=await N.post(`${y}/api/get-brand-com-cam`,{brandId:t.brand.id});q.data.status?m(q.data.data.completed_campaign):m(0)};return(0,s.useEffect)(()=>{I()},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"grid gap-y-4 lg:gap-4 grid-cols-1 lg:grid-cols-7 mt-4 justify-start align-top content-start place-items-start place-content-start",children:[(0,e.jsx)(Y,{logo:l,name:p,website:t.brand.website,info:t.brand.info,rate:"3",connection:o.toString(),completed:n.toString()}),(0,e.jsx)(W,{dont:t.donts,dos:t.dos,hastag:t.hashtags,mendtion:t.mentions,platform:t.platforms,moddboard:t.moodBoards,info:t.campaignInfo,name:t.campaignName,image:l,website:t.brand.website,category:i}),(0,e.jsxs)("div",{className:"lg:col-start-6 lg:col-end-8 grid gap-y-4 w-full",children:[(0,e.jsx)(J,{currecny:t.currency.code,costperpost:t.costPerPost,totalbudget:t.totalBudget.split(".")[0],remaining:"1400"}),(0,e.jsx)(X,{audienceloaction:t.audienceLocations,minreach:t.minReach,maxreach:t.maxReach,startdate:t.startAt,enddate:t.endAt}),c?null:(0,e.jsxs)(e.Fragment,{children:[u==0?(0,e.jsx)(G,{champaignId:t.id,touserId:t.brandUserId,userId:a,influencerId:a,fromuserId:a}):null,u==1?(0,e.jsx)(K,{}):null,u==3?(0,e.jsx)(ee,{reason:g[0].status.message,champaignId:t.id,touserId:t.brandUserId,userId:a,influencerId:a,fromuserId:a}):null]})]})]}),u==2?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"flex gap-4 flex-col lg:flex-row mt-8 flex-wrap justify-evenly",children:[(0,e.jsx)("div",{className:"w-96",children:(0,e.jsx)(te,{influencerId:a,champaingId:t.id,platforms:b.platform})}),(0,e.jsxs)("div",{className:"w-96",children:[(0,e.jsx)("p",{className:"text-md text-primary font-semibold py-1",children:"Live campaigns"}),(0,e.jsx)("div",{className:"w-full h-[1px] bg-slate-300"}),(0,e.jsx)("div",{children:(0,e.jsx)(se,{userId:a,campaingid:t.id,brandId:t.brand.id,cpp:t.costPerPost})})]})]}),(0,e.jsx)(ne,{userId:a,campaingid:t.id})]}):null,(0,e.jsx)("div",{className:"my-6",children:c?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Q,{userId:a,campaingid:t.id}),(0,e.jsx)("div",{className:"h-4"}),(0,e.jsx)(Z,{userId:a,campaingid:t.id}),(0,e.jsx)("div",{className:"h-4"}),(0,e.jsx)(ae,{campaingid:t.id,currency:r.currency.code})]}):null})]})},_=V,Y=t=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"col-span-2 rounded-xl shadow-xl bg-white p-4 w-full",children:[(0,e.jsxs)("div",{className:"flex items-end gap-x-3",children:[(0,e.jsx)("div",{children:(0,e.jsx)("img",{src:t.logo,alt:"brand logo",className:"object-cover w-16 h-16 rounded object-center"})}),(0,e.jsx)("p",{className:"text-black font-semibold text-xl content-end text-left",children:t.name})]}),(0,e.jsx)("p",{className:"text-black font-semibold text-xs text-left mt-2",children:"Category : Consumer Electronics"}),(0,e.jsx)("p",{className:"text-black font-semibold text-xs text-left",children:t.website}),(0,e.jsx)("h3",{className:"text-black font-bold text-md text-left",children:"Brand info"}),(0,e.jsx)("p",{className:"text-black font-semibold text-xs text-left",children:t.info}),(0,e.jsx)("div",{className:"h-4"}),(0,e.jsx)(S,{rate:t.rate}),(0,e.jsx)("div",{className:"h-4"}),(0,e.jsx)(H,{connection:t.connection}),(0,e.jsx)("div",{className:"h-4"}),(0,e.jsx)(O,{completed:t.completed})]})}),W=t=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"col-span-3 rounded-xl shadow-xl bg-white p-4 w-full",children:[(0,e.jsxs)("div",{className:"flex items-end gap-x-3",children:[(0,e.jsx)("div",{children:(0,e.jsx)("img",{src:t.image,alt:"error",className:"object-cover w-16 h-16 rounded object-center"})}),(0,e.jsx)("p",{className:"text-black font-semibold text-xl content-end text-left",children:t.name})]}),(0,e.jsxs)("p",{className:"text-black font-semibold text-xs text-left mt-4",children:["Category : ",t.category]}),(0,e.jsx)("p",{className:"text-black font-semibold text-xs text-left",children:t.website}),(0,e.jsx)("h3",{className:"text-black font-bold text-md text-left",children:"Campaign info"}),(0,e.jsx)("p",{className:"text-black font-semibold text-xs text-left",children:t.info}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-black text-left text-md font-medium mt-2",children:"Moodboard"}),(0,e.jsx)("div",{className:"flex gap-x-4 overflow-x-scroll no-scrollbar",children:t.moddboard.map((r,c)=>(0,e.jsx)("div",{className:"shrink-0",children:(0,e.jsx)("img",{src:r.url,alt:"error",className:"h-14 w-14 object-cover rounded-md object-center"})},c))})]}),(0,e.jsx)("p",{className:"text-black text-left text-md font-medium mt-2",children:"Platforms"}),(0,e.jsx)("div",{className:"flex items-center w-32 overflow-x-scroll no-scrollbar",children:t.platform.map((r,c)=>(0,e.jsx)("div",{className:"p-1 shrink-0 mx-1 ",children:(0,e.jsx)("img",{src:r.platformLogoUrl,alt:"error",className:"rounded-lg w-8 h-8 object-center object-cover"})},c))}),(0,e.jsxs)("div",{className:"bg-gray-200  rounded-md py-2 flex justify-around w-72 mt-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm font-semibold",children:"Do's"}),t.dos.split(",").map((r,c)=>(0,e.jsx)("p",{className:"text-md font-normal",children:r},c))]}),(0,e.jsx)("div",{className:"h-10 w-[1px] bg-slate-900"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm font-semibold",children:"Dont's"}),t.dont.split(",").map((r,c)=>(0,e.jsx)("p",{className:"text-md font-normal",children:r},c))]})]}),(0,e.jsx)("p",{className:"text-sm font-semibold mt-4",children:"Hashtags"}),(0,e.jsx)("div",{className:"flex flex-nowrap gap-2 my-4",children:t.hastag.split(",").map((r,c)=>(0,e.jsxs)("p",{className:"text-md font-normal rounded-md bg-gray-300 py-1 px-4",children:["#",r]},c))}),(0,e.jsx)("p",{className:"text-sm font-semibold mt-4",children:"Mentions"}),(0,e.jsx)("div",{className:"flex flex-nowrap gap-2 my-4",children:t.mendtion.split(",").map((r,c)=>(0,e.jsxs)("p",{className:"text-md font-normal rounded-md bg-gray-300 py-1 px-4",children:["@",r]},c))})]})}),X=t=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"rounded-xl shadow-xl bg-white p-4 w-full",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)(h,{icon:D,className:"text-xl text-primary"}),(0,e.jsx)("h2",{className:"text-xl text-primary font-medium px-4",children:"Target"})]}),(0,e.jsx)("div",{className:"h-[1px] bg-gray-500 w-full my-2"}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Audience Location"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-primary",children:t.audienceloaction})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Min Reach"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-black",children:t.minreach})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Max Reach"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-black",children:t.maxreach})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Start Date"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-black",children:t.startdate})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"End date"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-black",children:t.enddate})]})]})}),G=t=>{let[r,c]=(0,s.useState)(!1),b=()=>c(!0),a=()=>c(!1),[l,p]=(0,s.useState)(null),i=(0,s.useRef)(null),v=async()=>{var g,x,o,d;if(((g=i.current)==null?void 0:g.value)==null||((x=i.current)==null?void 0:x.value)==null||((o=i.current)==null?void 0:o.value)=="")return p("Message can't be blank");let u={campaignId:t.champaignId,influencerId:t.influencerId,fromUserId:t.fromuserId,toUserId:t.touserId,inviteMessage:(d=i.current)==null?void 0:d.value},f=await N.post(`${y}/api/add-invite`,u);f.data.status==!1?p(f.data.message):(i.current.value="",a()),window.location.reload()};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"p-4 rounded-xl shadow-xl bg-primary",children:[(0,e.jsx)("h1",{className:"text-white text-xl text-left font-normal",children:"Would you like to participate in this campaign?"}),(0,e.jsx)("div",{className:"w-full grid place-items-center",onClick:b,children:(0,e.jsx)(E,{text:"Apply",textColor:"text-white",background:"bg-secondary"})})]}),(0,e.jsx)("div",{className:`w-full h-screen bg-gray-500 fixed top-0 left-0 bg-opacity-30 grid place-items-center ${r?"fixed":"hidden"} `,children:(0,e.jsxs)("div",{className:"p-6 bg-white rounded-xl shadow-xl w-96",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:a,children:(0,e.jsx)(h,{icon:L,className:"font-bold text-2xl text-center text-primary"})})]}),(0,e.jsx)("h1",{className:"text-primary text-lg font-bold text-left",children:"Connect"}),(0,e.jsx)("p",{className:"text-lg font-normal",children:"Subject : Apply for campaign"}),(0,e.jsx)("textarea",{ref:i,className:"p-4 w-full h-40 outline-none border-2 bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none mt-4",placeholder:"message"}),l==""||l==null||l==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:l}),(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:v,children:(0,e.jsx)(E,{text:"send",background:"bg-primary",textColor:"text-white"})})]})]})})]})},J=t=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"rounded-xl shadow-xl bg-white p-4 w-full",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)(h,{icon:D,className:"text-xl text-primary"}),(0,e.jsx)("h2",{className:"text-xl text-primary font-medium px-4",children:"Budget"})]}),(0,e.jsx)("div",{className:"h-[1px] bg-gray-500 w-full my-2 "}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Cost per post"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("p",{className:"text-md font-bold text-primary",children:[t.costperpost," ",t.currecny]})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Total budget"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("p",{className:"text-md font-bold text-black",children:[t.totalbudget," ",t.currecny]})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Remaining"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("p",{className:"text-md font-bold text-black",children:[t.remaining," ",t.currecny]})]})]})}),K=()=>(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-primary",children:(0,e.jsx)("h1",{className:"text-white text-xl text-left font-normal",children:"Your request in progress.."})})}),Q=t=>{let[r,c]=(0,s.useState)([]),[b,a]=(0,s.useState)(!1),[l,p]=(0,s.useState)(!1),[i,v]=(0,s.useState)(null),u=(0,s.useRef)(null),[f,g]=(0,s.useState)(null),x=async()=>{let n={search:{status:"1",campaign:t.campaingid,toUser:t.userId}},m=await N.post(`${y}/api/search-invite`,n);m.data.status==!0&&c(m.data.data)},o=async()=>{let n={id:f,status:"3"},m=await N.post(`${y}/api/update-invite`,n);if(m.data.staus==!1)return v(m.data.message);a(!1),window.location.reload()},d=async()=>{var I,k,w,C;if(((I=u.current)==null?void 0:I.value)==null||((k=u.current)==null?void 0:k.value)==null||((w=u.current)==null?void 0:w.value)=="")return v("Fell the reason.");let n={id:f,status:"5",rejectReason:(C=u.current)==null?void 0:C.value},m=await N.post(`${y}/api/update-invite`,n);if(m.data.staus==!1)return v(m.data.message);u.current.value=="",p(!1),window.location.reload()};return(0,s.useEffect)(()=>{x()},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${b?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Accept"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("p",{className:"text-center font-medium text-gray-800",children:"Are you sure you want to accept this?"}),i==""||i==null||i==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:i}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{a(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(h,{className:"mx-2",icon:A}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:o,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(h,{className:"mx-2",icon:R}),"Accept"]})]})]})}),(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${l?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Reject"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("input",{ref:u,type:"text",className:"w-full bg-gray-200 rounded-lg  px-2 py-1 my-2 outline-none",placeholder:"Enter the reason of rejection."}),i==""||i==null||i==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:i}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{p(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(h,{className:"mx-2",icon:A}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:d,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(h,{className:"mx-2",icon:R}),"Reject"]})]})]})}),(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-white",children:r.length==0?(0,e.jsx)("div",{children:"No Invite request is pending"}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md font-medium",children:"Requested Invites"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-6",children:r.map((n,m)=>(0,e.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-lg",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:n.influencer.pic,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md object-center object-cover"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:n.influencer.name}),(0,e.jsx)("p",{className:"text-sm font-medium",children:n.influencer.email})]})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Message"}),(0,e.jsx)("p",{className:"text-sm font-medium",children:n.inviteMessage}),(0,e.jsxs)("div",{className:"flex gap-4 mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{g(n.id),a(!0)},className:"bg-white  text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(h,{className:"mx-2",icon:R}),"Accept"]}),(0,e.jsxs)("button",{onClick:()=>{g(n.id),p(!0)},className:"bg-white  text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(h,{className:"mx-2",icon:A}),"Reject"]})]}),(0,e.jsx)("div",{})]},m))})]})})]})},Z=t=>{let[r,c]=(0,s.useState)([]),[b,a]=(0,s.useState)(!1),[l,p]=(0,s.useState)(!1),[i,v]=(0,s.useState)(null),u=(0,s.useRef)(null),[f,g]=(0,s.useState)(null),x=async()=>{let n={search:{status:"1",campaign:t.campaingid,toUser:t.userId}},m=await N.post(`${y}/api/search-draft`,n);m.data.status==!0&&c(m.data.data)},o=async()=>{let n={id:f,status:"3"},m=await N.post(`${y}/api/update-draft`,n);if(m.data.staus==!1)return v(m.data.message);a(!1),window.location.reload()},d=async()=>{var I,k,w,C;if(((I=u.current)==null?void 0:I.value)==null||((k=u.current)==null?void 0:k.value)==null||((w=u.current)==null?void 0:w.value)=="")return v("Fell the reason.");let n={id:f,status:"5",rejectReason:(C=u.current)==null?void 0:C.value},m=await N.post(`${y}/api/update-draft`,n);if(m.data.staus==!1)return v(m.data.message);u.current.value=="",p(!1),window.location.reload()};return(0,s.useEffect)(()=>{x()},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${b?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Accept"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("p",{className:"text-center font-medium text-gray-800",children:"Are you sure you want to accept this draft?"}),i==""||i==null||i==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:i}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{a(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(h,{className:"mx-2",icon:A}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:o,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(h,{className:"mx-2",icon:R}),"Accept"]})]})]})}),(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${l?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Reject"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("input",{ref:u,type:"text",className:"w-full bg-gray-200 rounded-lg  px-2 py-1 my-2 outline-none",placeholder:"Enter the reason of rejection."}),i==""||i==null||i==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:i}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{p(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(h,{className:"mx-2",icon:A}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:d,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(h,{className:"mx-2",icon:R}),"Reject"]})]})]})}),(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-white",children:r.length==0?(0,e.jsx)("div",{children:"No draft request is pending"}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md font-medium",children:"Requested drafts"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-6",children:r.map((n,m)=>(0,e.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-lg",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:n.influencer.pic,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md object-center object-cover"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:n.influencer.name.split("@")[0]}),(0,e.jsx)("p",{className:"text-sm font-medium",children:n.influencer.email})]})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Description"}),(0,e.jsx)("p",{className:"text-sm font-medium",children:n.description}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Attachment"}),(0,e.jsx)("a",{target:"_blank",className:"mt-2 text-sm font-normal border-2 border-blue-500 inline-block my-2 py-1 px-4  text-blue-500 hover:text-white hover:bg-blue-500",href:n.attach01,children:"View pdf"}),(0,e.jsxs)("div",{className:"flex gap-4 mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{g(n.id),a(!0)},className:"bg-white  text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(h,{className:"mx-2",icon:R}),"Accept"]}),(0,e.jsxs)("button",{onClick:()=>{g(n.id),p(!0)},className:"bg-white  text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(h,{className:"mx-2",icon:A}),"Reject"]})]}),(0,e.jsx)("div",{})]},m))})]})})]})},ee=t=>{let[r,c]=(0,s.useState)(!1),b=()=>c(!0),a=()=>c(!1),[l,p]=(0,s.useState)(null),i=(0,s.useRef)(null),v=async()=>{var g,x,o,d;if(((g=i.current)==null?void 0:g.value)==null||((x=i.current)==null?void 0:x.value)==null||((o=i.current)==null?void 0:o.value)=="")return p("Message can't be blank");let u={campaignId:t.champaignId,influencerId:t.influencerId,fromUserId:t.fromuserId,toUserId:t.touserId,inviteMessage:(d=i.current)==null?void 0:d.value},f=await N.post(`${y}/api/add-invite`,u);f.data.status==!1?p(f.data.message):(i.current.value="",a()),window.location.reload()};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"p-4 rounded-xl shadow-xl bg-primary",children:[(0,e.jsx)("h1",{className:"text-white text-xl text-left font-normal",children:"Your request has been rejected.."}),(0,e.jsxs)("p",{className:"text-white font-normal text-md",children:["Reason : ",t.reason]}),(0,e.jsx)("div",{className:"w-full grid place-items-center",onClick:b,children:(0,e.jsx)(E,{text:"Apply again!",textColor:"text-white",background:"bg-secondary"})})]}),(0,e.jsx)("div",{className:`w-full h-screen bg-gray-500 fixed top-0 left-0 bg-opacity-30 grid place-items-center ${r?"fixed":"hidden"} `,children:(0,e.jsxs)("div",{className:"p-6 bg-white rounded-xl shadow-xl w-96",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:a,children:(0,e.jsx)(h,{icon:L,className:"font-bold text-2xl text-center text-primary"})})]}),(0,e.jsx)("h1",{className:"text-primary text-lg font-bold text-left",children:"Connect"}),(0,e.jsx)("p",{className:"text-lg font-normal",children:"Subject : Aplay for campaign"}),(0,e.jsx)("textarea",{ref:i,className:"p-4 w-full h-40 outline-none border-2 bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none mt-4",placeholder:"message"}),l==""||l==null||l==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:l}),(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:v,children:(0,e.jsx)(E,{text:"send",background:"bg-primary",textColor:"text-white"})})]})]})})]})},te=t=>{let r=(0,s.useRef)(null),c=(0,s.useRef)(null),b=(0,s.useRef)(null),[a,l]=(0,s.useState)(),[p,i]=(0,s.useState)(null),[v,u]=(0,s.useState)(!1),[f,g]=(0,s.useState)(null);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("p",{className:"text-md text-primary font-semibold py-1",children:"Campaign draft"}),(0,e.jsx)("div",{className:"w-full h-[1px] bg-slate-300"}),v?(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"p-4 bg-white mt-2 rounded-md",children:[(0,e.jsx)("p",{className:"text-sm text-normal font-semibold py-1 text-primary",children:"Create campaign draft"}),(0,e.jsx)("div",{className:"flex gap-2 mt-2 overflow-x-scroll no-scrollbar py-4",children:t.platforms.map((x,o)=>(0,e.jsx)("div",{className:`shrink-0  p-2 rounded-lg ${p==x.id?"bg-white shadow-xl ":"bg-gray-200"} `,onClick:()=>{i(x.id)},children:(0,e.jsx)("img",{src:t.platforms[o].platformLogoUrl,alt:"error",className:"w-10 h-10 object-center object-cover"})},o))}),(0,e.jsxs)("div",{className:"bg-[#EEEEEE] w-full h-10 rounded-lg flex items-center pl-4",children:[(0,e.jsx)("h3",{className:"text-black font-semibold  text-md",children:a==null?"":a.name}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{className:"grid place-items-center px-4 bg-gray-300 rounded-lg cursor-pointer h-full",onClick:()=>{c.current.click()},children:(0,e.jsx)(h,{icon:B})})]}),(0,e.jsx)("div",{className:"hidden",children:(0,e.jsx)("input",{ref:c,type:"file",accept:"application/pdf",onChange:x=>{parseInt((x.target.files[0].size/1024/1024).toString())<2?(g(null),l(x.target.files[0])):g("Pdf file size must be less then 4 mb")}})}),(0,e.jsx)("input",{type:"date",ref:r,className:"bg-[#EEEEEE] outline-none border-none rounded-lg focus:border-gray-300 mt-4 w-full p-2"}),(0,e.jsx)("textarea",{ref:b,className:"focus:border-none focus:outline-none mt-4 p-4 w-full h-20 outline-none border-2 bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none",placeholder:"description..."}),f==""||f==null||f==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:f}),(0,e.jsx)("button",{onClick:async()=>{var o,d,n,m,I,k,w,C;p==null||p==null||p==0||p==""?g("Select the platform."):a==null||a==null?g("Select the pdf file."):((o=r.current)==null?void 0:o.value)==null||((d=r.current)==null?void 0:d.value)==null||((n=r.current)==null?void 0:n.value)==""?g("Select the date."):(((m=b.current)==null?void 0:m.value)==null||((I=b.current)==null?void 0:I.value)==null||((k=b.current)==null?void 0:k.value)=="")&&g("Write the description.");let x=await M(a);if(x.status){let q={campaignId:t.champaingId,influencerId:t.influencerId,handleId:p,publishAt:(w=r.current)==null?void 0:w.value,attach01:x.data,description:(C=b.current)==null?void 0:C.value},$=await N({method:"post",url:`${y}/api/add-draft`,data:q});return $.data.status==!1?g($.data.message):(g(null),u(!1))}else g(x.data)},className:"text-white bg-primary rounded-lg w-full text-center py-2 font-semibold text-md mt-2",children:"Submit"})]})}):(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"p-4 bg-white mt-2 rounded-md",children:[(0,e.jsx)("p",{className:"text-sm text-normal font-semibold py-1 text-primary",children:"Create campaign draft"}),(0,e.jsx)("button",{onClick:()=>{u(!0)},className:"text-white bg-primary rounded-lg w-full text-center py-2 font-semibold text-md mt-2",children:"Create"})]})})]})},ae=t=>{let[r,c]=(0,s.useState)([]),b=async()=>{let a={search:{campaign:t.campaingid}},l=await N.post(`${y}/api/get-req-pay`,a);l.data.status==!0&&c(l.data.data)};return(0,s.useEffect)(()=>{b()},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-white",children:r.length==0?(0,e.jsx)("div",{children:"No Invite request is pending"}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md font-medium",children:"Requested Invites"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-6",children:r.map((a,l)=>(0,e.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-lg",children:[(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Requested by"}),(0,e.jsx)("div",{className:"w-full h-[2px] bg-gray-700"}),(0,e.jsxs)("div",{className:"flex mt-4",children:[(0,e.jsx)("img",{src:a.influencer.pic,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md object-center object-cover"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:a.influencer.name.split("@")[0]}),(0,e.jsx)("p",{className:"text-sm font-medium",children:a.influencer.email})]})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Ammount"}),(0,e.jsxs)("p",{className:"text-sm font-medium",children:[a.amount," ",t.currency]})]},l))})]})})})},ne=t=>{let[r,c]=(0,s.useState)([]),b=async()=>{let a={search:{fromUser:t.userId,campaign:t.campaingid,influencer:t.userId}},l=await N.post(`${y}/api/search-draft`,a);l.data.status==!0&&c(l.data.data)};return(0,s.useEffect)(()=>{b()},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-white my-4",children:r.length==0?(0,e.jsx)("div",{children:"You haven't created any drafts yet."}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md font-medium",children:"User Created draft"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-6",children:r.map((a,l)=>(0,e.jsxs)("div",{className:"my-2 p-4 bg-white rounded-lg shadow-lg",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:a.influencer.pic,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md object-center object-cover"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:a.influencer.name.split("@")[0]}),(0,e.jsx)("p",{className:"text-sm font-medium",children:a.influencer.email})]})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Description"}),(0,e.jsx)("p",{className:"text-sm font-medium",children:a.description}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Attachment"}),(0,e.jsx)("a",{target:"_blank",className:"mt-2 text-sm font-normal border-2 border-blue-500 inline-block my-2 py-1 px-4  text-blue-500 hover:text-white hover:bg-blue-500",href:a.attach01,children:"View pdf"}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Status"}),(0,e.jsx)("p",{className:`mt-2 text-md text-white font-medium text-center rounded-md ${a.status.name=="ACCEPTED"?"bg-green-500":a.status.name=="PENDING"?"bg-yellow-500":"bg-red-500"}`,children:a.status.name})]},l))})]})})})},se=t=>{let[r,c]=(0,s.useState)([]),[b,a]=(0,s.useState)([]),[l,p]=(0,s.useState)([]),[i,v]=(0,s.useState)(Array(r.length).fill("")),u=async()=>{let o={search:{fromUser:t.userId,campaign:t.campaingid,influencer:t.userId,status:3}},d=await N.post(`${y}/api/search-draft`,o);d.data.status==!0&&c(d.data.data),a(Array(d.data.data.length).fill(!1)),p(Array(d.data.data.length).fill("")),v(Array(d.data.data.length).fill(""))},f=(o,d)=>{let n=[...b];n[d]=o,a(n)},g=async o=>{let d=i[o];if(d==null||d==null||d==""){let n=[...l];n[o]="Please enter the link",p(n)}else{let n=await N.post(`${y}/api/update-draft`,{id:r[o].id,linkCampaign:d});if(n.data.status)window.location.reload();else{let m=[...l];m[o]=n.data.message,p(m)}}},x=(o,d)=>{let n=[...i];n[o]=d,v(n)};return(0,s.useEffect)(()=>{u()},[]),(0,e.jsxs)(e.Fragment,{children:[r.length==0?(0,e.jsx)("div",{className:"bg-white rounded-md p-4 mt-2",children:(0,e.jsx)("h1",{className:"text-center font-semibold text-lg",children:"NO Draft are created"})}):null,r.map((o,d)=>(0,e.jsxs)("div",{className:"bg-white rounded-md p-4 mt-2",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:o.handle.platform.logo,alt:"error",className:"h-10 w-10 shrink-0"}),(0,e.jsx)("div",{className:"ml-4",children:(0,e.jsx)("p",{className:"text-primary text-sm font-semibold text-left",children:o.handle.name})})]}),o.linkCampaign==null||o.linkCampaign==""||o.linkCampaign==null?b[d]?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("input",{type:"text",placeholder:"Enter the link",className:"w-full outline-none fill-none bg-transparent py-1 px-4 rounded-md border-2 border-gray-400 mt-4",value:i[d],onChange:n=>x(d,n.target.value)}),l[d]==""||l[d]==null||l[d]==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-2",children:l[d]}),(0,e.jsx)("button",{onClick:async()=>{await g(d)},className:"mt-4 text-md w-full text-black font-semibold bg-[#fbca8e] rounded-md shadow-lg py-1",children:"Link"})]}):(0,e.jsx)("button",{className:"mt-4 text-md w-full text-black font-semibold bg-[#fbca8e] rounded-md shadow-lg py-1",onClick:()=>f(!0,d),children:"Link campaign"}):(0,e.jsx)(F,{to:`/home/paymentreq/${t.brandId}/${t.campaingid}/${o.id}/${t.cpp}`,className:"text-center inline-block mt-4 text-md w-full text-black font-semibold bg-[#fbca8e] rounded-md shadow-lg py-1",onClick:()=>f(!0,d),children:"View insight"})]},d))]})};export{_ as default};
