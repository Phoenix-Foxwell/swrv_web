import{b as X,c as Y,d as J}from"/build/_shared/chunk-PPASGPW2.js";import"/build/_shared/chunk-AJSSHKA4.js";import"/build/_shared/chunk-D7NQIJNF.js";import{a as j}from"/build/_shared/chunk-BC5I37BB.js";import{a as _,b as V}from"/build/_shared/chunk-TESZP6OE.js";import{a as N,b as w}from"/build/_shared/chunk-UNEBNKOC.js";import{E as z,G as L,J as k,P as T,X as I,a as v}from"/build/_shared/chunk-LBP4PHVR.js";import{h as H,l as F}from"/build/_shared/chunk-CFMSPZYJ.js";import{c as B,e as Z,f as O}from"/build/_shared/chunk-ZZL6GC2B.js";var a=B(Z());var e=B(O());var ee=()=>{let t=F().campaign,o=F().user,m=o.role.code!=10,x=F(),[i,c]=(0,a.useState)({rowCount:0,constCount:3,rate:0}),r=o.id,d=t.brand==null||t.brand.length==0||t.brand==null||t.brand==""||t.brand.logo==""||t.brand.logo==null||t.brand.logo=="0"||t.brand.logo==null?"/images/avatar/user.png":t.brand.logo,h=t.brand.name,[f,b]=(0,a.useState)(""),[l,p]=(0,a.useState)(0),[u,n]=(0,a.useState)([]),[s,g]=(0,a.useState)(0),[A,C]=(0,a.useState)(0),[y,E]=(0,a.useState)(null),$=async()=>{b(await V(t.campaignTypeId));let D={search:{campaign:t.id,influencer:r,fromUser:r}},q=await N.post(`${w}/api/search-invite`,D);q.data.status==!0?(q.data.data[0].status.code=="1"&&p(1),q.data.data[0].status.code=="3"&&p(2),q.data.data[0].status.code=="5"&&p(3),n(q.data.data)):p(0);let K=await N.post(`${w}/api/get-brand-connection`,{brandId:t.brand.id});q.data.status?g(K.data.data.influencer_count):g(0);let M=await N.post(`${w}/api/get-brand-com-cam`,{brandId:t.brand.id});M.data.status?C(M.data.data.completed_campaign):C(0);let Q={search:{type:"3",brand:t.brand.id}},P=await N({method:"post",url:`${w}/api/search-review`,data:Q}),S=0;for(let R=0;R<P.data.data.length;R++)S+=parseInt(P.data.data[R].rating1)+parseInt(P.data.data[R].rating2)+parseInt(P.data.data[R].rating3);c(R=>({rowCount:P.data.data.length,rate:S,constCount:3}));let U=await N.post(`${w}/api/get-approved-bid`,{campaignId:t.id});U.data.status&&E(R=>U.data.data[0])};return(0,a.useEffect)(()=>{$()},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"grid gap-y-4 lg:gap-4 grid-cols-1 lg:grid-cols-7 mt-4 justify-start align-top content-start place-items-start place-content-start",children:[(0,e.jsx)(ae,{logo:d,name:h,website:t.brand.website,info:t.brand.info,rate:isNaN(Math.round(i.rate/i.rowCount/i.constCount))?"0":Math.round(i.rate/i.rowCount/i.constCount).toString(),connection:s.toString(),completed:A.toString()}),(0,e.jsx)(ne,{title:t.campaignName,dont:t.donts,dos:t.dos,hastag:t.hashtags,mendtion:t.mentions,platform:t.platforms,moddboard:t.moodBoards,info:t.campaignInfo,name:h,image:d,website:t.brand.website,category:f}),(0,e.jsxs)("div",{className:"lg:col-start-6 lg:col-end-8 grid gap-y-4 w-full",children:[(0,e.jsx)(de,{currecny:t.currency.code,costperpost:t.costPerPost,totalbudget:t.totalBudget.split(".")[0]}),(0,e.jsx)(se,{audienceloaction:t.audienceLocations,minreach:t.minReach,maxreach:t.maxReach,startdate:t.startAt,enddate:t.endAt}),m?null:(0,e.jsxs)(e.Fragment,{children:[l==0?(0,e.jsx)(re,{champaignId:t.id,touserId:t.brandUserId,userId:r,influencerId:r,fromuserId:r}):null,l==1?(0,e.jsx)(oe,{}):null,l==3?(0,e.jsx)(ce,{reason:u[0].status.message,champaignId:t.id,touserId:t.brandUserId,userId:r,influencerId:r,fromuserId:r}):null]})]})]}),l==2?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"flex gap-6 flex-col lg:flex-row mt-8 flex-wrap justify-evenly",children:t.campaignTypeId!="6"?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"shrink-0 w-96",children:(0,e.jsx)(W,{influencerId:r,champaingId:t.id,platforms:x.platform})}),(0,e.jsxs)("div",{className:"w-96 shrink-0",children:[(0,e.jsx)("p",{className:"text-md text-primary font-semibold py-1",children:"Live campaigns"}),(0,e.jsx)("div",{className:"w-full h-[1px] bg-slate-300"}),(0,e.jsx)("div",{children:(0,e.jsx)(G,{userId:r,campaingid:t.id,brandId:t.brand.id,cpp:t.costPerPost})})]})]}):(0,e.jsx)("div",{className:" shrink-0",children:y==null||y==null?(0,e.jsx)(pe,{CostPerPost:t.costPerPost,userId:r,campaignId:t.id,brandId:t.brand.id}):y.userId==r?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"shrink-0 w-96",children:(0,e.jsx)(W,{influencerId:r,champaingId:t.id,platforms:x.platform})}),(0,e.jsxs)("div",{className:"w-96 shrink-0",children:[(0,e.jsx)("p",{className:"text-md text-primary font-semibold py-1",children:"Live campaigns"}),(0,e.jsx)("div",{className:"w-full h-[1px] bg-slate-300"}),(0,e.jsx)("div",{children:(0,e.jsx)(G,{userId:r,campaingid:t.id,brandId:t.brand.id,cpp:t.costPerPost})})]})]}):(0,e.jsx)("div",{className:"w-full bg-rose-500 py-4 px-10 text-white font-semibold text-2xl rounded-lg",children:"Your bid is not acpected"})})}),(0,e.jsx)(ue,{userId:r,campaingid:t.id})]}):null,(0,e.jsx)("div",{className:"my-6",children:m?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ie,{userId:r,campaingid:t.id}),(0,e.jsx)("div",{className:"h-4"}),(0,e.jsx)(le,{userId:r,campaingid:t.id}),(0,e.jsx)("div",{className:"h-4"}),(0,e.jsx)(me,{userid:o.id,campaingid:t.id,currency:o.currency.code}),t.campaignTypeId=="6"?(0,e.jsx)(ge,{userid:o.id,campaingid:t.id}):null]}):null})]})},te=ee,ae=t=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"col-span-2 rounded-xl shadow-xl bg-white p-4 w-full",children:[(0,e.jsxs)("div",{className:"flex items-end gap-x-3",children:[(0,e.jsx)("div",{children:(0,e.jsx)("img",{src:t.logo,alt:"brand logo",className:"object-cover w-16 h-16 rounded object-center"})}),(0,e.jsx)("p",{className:"text-black font-semibold text-xl content-end text-left",children:t.name})]}),(0,e.jsx)("p",{className:"text-black font-semibold text-xs text-left mt-2",children:"Category : Consumer Electronics"}),(0,e.jsx)("p",{className:"text-black font-semibold text-xs text-left",children:t.website}),(0,e.jsx)("h3",{className:"text-black font-bold text-md text-left",children:"Brand info"}),(0,e.jsx)("p",{className:"text-black font-semibold text-xs text-left",children:t.info}),(0,e.jsx)("div",{className:"h-4"}),(0,e.jsx)(X,{rate:t.rate}),(0,e.jsx)("div",{className:"h-4"}),(0,e.jsx)(Y,{connection:t.connection}),(0,e.jsx)("div",{className:"h-4"}),(0,e.jsx)(J,{completed:t.completed})]})}),ne=t=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"col-span-3 rounded-xl shadow-xl bg-white p-4 w-full",children:[(0,e.jsxs)("div",{className:"flex items-end gap-x-3",children:[(0,e.jsx)("div",{children:(0,e.jsx)("img",{src:t.image,alt:"error",className:"object-cover w-16 h-16 rounded object-center"})}),(0,e.jsx)("p",{className:"text-black font-semibold text-xl content-end text-left",children:t.name})]}),(0,e.jsx)("p",{className:"text-black font-semibold text-xl text-left my-4",children:t.title}),(0,e.jsxs)("p",{className:"text-black font-semibold text-xs text-left mt-4",children:["Category : ",t.category]}),(0,e.jsx)("p",{className:"text-black font-semibold text-xs text-left",children:t.website}),(0,e.jsx)("h3",{className:"text-black font-bold text-md text-left",children:"Campaign info"}),(0,e.jsx)("p",{className:"text-black font-semibold text-xs text-left",children:t.info}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-black text-left text-md font-medium mt-2",children:"Moodboard"}),(0,e.jsx)("div",{className:"flex gap-x-4 overflow-x-scroll no-scrollbar",children:t.moddboard.map((o,m)=>(0,e.jsx)("div",{className:"shrink-0",children:(0,e.jsx)("img",{src:o.url,alt:"error",className:"h-14 w-14 object-cover rounded-md object-center"})},m))})]}),(0,e.jsx)("p",{className:"text-black text-left text-md font-medium mt-2",children:"Platforms"}),(0,e.jsx)("div",{className:"flex items-center w-32 overflow-x-scroll no-scrollbar",children:t.platform.map((o,m)=>(0,e.jsx)("div",{className:"p-1 shrink-0 mx-1 ",children:(0,e.jsx)("img",{src:o.platformLogoUrl,alt:"error",className:"rounded-lg w-8 h-8 object-center object-cover"})},m))}),(0,e.jsxs)("div",{className:"bg-gray-200  rounded-md py-2 flex justify-around w-72 mt-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm font-semibold",children:"Do's"}),t.dos.split(",").map((o,m)=>(0,e.jsx)("p",{className:"text-md font-normal",children:o},m))]}),(0,e.jsx)("div",{className:"h-10 w-[1px] bg-slate-900"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm font-semibold",children:"Dont's"}),t.dont.split(",").map((o,m)=>(0,e.jsx)("p",{className:"text-md font-normal",children:o},m))]})]}),(0,e.jsx)("p",{className:"text-sm font-semibold mt-4",children:"Hashtags"}),(0,e.jsx)("div",{className:"flex flex-nowrap gap-2 my-4",children:t.hastag.split(",").map((o,m)=>(0,e.jsxs)("p",{className:"text-md font-normal rounded-md bg-gray-300 py-1 px-4",children:["#",o]},m))}),(0,e.jsx)("p",{className:"text-sm font-semibold mt-4",children:"Mentions"}),(0,e.jsx)("div",{className:"flex flex-nowrap gap-2 my-4",children:t.mendtion.split(",").map((o,m)=>(0,e.jsxs)("p",{className:"text-md font-normal rounded-md bg-gray-300 py-1 px-4",children:["@",o]},m))})]})}),se=t=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"rounded-xl shadow-xl bg-white p-4 w-full",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)(v,{icon:L,className:"text-xl text-primary"}),(0,e.jsx)("h2",{className:"text-xl text-primary font-medium px-4",children:"Target"})]}),(0,e.jsx)("div",{className:"h-[1px] bg-gray-500 w-full my-2"}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Audience Location"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-primary",children:t.audienceloaction})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Min Reach"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-black",children:t.minreach})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Max Reach"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-black",children:t.maxreach})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Start Date"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-black",children:t.startdate.toString().split(" ")[0]})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"End date"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-black",children:t.enddate.toString().split(" ")[0]})]})]})}),re=t=>{let[o,m]=(0,a.useState)(!1),x=()=>m(!0),i=()=>m(!1),[c,r]=(0,a.useState)(null),d=(0,a.useRef)(null),h=async()=>{var l,p,u,n;if(((l=d.current)==null?void 0:l.value)==null||((p=d.current)==null?void 0:p.value)==null||((u=d.current)==null?void 0:u.value)=="")return r("Message can't be blank");let f={campaignId:t.champaignId,influencerId:t.influencerId,fromUserId:t.fromuserId,toUserId:t.touserId,inviteMessage:(n=d.current)==null?void 0:n.value},b=await N.post(`${w}/api/add-invite`,f);b.data.status==!1?r(b.data.message):(d.current.value="",i()),window.location.reload()};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"p-4 rounded-xl shadow-xl bg-primary",children:[(0,e.jsx)("h1",{className:"text-white text-xl text-left font-normal",children:"Would you like to participate in this campaign?"}),(0,e.jsx)("div",{className:"w-full grid place-items-center",onClick:x,children:(0,e.jsx)(j,{text:"Apply",textColor:"text-white",background:"bg-secondary"})})]}),(0,e.jsx)("div",{className:`w-full h-screen bg-gray-500 fixed top-0 left-0 bg-opacity-30 grid place-items-center ${o?"fixed":"hidden"} `,children:(0,e.jsxs)("div",{className:"p-6 bg-white rounded-xl shadow-xl w-96",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:i,children:(0,e.jsx)(v,{icon:T,className:"font-bold text-2xl text-center text-primary"})})]}),(0,e.jsx)("h1",{className:"text-primary text-lg font-bold text-left",children:"Connect"}),(0,e.jsx)("p",{className:"text-lg font-normal",children:"Subject : Apply for campaign"}),(0,e.jsx)("textarea",{ref:d,className:"p-4 w-full h-40 outline-none border-2 bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none mt-4",placeholder:"message"}),c==""||c==null||c==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:c}),(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:h,children:(0,e.jsx)(j,{text:"send",background:"bg-primary",textColor:"text-white"})})]})]})})]})},de=t=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"rounded-xl shadow-xl bg-white p-4 w-full",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)(v,{icon:L,className:"text-xl text-primary"}),(0,e.jsx)("h2",{className:"text-xl text-primary font-medium px-4",children:"Budget"})]}),(0,e.jsx)("div",{className:"h-[1px] bg-gray-500 w-full my-2 "}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Cost per post"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("p",{className:"text-md font-bold text-primary",children:[t.costperpost.toString().split(".")[0]," ",t.currecny]})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Total budget"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("p",{className:"text-md font-bold text-black",children:[t.totalbudget," ",t.currecny]})]})]})}),oe=()=>(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-primary",children:(0,e.jsx)("h1",{className:"text-white text-xl text-left font-normal",children:"Your request in progress.."})})}),ie=t=>{let[o,m]=(0,a.useState)([]),[x,i]=(0,a.useState)(!1),[c,r]=(0,a.useState)(!1),[d,h]=(0,a.useState)(null),f=(0,a.useRef)(null),[b,l]=(0,a.useState)(null),p=async()=>{let s={search:{status:"1",campaign:t.campaingid}},g=await N.post(`${w}/api/search-invite`,s);g.data.status==!0&&m(g.data.data)},u=async()=>{let s={id:b,status:"3"},g=await N.post(`${w}/api/update-invite`,s);if(g.data.staus==!1)return h(g.data.message);i(!1),window.location.reload()},n=async()=>{var A,C,y,E;if(((A=f.current)==null?void 0:A.value)==null||((C=f.current)==null?void 0:C.value)==null||((y=f.current)==null?void 0:y.value)=="")return h("Fell the reason.");let s={id:b,status:"5",rejectReason:(E=f.current)==null?void 0:E.value},g=await N.post(`${w}/api/update-invite`,s);if(g.data.staus==!1)return h(g.data.message);f.current.value=="",r(!1),window.location.reload()};return(0,a.useEffect)(()=>{p()},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${x?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Accept"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("p",{className:"text-center font-medium text-gray-800",children:"Are you sure you want to accept this?"}),d==""||d==null||d==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:d}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{i(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:k}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:u,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:I}),"Accept"]})]})]})}),(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${c?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Reject"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("input",{ref:f,type:"text",className:"w-full bg-gray-200 rounded-lg  px-2 py-1 my-2 outline-none",placeholder:"Enter the reason of rejection."}),d==""||d==null||d==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:d}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{r(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:k}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:n,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:I}),"Reject"]})]})]})}),(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-white",children:o.length==0?(0,e.jsx)("div",{children:"No Invite request is pending"}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md font-medium",children:"Requested Invites"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-6",children:o.map((s,g)=>(0,e.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-lg",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:s.influencer.pic,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md object-center object-cover"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:s.influencer.name.toString().split("@")[0]}),(0,e.jsx)("p",{className:"text-sm font-medium",children:s.influencer.email})]})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Message"}),(0,e.jsx)("p",{className:"text-sm font-medium",children:s.inviteMessage}),(0,e.jsxs)("div",{className:"flex gap-4 mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{l(s.id),i(!0)},className:"bg-white  text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:I}),"Accept"]}),(0,e.jsxs)("button",{onClick:()=>{l(s.id),r(!0)},className:"bg-white  text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:k}),"Reject"]})]}),(0,e.jsx)("div",{})]},g))})]})})]})},le=t=>{let[o,m]=(0,a.useState)([]),[x,i]=(0,a.useState)(!1),[c,r]=(0,a.useState)(!1),[d,h]=(0,a.useState)(null),f=(0,a.useRef)(null),[b,l]=(0,a.useState)(null),p=async()=>{let s={search:{status:"1",campaign:t.campaingid,toUser:t.userId}},g=await N.post(`${w}/api/search-draft`,s);g.data.status==!0&&m(g.data.data)},u=async()=>{let s={id:b,status:"3"},g=await N.post(`${w}/api/update-draft`,s);if(g.data.staus==!1)return h(g.data.message);i(!1),window.location.reload()},n=async()=>{var A,C,y,E;if(((A=f.current)==null?void 0:A.value)==null||((C=f.current)==null?void 0:C.value)==null||((y=f.current)==null?void 0:y.value)=="")return h("Fell the reason.");let s={id:b,status:"5",rejectReason:(E=f.current)==null?void 0:E.value},g=await N.post(`${w}/api/update-draft`,s);if(g.data.staus==!1)return h(g.data.message);f.current.value=="",r(!1),window.location.reload()};return(0,a.useEffect)(()=>{p()},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${x?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Accept"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("p",{className:"text-center font-medium text-gray-800",children:"Are you sure you want to accept this draft?"}),d==""||d==null||d==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:d}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{i(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:k}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:u,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:I}),"Accept"]})]})]})}),(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${c?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Reject"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("input",{ref:f,type:"text",className:"w-full bg-gray-200 rounded-lg  px-2 py-1 my-2 outline-none",placeholder:"Enter the reason of rejection."}),d==""||d==null||d==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:d}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{r(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:k}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:n,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:I}),"Reject"]})]})]})}),(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-white",children:o.length==0?(0,e.jsx)("div",{children:"No draft request is pending"}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md font-medium",children:"Requested drafts"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-6",children:o.map((s,g)=>(0,e.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-lg",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:s.influencer.pic,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md object-center object-cover"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:s.influencer.name.split("@")[0]}),(0,e.jsx)("p",{className:"text-sm font-medium",children:s.influencer.email})]})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Description"}),(0,e.jsx)("p",{className:"text-sm font-medium",children:s.description}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Attachment"}),(0,e.jsx)("a",{target:"_blank",className:"mt-2 text-sm font-normal border-2 border-blue-500 inline-block my-2 py-1 px-4  text-blue-500 hover:text-white hover:bg-blue-500",href:s.attach01,children:"View pdf"}),(0,e.jsxs)("div",{className:"flex gap-4 mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{l(s.id),i(!0)},className:"bg-white  text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:I}),"Accept"]}),(0,e.jsxs)("button",{onClick:()=>{l(s.id),r(!0)},className:"bg-white  text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:k}),"Reject"]})]}),(0,e.jsx)("div",{})]},g))})]})})]})},ce=t=>{let[o,m]=(0,a.useState)(!1),x=()=>m(!0),i=()=>m(!1),[c,r]=(0,a.useState)(null),d=(0,a.useRef)(null),h=async()=>{var l,p,u,n;if(((l=d.current)==null?void 0:l.value)==null||((p=d.current)==null?void 0:p.value)==null||((u=d.current)==null?void 0:u.value)=="")return r("Message can't be blank");let f={campaignId:t.champaignId,influencerId:t.influencerId,fromUserId:t.fromuserId,toUserId:t.touserId,inviteMessage:(n=d.current)==null?void 0:n.value},b=await N.post(`${w}/api/add-invite`,f);b.data.status==!1?r(b.data.message):(d.current.value="",i()),window.location.reload()};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"p-4 rounded-xl shadow-xl bg-primary",children:[(0,e.jsx)("h1",{className:"text-white text-xl text-left font-normal",children:"Your request has been rejected.."}),(0,e.jsxs)("p",{className:"text-white font-normal text-md",children:["Reason : ",t.reason]}),(0,e.jsx)("div",{className:"w-full grid place-items-center",onClick:x,children:(0,e.jsx)(j,{text:"Apply again!",textColor:"text-white",background:"bg-secondary"})})]}),(0,e.jsx)("div",{className:`w-full h-screen bg-gray-500 fixed top-0 left-0 bg-opacity-30 grid place-items-center ${o?"fixed":"hidden"} `,children:(0,e.jsxs)("div",{className:"p-6 bg-white rounded-xl shadow-xl w-96",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:i,children:(0,e.jsx)(v,{icon:T,className:"font-bold text-2xl text-center text-primary"})})]}),(0,e.jsx)("h1",{className:"text-primary text-lg font-bold text-left",children:"Connect"}),(0,e.jsx)("p",{className:"text-lg font-normal",children:"Subject : Aplay for campaign"}),(0,e.jsx)("textarea",{ref:d,className:"p-4 w-full h-40 outline-none border-2 bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none mt-4",placeholder:"message"}),c==""||c==null||c==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:c}),(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:h,children:(0,e.jsx)(j,{text:"send",background:"bg-primary",textColor:"text-white"})})]})]})})]})},W=t=>{let o=(0,a.useRef)(null),m=(0,a.useRef)(null),x=(0,a.useRef)(null),[i,c]=(0,a.useState)(),[r,d]=(0,a.useState)(null),[h,f]=(0,a.useState)(!1),[b,l]=(0,a.useState)(null);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("p",{className:"text-md text-primary font-semibold py-1",children:"Campaign draft"}),(0,e.jsx)("div",{className:"w-full h-[1px] bg-slate-300"}),h?(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"p-4 bg-white mt-2 rounded-md",children:[(0,e.jsx)("p",{className:"text-sm text-normal font-semibold py-1 text-primary",children:"Create campaign draft"}),(0,e.jsx)("div",{className:"flex gap-2 mt-2 overflow-x-scroll no-scrollbar py-4",children:t.platforms.map((p,u)=>(0,e.jsx)("div",{className:`shrink-0  p-2 rounded-lg ${r==p.id?"bg-white shadow-xl ":"bg-gray-200"} `,onClick:()=>{d(p.id)},children:(0,e.jsx)("img",{src:t.platforms[u].platformLogoUrl,alt:"error",className:"w-10 h-10 object-center object-cover"})},u))}),(0,e.jsxs)("div",{className:"bg-[#EEEEEE] w-full h-10 rounded-lg flex items-center pl-4",children:[(0,e.jsx)("h3",{className:"text-black font-semibold  text-md",children:i==null?"":i.name}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{className:"grid place-items-center px-4 bg-gray-300 rounded-lg cursor-pointer h-full",onClick:()=>{m.current.click()},children:(0,e.jsx)(v,{icon:z})})]}),(0,e.jsx)("div",{className:"hidden",children:(0,e.jsx)("input",{ref:m,type:"file",accept:"application/pdf",onChange:p=>{parseInt((p.target.files[0].size/1024/1024).toString())<2?(l(null),c(p.target.files[0])):l("Pdf file size must be less then 4 mb")}})}),(0,e.jsx)("input",{type:"date",ref:o,className:"bg-[#EEEEEE] outline-none border-none rounded-lg focus:border-gray-300 mt-4 w-full p-2"}),(0,e.jsx)("textarea",{ref:x,className:"focus:border-none focus:outline-none mt-4 p-4 w-full h-20 outline-none border-2 bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none",placeholder:"description..."}),b==""||b==null||b==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:b}),(0,e.jsx)("button",{onClick:async()=>{var u,n,s,g,A,C,y,E;r==null||r==null||r==0||r==""?l("Select the platform."):i==null||i==null?l("Select the pdf file."):((u=o.current)==null?void 0:u.value)==null||((n=o.current)==null?void 0:n.value)==null||((s=o.current)==null?void 0:s.value)==""?l("Select the date."):(((g=x.current)==null?void 0:g.value)==null||((A=x.current)==null?void 0:A.value)==null||((C=x.current)==null?void 0:C.value)=="")&&l("Write the description.");let p=await _(i);if(p.status){let $={campaignId:t.champaingId,influencerId:t.influencerId,handleId:r,publishAt:(y=o.current)==null?void 0:y.value,attach01:p.data,description:(E=x.current)==null?void 0:E.value},D=await N({method:"post",url:`${w}/api/add-draft`,data:$});return D.data.status==!1?l(D.data.message):(l(null),f(!1))}else l(p.data)},className:"text-white bg-primary rounded-lg w-full text-center py-2 font-semibold text-md mt-2",children:"Submit"})]})}):(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"p-4 bg-white mt-2 rounded-md",children:[(0,e.jsx)("p",{className:"text-sm text-normal font-semibold py-1 text-primary",children:"Create campaign draft"}),(0,e.jsx)("button",{onClick:()=>{f(!0)},className:"text-white bg-primary rounded-lg w-full text-center py-2 font-semibold text-md mt-2",children:"Create"})]})})]})},me=t=>{let[o,m]=(0,a.useState)([]),[x,i]=(0,a.useState)(!1),[c,r]=(0,a.useState)(!1),[d,h]=(0,a.useState)(null),[f,b]=(0,a.useState)(null),l=async()=>{let n={search:{campaign:t.campaingid}},s=await N.post(`${w}/api/get-req-pay`,n);s.data.status==!0&&m(s.data.data)};(0,a.useEffect)(()=>{l()},[]);let p=async()=>{let n={id:f,status:"2",refNo:`${new Date().toLocaleDateString()}_${t.userid}_${t.campaingid}`},s=await N.post(`${w}/api/update-payment`,n);if(s.data.staus==!1)return h(s.data.message);i(!1),window.location.reload()},u=async()=>{let n={id:f,status:"3"},s=await N.post(`${w}/api/update-payment`,n);if(s.data.staus==!1)return h(s.data.message);r(!1),window.location.reload()};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${x?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Accept"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("p",{className:"text-center font-medium text-gray-800",children:"Are you sure you want to accept this payment?"}),d==""||d==null||d==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:d}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{i(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:k}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:p,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:I}),"Accept"]})]})]})}),(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${c?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Reject"}),(0,e.jsx)("p",{className:"text-center font-medium text-gray-800",children:"Are you sure you want to reject this payment?"}),d==""||d==null||d==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:d}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{r(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:k}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:u,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:I}),"Reject"]})]})]})}),(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-white",children:o.length==0?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{children:"No payment request is pending"})}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md font-medium",children:"Requested Payment"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-6",children:o.map((n,s)=>(0,e.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-lg w-72",children:[(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Requested by"}),(0,e.jsx)("div",{className:"w-full h-[2px] bg-gray-700"}),(0,e.jsxs)("div",{className:"flex mt-4",children:[(0,e.jsx)("img",{src:n.influencer.pic,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md object-center object-cover"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:n.influencer.name.split("@")[0]}),(0,e.jsx)("p",{className:"text-sm font-medium",children:n.influencer.email})]})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Amount"}),(0,e.jsxs)("p",{className:"text-sm font-medium",children:[n.amount.toString().split(".")[0]," ",t.currency]}),parseInt(n.status.code)==2?(0,e.jsx)("p",{className:"py-1 px-4 text-center text-white bg-green-500 rounded-md my-2",children:"Acpected"}):parseInt(n.status.code)==3?(0,e.jsx)("p",{className:"py-1 px-4 text-center text-white bg-red-500 rounded-md my-2",children:"Rejected"}):(0,e.jsxs)("div",{className:"flex gap-4 mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{b(n.id),i(!0)},className:"bg-white  text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:I}),"Accept"]}),(0,e.jsxs)("button",{onClick:()=>{b(n.id),r(!0)},className:"bg-white  text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:k}),"Reject"]})]})]},s))})]})})]})},ue=t=>{let[o,m]=(0,a.useState)([]),x=async()=>{let i={search:{fromUser:t.userId,campaign:t.campaingid,influencer:t.userId}},c=await N.post(`${w}/api/search-draft`,i);c.data.status==!0&&m(c.data.data)};return(0,a.useEffect)(()=>{x()},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-white my-4",children:o.length==0?(0,e.jsx)("div",{children:"You haven't created any drafts yet."}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md font-medium",children:"User Created draft"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-6",children:o.map((i,c)=>(0,e.jsxs)("div",{className:"my-2 p-4 bg-white rounded-lg shadow-lg w-80",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:i.influencer.pic,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md object-center object-cover"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:i.influencer.name.split("@")[0]}),(0,e.jsx)("p",{className:"text-sm font-medium",children:i.influencer.email})]})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Description"}),(0,e.jsx)("p",{className:"text-sm font-medium",children:i.description}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Attachment"}),(0,e.jsx)("a",{target:"_blank",className:"mt-2 text-sm font-normal border-2 border-blue-500 inline-block my-2 py-1 px-4  text-blue-500 hover:text-white hover:bg-blue-500",href:i.attach01,children:"View pdf"}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Status"}),(0,e.jsx)("p",{className:`mt-2 text-md text-white font-medium text-center rounded-md ${i.status.name=="ACCEPTED"?"bg-green-500":i.status.name=="PENDING"?"bg-yellow-500":"bg-red-500"}`,children:i.status.name})]},c))})]})})})},G=t=>{let[o,m]=(0,a.useState)([]),[x,i]=(0,a.useState)([]),[c,r]=(0,a.useState)([]),[d,h]=(0,a.useState)(Array(o.length).fill("")),f=async()=>{let u={search:{fromUser:t.userId,campaign:t.campaingid,influencer:t.userId,status:3}},n=await N.post(`${w}/api/search-draft`,u);n.data.status==!0&&m(n.data.data),i(Array(n.data.data.length).fill(!1)),r(Array(n.data.data.length).fill("")),h(Array(n.data.data.length).fill(""))},b=(u,n)=>{let s=[...x];s[n]=u,i(s)},l=async u=>{let n=d[u];if(n==null||n==null||n==""){let s=[...c];s[u]="Please enter the link",r(s)}else{let s=await N.post(`${w}/api/update-draft`,{id:o[u].id,linkCampaign:n});if(s.data.status)window.location.reload();else{let g=[...c];g[u]=s.data.message,r(g)}}},p=(u,n)=>{let s=[...d];s[u]=n,h(s)};return(0,a.useEffect)(()=>{f()},[]),(0,e.jsxs)(e.Fragment,{children:[o.length==0?(0,e.jsx)("div",{className:"bg-white rounded-md p-4 mt-2",children:(0,e.jsx)("h1",{className:"text-center font-semibold text-lg",children:"NO Draft are created"})}):null,o.map((u,n)=>(0,e.jsxs)("div",{className:"bg-white rounded-md p-4 mt-2",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:u.handle.platform.logo,alt:"error",className:"h-10 w-10 shrink-0"}),(0,e.jsx)("div",{className:"ml-4",children:(0,e.jsx)("p",{className:"text-primary text-sm font-semibold text-left",children:u.handle.name})})]}),u.linkCampaign==null||u.linkCampaign==""||u.linkCampaign==null?x[n]?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("input",{type:"text",placeholder:"Enter the link",className:"w-full outline-none fill-none bg-transparent py-1 px-4 rounded-md border-2 border-gray-400 mt-4",value:d[n],onChange:s=>p(n,s.target.value)}),c[n]==""||c[n]==null||c[n]==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-2",children:c[n]}),(0,e.jsx)("button",{onClick:async()=>{await l(n)},className:"mt-4 text-md w-full text-black font-semibold bg-[#fbca8e] rounded-md shadow-lg py-1",children:"Link"})]}):(0,e.jsx)("button",{className:"mt-4 text-md w-full text-black font-semibold bg-[#fbca8e] rounded-md shadow-lg py-1",onClick:()=>b(!0,n),children:"Link campaign"}):(0,e.jsx)(H,{to:`/home/paymentreq/${t.brandId}/${t.campaingid}/${u.id}`,className:"text-center inline-block mt-4 text-md w-full text-black font-semibold bg-[#fbca8e] rounded-md shadow-lg py-1",onClick:()=>b(!0,n),children:"View insight"})]},n))]})},pe=t=>{let[o,m]=(0,a.useState)(""),[x,i]=(0,a.useState)(0),c=(0,a.useRef)(null),[r,d]=(0,a.useState)(0),h=l=>{d(l.target.value.replace(/\D/g,""))},f=async()=>{let l=await N({method:"post",url:`${w}/api/get-campaign-last-bid`,data:{campaignId:t.campaignId}});l.data.status==!1?i(0):i(l.data.data[0].bidamount)};(0,a.useEffect)(()=>{f()},[]);let b=async()=>{var l,p,u,n;if(r==null||r==null)m("Fill the Bid amount.");else if(Number(r)%100!==0)m("Bid amount must be a multiple of 100.");else if(x<Number(r))m("Bid amount must be less then current bid amount.");else if(((l=c.current)==null?void 0:l.value)==null||((p=c.current)==null?void 0:p.value)==null||((u=c.current)==null?void 0:u.value)=="")m("Fill the remark.");else{let s={brandId:t.brandId,userId:t.userId,campaignId:t.campaignId,remark:(n=c.current)==null?void 0:n.value,bidamount:Number(r)},g=await N({method:"post",url:`${w}/api/add-bid`,data:s,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});g.data.status==!1?m(g.data.message):window.location.reload()}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("p",{className:"text-md text-primary font-semibold py-1",children:"Bidding"}),(0,e.jsx)("div",{className:"w-full h-[1px] bg-slate-300"}),(0,e.jsxs)("div",{className:"p-4 bg-white mt-2 rounded-md",children:[(0,e.jsxs)("p",{className:"font-semibold text-xl  text-gray-800",children:["Starting price : ",t.CostPerPost.split(".")[0]]}),(0,e.jsxs)("p",{className:"font-semibold text-xl  text-gray-800 mt-2",children:["Current price : ",x.toString().split(".")[0]]}),(0,e.jsx)("p",{className:"font-semibold text-xl  text-gray-700 my-2",children:"Min Bid : 100"}),(0,e.jsxs)("div",{className:"flex gap-x-4",children:[(0,e.jsx)("p",{className:"font-semibold text-xl text-gray-700",children:"Enter Amount : "}),(0,e.jsx)("div",{children:(0,e.jsx)("input",{onChange:h,value:r,type:"text",maxLength:10,className:"text-black outline-none border-none rounded-md py-1 px-2 bg-[#EEEEEE] w-full"})})]}),(0,e.jsx)("textarea",{ref:c,className:"p-4 w-full h-32 outline-none border-2 bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none mt-4",placeholder:"Remark"}),o==""||o==null||o==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:o}),(0,e.jsx)("button",{onClick:b,className:"text-black bg-[#01FFF4] rounded-lg w-full text-center py-2 font-semibold text-md mt-2",children:"Bid Now"})]})]})},ge=t=>{let[o,m]=(0,a.useState)([]),[x,i]=(0,a.useState)(!1),[c,r]=(0,a.useState)(null),[d,h]=(0,a.useState)(null),f=async()=>{let l={campaignId:t.campaingid},p=await N.post(`${w}/api/get-campaign-bid`,l);p.data.status?m(p.data.data):r(p.data.message)};(0,a.useEffect)(()=>{f()},[]);let b=async()=>{let l={id:d},p=await N.post(`${w}/api/approve-bid`,l);if(p.data.staus==!1)return r(p.data.message);i(!1),window.location.reload()};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${x?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Accept"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("p",{className:"text-center font-medium text-gray-800",children:"Are you sure you want to accept this payment?"}),c==""||c==null||c==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:c}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{i(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:k}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:b,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:I}),"Accept"]})]})]})}),(0,e.jsxs)("div",{className:"p-4 rounded-xl shadow-xl bg-white mt-4",children:[o.length==0?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{children:"No bid request is pending"})}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md font-medium",children:"Requested Bid"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-6",children:o.map((l,p)=>(0,e.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-lg",children:[(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Requested by"}),(0,e.jsx)("div",{className:"w-full h-[2px] bg-gray-700"}),(0,e.jsxs)("div",{className:"flex mt-4",children:[(0,e.jsx)("img",{src:l.userPicUrl,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md object-center object-cover"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:l.userName.split("@")[0]}),(0,e.jsx)("p",{className:"text-sm font-medium",children:l.userEmail})]})]}),(0,e.jsx)("p",{className:"text-lg font-medium",children:"Amount"}),(0,e.jsx)("p",{className:"text-md font-semibold",children:l.bidamount}),(0,e.jsx)("p",{className:"text-lg font-medium mt-2",children:"Remark"}),(0,e.jsx)("p",{className:"text-md font-semibold",children:l.remark}),(0,e.jsx)("div",{className:"flex gap-4 mt-2",children:(0,e.jsxs)("button",{onClick:()=>{h(l.id),i(!0)},className:"bg-white  text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(v,{className:"mx-2",icon:I}),"Accept"]})})]},p))})]}),c==""||c==null||c==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:c})]})]})};export{te as default};
