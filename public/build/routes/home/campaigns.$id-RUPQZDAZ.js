import{b as Y,c as X,d as J}from"/build/_shared/chunk-NDXK36IV.js";import"/build/_shared/chunk-PBDPE27U.js";import"/build/_shared/chunk-UUYQFIW2.js";import{a as W}from"/build/_shared/chunk-JR6ZSNAI.js";import{a as D}from"/build/_shared/chunk-NJKAJ7NJ.js";import{a as z,b as G}from"/build/_shared/chunk-KJTVB6JA.js";import{E as O,G as T,J as A,Q as L,Z as I,a as y}from"/build/_shared/chunk-A6XXWJXG.js";import{h as B,l as F}from"/build/_shared/chunk-P4VL4XDR.js";import{a as h,b as v}from"/build/_shared/chunk-WLYSEPGK.js";import{e as U,g as de,h as V}from"/build/_shared/chunk-EUC6ZTEW.js";var d=U(de());var e=U(V()),ie=new W("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",{apiVersion:"2022-11-15"});var re=()=>{let t=F().campaign,i=F().user,l=i.role.code!=10,u=F(),[a,r]=(0,d.useState)({rowCount:0,constCount:3,rate:0}),n=i.id,o=t==null||t==null||t.brand==null||t.brand.length==0||t.brand==null||t.brand==""||t.brand.logo==""||t.brand.logo==null||t.brand.logo=="0"||t.brand.logo==null?"/images/avatar/user.png":t.brand.logo,f=t.brand.name,[x,N]=(0,d.useState)(""),[c,b]=(0,d.useState)(0),[g,m]=(0,d.useState)([]),[s,p]=(0,d.useState)(0),[w,k]=(0,d.useState)(0),[C,R]=(0,d.useState)(null),S=async()=>{N(await G(t.campaignTypeId));let P={search:{campaign:t.id,influencer:n}},q=await h.post(`${v}/api/search-invite`,P);q.data.status==!0?(q.data.data[0].status.code=="1"&&b(1),q.data.data[0].status.code=="3"&&b(2),q.data.data[0].status.code=="5"&&b(3),m(q.data.data)):b(0);let $=await h.post(`${v}/api/get-brand-connection`,{brandId:t.brand.id});q.data.status?p($.data.data.influencer_count):p(0);let M=await h.post(`${v}/api/get-brand-com-cam`,{brandId:t.brand.id});M.data.status?k(M.data.data.completed_campaign):k(0);let se={search:{type:"3",brand:t.brand.id}},j=await h({method:"post",url:`${v}/api/search-review`,data:se}),_=0;for(let E=0;E<j.data.data.length;E++)_+=parseInt(j.data.data[E].rating1)+parseInt(j.data.data[E].rating2)+parseInt(j.data.data[E].rating3);r(E=>({rowCount:j.data.data.length,rate:_,constCount:3}));let H=await h.post(`${v}/api/get-approved-bid`,{campaignId:t.id});H.data.status&&R(E=>H.data.data[0])};return(0,d.useEffect)(()=>{S()},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"grid gap-y-4 lg:gap-4 grid-cols-1 lg:grid-cols-7 mt-4 justify-start align-top content-start place-items-start place-content-start",children:[(0,e.jsx)(le,{logo:o,name:f,website:t.brand.website,info:t.brand.info,rate:isNaN(Math.round(a.rate/a.rowCount/a.constCount))?"0":Math.round(a.rate/a.rowCount/a.constCount).toString(),connection:s.toString(),completed:w.toString()}),(0,e.jsx)(me,{title:t.campaignName,dont:t.donts,dos:t.dos,hastag:t.hashtags,mendtion:t.mentions,platform:t.platforms,moddboard:t.moodBoards,info:t.campaignInfo,name:f,image:o,website:t.brand.website,category:x,typeid:t.campaignTypeId}),(0,e.jsxs)("div",{className:"lg:col-start-6 lg:col-end-8 grid gap-y-4 w-full",children:[(0,e.jsx)(ge,{currecny:"USD",costperpost:t.costPerPost,totalbudget:t.totalBudget.split(".")[0]}),(0,e.jsx)(ce,{audienceloaction:t.audienceLocations,minreach:t.minReach,maxreach:t.maxReach,startdate:t.startAt,enddate:t.endAt,typeid:t.campaignTypeId}),l?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(pe,{champaignId:t.id})}):(0,e.jsxs)(e.Fragment,{children:[c==0?(0,e.jsx)(ue,{champaignId:t.id,touserId:t.brandUserId,userId:n,influencerId:n,fromuserId:n,endAt:t.endAt,maxinf:t.totalParticipants}):null,c==1?(0,e.jsx)(fe,{}):null,c==3?(0,e.jsx)(he,{reason:g[0].status.message,champaignId:t.id,touserId:t.brandUserId,userId:n,influencerId:n,fromuserId:n}):null]})]})]}),c==2?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"flex gap-6 flex-col lg:flex-row mt-8 flex-wrap justify-evenly",children:t.campaignTypeId!="6"?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"shrink-0 w-96",children:(0,e.jsx)(Z,{influencerId:n,champaingId:t.id,platforms:u.platform})}),(0,e.jsxs)("div",{className:"w-96 shrink-0",children:[(0,e.jsx)("p",{className:"text-md text-primary font-semibold py-1",children:"Live campaigns"}),(0,e.jsx)("div",{className:"w-full h-[1px] bg-slate-300"}),(0,e.jsx)("div",{children:(0,e.jsx)(ae,{userId:n,campaingid:t.id,brandId:t.brand.id,cpp:t.costPerPost})})]})]}):(0,e.jsx)("div",{className:" shrink-0",children:C==null||C==null?(0,e.jsx)(Ne,{CostPerPost:t.costPerPost,userId:n,campaignId:t.id,brandId:t.brand.id}):C.userId==n?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"shrink-0 w-96",children:(0,e.jsx)(Z,{influencerId:n,champaingId:t.id,platforms:u.platform})}),(0,e.jsxs)("div",{className:"w-96 shrink-0",children:[(0,e.jsx)("p",{className:"text-md text-primary font-semibold py-1",children:"Live campaigns"}),(0,e.jsx)("div",{className:"w-full h-[1px] bg-slate-300"}),(0,e.jsx)("div",{children:(0,e.jsx)(ae,{userId:n,campaingid:t.id,brandId:t.brand.id,cpp:t.costPerPost})})]})]}):l?null:(0,e.jsx)("div",{className:"w-full bg-rose-500 py-4 px-10 text-white font-semibold text-2xl rounded-lg",children:"Your bid is not accepted"})})})}):null,(0,e.jsx)("div",{className:"my-6",children:l?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(xe,{userId:n,campaingid:t.id}),(0,e.jsx)("div",{className:"h-4"}),(0,e.jsx)(be,{userId:n,campaingid:t.id}),(0,e.jsx)("div",{className:"h-4"}),(0,e.jsx)(ve,{userid:i.id,campaingid:t.id,currency:"USD"}),t.campaignTypeId=="6"?(0,e.jsx)(ye,{userid:i.id,campaingid:t.id}):null]}):null}),(0,e.jsx)("h3",{className:"rounded-lg shadow-lg text-center font-semibold bg-white py-2 text-3xl my-4",children:"Snapshot"}),l?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(K,{userId:n,campaingid:t.id,isUser:!1}),(0,e.jsx)(Q,{userId:n,campaingid:t.id,isUser:!1}),(0,e.jsx)(te,{campaingid:t.id,brandid:n,userId:n,isUser:!1}),(0,e.jsx)(ee,{userid:i.id,campaingid:t.id,isUser:!1,currency:"USD"}),t.campaignTypeId=="6"?(0,e.jsx)(ne,{userid:i.id,campaingid:t.id,isUser:!1}):null]}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(K,{userId:n,campaingid:t.id,isUser:!0}),(0,e.jsx)(Q,{userId:n,campaingid:t.id,isUser:!1}),(0,e.jsx)(te,{campaingid:t.id,brandid:n,userId:n,isUser:!0}),(0,e.jsx)(ee,{userid:i.id,campaingid:t.id,isUser:!0,currency:"USD"}),t.campaignTypeId=="6"?(0,e.jsx)(ne,{userid:i.id,campaingid:t.id,isUser:!0}):null]})]})},oe=re,le=t=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"col-span-2 rounded-xl shadow-xl bg-white p-4 w-full",children:[(0,e.jsxs)("div",{className:"flex items-end gap-x-3",children:[(0,e.jsx)("div",{children:(0,e.jsx)("img",{src:t.logo,alt:"brand logo",className:"object-cover w-16 h-16 rounded object-center"})}),(0,e.jsx)("p",{className:"text-black font-semibold text-xl content-end text-left",children:t.name})]}),(0,e.jsx)("p",{className:"text-black font-semibold text-xs text-left mt-2",children:"Category : Consumer Electronics"}),(0,e.jsx)("p",{className:"text-black font-semibold text-xs text-left",children:t.website}),(0,e.jsx)("h3",{className:"text-black font-bold text-md text-left",children:"Brand info"}),(0,e.jsx)("p",{className:"text-black font-semibold text-xs text-left",children:t.info}),(0,e.jsx)("div",{className:"h-4"}),(0,e.jsx)(Y,{rate:t.rate}),(0,e.jsx)("div",{className:"h-4"}),(0,e.jsx)(X,{connection:t.connection}),(0,e.jsx)("div",{className:"h-4"}),(0,e.jsx)(J,{completed:t.completed})]})}),me=t=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"col-span-3 rounded-xl shadow-xl bg-white p-4 w-full",children:[(0,e.jsxs)("div",{className:"flex items-end gap-x-3",children:[(0,e.jsx)("div",{children:(0,e.jsx)("img",{src:t.image,alt:"error",className:"object-cover w-16 h-16 rounded object-center"})}),(0,e.jsx)("p",{className:"text-black font-semibold text-xl content-end text-left",children:t.name})]}),(0,e.jsx)("p",{className:"text-black font-semibold text-xl text-left my-4",children:t.title}),(0,e.jsxs)("p",{className:"text-black font-semibold text-xs text-left mt-4",children:["Category : ",t.category]}),(0,e.jsx)("p",{className:"text-black font-semibold text-xs text-left",children:t.website}),(0,e.jsx)("h3",{className:"text-black font-bold text-md text-left",children:"Campaign info"}),(0,e.jsx)("p",{className:"text-black font-semibold text-xs text-left",children:t.info}),t.typeid=="5"||t.typeid=="6"?null:(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-black text-left text-md font-medium mt-2",children:"Moodboard"}),(0,e.jsx)("div",{className:"flex gap-x-4 overflow-x-scroll no-scrollbar",children:t.moddboard.map((i,l)=>(0,e.jsx)("div",{className:"shrink-0",children:(0,e.jsx)("img",{src:i.url,alt:"error",className:"h-14 w-14 object-cover rounded-md object-center"})},l))})]}),(0,e.jsx)("p",{className:"text-black text-left text-md font-medium mt-2",children:"Platforms"}),(0,e.jsx)("div",{className:"flex items-center w-full overflow-x-scroll no-scrollbar",children:t.platform.map((i,l)=>(0,e.jsx)("div",{className:"p-1 shrink-0 mx-1 ",children:(0,e.jsx)("img",{src:i.platformLogoUrl,alt:"error",className:"rounded-lg w-8 h-8 object-center object-cover"})},l))}),t.typeid=="5"||t.typeid=="6"?null:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"bg-gray-200  rounded-md py-2 flex justify-around w-72 mt-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm font-semibold",children:"Do's"}),t.dos.split(",").map((i,l)=>(0,e.jsx)("p",{className:"text-md font-normal",children:i},l))]}),(0,e.jsx)("div",{className:"h-10 w-[1px] bg-slate-900"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm font-semibold",children:"Dont's"}),t.dont.split(",").map((i,l)=>(0,e.jsx)("p",{className:"text-md font-normal",children:i},l))]})]}),(0,e.jsx)("p",{className:"text-sm font-semibold mt-4",children:"Hashtags"}),(0,e.jsx)("div",{className:"flex flex-nowrap gap-2 my-4",children:t.hastag.split(",").map((i,l)=>(0,e.jsxs)("p",{className:"text-md font-normal rounded-md bg-gray-300 py-1 px-4",children:["#",i]},l))}),(0,e.jsx)("p",{className:"text-sm font-semibold mt-4",children:"Mentions"}),(0,e.jsx)("div",{className:"flex flex-nowrap gap-2 my-4",children:t.mendtion.split(",").map((i,l)=>(0,e.jsxs)("p",{className:"text-md font-normal rounded-md bg-gray-300 py-1 px-4",children:["@",i]},l))})]})]})}),ce=t=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"rounded-xl shadow-xl bg-white p-4 w-full",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)(y,{icon:T,className:"text-xl text-primary"}),(0,e.jsx)("h2",{className:"text-xl text-primary font-medium px-4",children:"Target"})]}),(0,e.jsx)("div",{className:"h-[1px] bg-gray-500 w-full my-2"}),t.typeid=="5"||t.typeid=="6"?null:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Audience Location"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-primary",children:t.audienceloaction})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Min Reach"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-black",children:t.minreach})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Max Reach"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-black",children:t.maxreach})]})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Start Date"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-black",children:t.startdate.toString().split(" ")[0]})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"End date"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-black",children:t.enddate.toString().split(" ")[0]})]})]})}),pe=t=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"p-4 rounded-xl shadow-xl bg-primary",children:[(0,e.jsx)("h1",{className:"text-white text-xl text-left font-normal",children:"Invite influencer to campaign?"}),(0,e.jsx)("div",{className:"w-full grid place-items-center",children:(0,e.jsx)(B,{to:`/home/createcampaign/inviteinf/${t.champaignId}`,children:(0,e.jsx)(D,{text:"Invite",textColor:"text-white",background:"bg-secondary"})})})]})}),ue=t=>{let[i,l]=(0,d.useState)(!1),u=()=>l(!1),[a,r]=(0,d.useState)(null),[n,o]=(0,d.useState)(null),f=(0,d.useRef)(null),x=async()=>{let c=0,b={search:{status:"3",campaign:t.champaignId}},g=await h.post(`${v}/api/search-invite`,b);if(g.data.status==!0&&(c=g.data.data.length),new Date>=new Date(t.endAt))return o("Campaign already ended.");if(c>t.maxinf)return o("Campaign is already full.");l(!0)},N=async()=>{var g,m,s,p;if(((g=f.current)==null?void 0:g.value)==null||((m=f.current)==null?void 0:m.value)==null||((s=f.current)==null?void 0:s.value)=="")return r("Message can't be blank");let c={campaignId:t.champaignId,influencerId:t.influencerId,fromUserId:t.fromuserId,toUserId:t.touserId,inviteMessage:(p=f.current)==null?void 0:p.value};if((await h.post(`${v}/api/search-invite`,{search:{status:"1",campaign:t.champaignId,influencer:t.userId}})).data.status)r("Invite already sent.");else{let w=await h.post(`${v}/api/add-invite`,c);w.data.status==!1?r(w.data.message):(f.current.value="",u()),window.location.reload()}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"p-4 rounded-xl shadow-xl bg-primary",children:[(0,e.jsx)("h1",{className:"text-white text-xl text-left font-normal",children:"Would you like to participate in this campaign?"}),(0,e.jsxs)("div",{className:"w-full grid place-items-center",onClick:x,children:[n==""||n==null||n==null?null:(0,e.jsx)("div",{className:"w-full py-1 bg-red-500 text-center rounded-md text-white text-md font-normal text-md my-2",children:n}),(0,e.jsx)(D,{text:"Apply",textColor:"text-white",background:"bg-secondary"})]})]}),(0,e.jsx)("div",{className:`w-full h-screen bg-gray-500 fixed top-0 left-0 bg-opacity-30 grid place-items-center ${i?"fixed":"hidden"} `,children:(0,e.jsxs)("div",{className:"p-6 bg-white rounded-xl shadow-xl w-96",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:u,children:(0,e.jsx)(y,{icon:L,className:"font-bold text-2xl text-center text-primary"})})]}),(0,e.jsx)("h1",{className:"text-primary text-lg font-bold text-left",children:"Connect"}),(0,e.jsx)("p",{className:"text-lg font-normal",children:"Subject : Apply for campaign"}),(0,e.jsx)("textarea",{ref:f,className:"p-4 w-full h-40 outline-none border-2 bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none mt-4",placeholder:"message"}),a==""||a==null||a==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:a}),(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:N,children:(0,e.jsx)(D,{text:"send",background:"bg-primary",textColor:"text-white"})})]})]})})]})},ge=t=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"rounded-xl shadow-xl bg-white p-4 w-full",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)(y,{icon:T,className:"text-xl text-primary"}),(0,e.jsx)("h2",{className:"text-xl text-primary font-medium px-4",children:"Budget"})]}),(0,e.jsx)("div",{className:"h-[1px] bg-gray-500 w-full my-2 "}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Cost per post"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("p",{className:"text-md font-bold text-primary",children:[t.costperpost.toString().split(".")[0]," ",t.currecny]})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Total budget"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("p",{className:"text-md font-bold text-black",children:[t.totalbudget," ",t.currecny]})]})]})}),fe=()=>(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-primary",children:(0,e.jsx)("h1",{className:"text-white text-xl text-left font-normal",children:"Your request is in progress.."})})}),xe=t=>{let[i,l]=(0,d.useState)([]),[u,a]=(0,d.useState)(!1),[r,n]=(0,d.useState)(!1),[o,f]=(0,d.useState)(null),x=(0,d.useRef)(null),[N,c]=(0,d.useState)(null),b=async()=>{let s={search:{status:"1",campaign:t.campaingid,toUser:t.userId}},p=await h.post(`${v}/api/search-invite`,s);p.data.status==!0&&l(p.data.data)},g=async()=>{let s={id:N,status:"3"},p=await h.post(`${v}/api/update-invite`,s);if(p.data.staus==!1)return f(p.data.message);a(!1),window.location.reload()},m=async()=>{var w,k,C,R;if(((w=x.current)==null?void 0:w.value)==null||((k=x.current)==null?void 0:k.value)==null||((C=x.current)==null?void 0:C.value)=="")return f("Fell the reason.");let s={id:N,status:"5",rejectReason:(R=x.current)==null?void 0:R.value},p=await h.post(`${v}/api/update-invite`,s);if(p.data.staus==!1)return f(p.data.message);x.current.value=="",n(!1),window.location.reload()};return(0,d.useEffect)(()=>{b()},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${u?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Accept"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("p",{className:"text-center font-medium text-gray-800",children:"Are you sure you want to accept this?"}),o==""||o==null||o==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:o}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{a(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:A}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:g,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:I}),"Accept"]})]})]})}),(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${r?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Reject"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("input",{ref:x,type:"text",className:"w-full bg-gray-200 rounded-lg  px-2 py-1 my-2 outline-none",placeholder:"Enter the reason of rejection."}),o==""||o==null||o==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:o}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{n(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:A}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:m,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:I}),"Reject"]})]})]})}),(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-white",children:i.length==0?(0,e.jsx)("div",{children:"No Invite request is pending"}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md font-medium",children:"Requested Invites"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-6",children:i.map((s,p)=>(0,e.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-lg",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:s.influencer.pic,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md object-center object-cover"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:s.influencer.name.toString().split("@")[0]}),(0,e.jsx)("p",{className:"text-sm font-medium",children:s.influencer.email})]})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Message"}),(0,e.jsx)("p",{className:"text-sm font-medium",children:s.inviteMessage}),(0,e.jsxs)("div",{className:"flex gap-4 mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{c(s.id),a(!0)},className:"bg-white  text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:I}),"Accept"]}),(0,e.jsxs)("button",{onClick:()=>{c(s.id),n(!0)},className:"bg-white  text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:A}),"Reject"]})]}),(0,e.jsx)("div",{})]},p))})]})})]})},K=t=>{let[i,l]=(0,d.useState)([]),u=async()=>{let a={search:{}};t.isUser&&(a.search.influencer=t.userId),a.search.campaign=t.campaingid;let r=await h.post(`${v}/api/search-invite`,a);r.data.status==!0&&l(r.data.data)};return(0,d.useEffect)(()=>{u()},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-white",children:i.length==0?(0,e.jsx)("div",{children:"No Invite request is pending"}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md font-medium",children:"Requested Invites"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-6",children:i.map((a,r)=>(0,e.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-lg",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:a.influencer.pic,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md object-center object-cover"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:a.influencer.name.toString().split("@")[0]}),(0,e.jsx)("p",{className:"text-sm font-medium",children:a.influencer.email})]})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Message"}),(0,e.jsx)("p",{className:"text-sm font-medium",children:a.inviteMessage}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Status"}),(0,e.jsx)("p",{className:`mt-2 text-md text-white font-medium text-center rounded-md ${a.status.name=="ACCEPTED"?"bg-green-500":a.status.name=="PENDING"?"bg-yellow-500":"bg-red-500"}`,children:a.status.name})]},r))})]})})})},be=t=>{let[i,l]=(0,d.useState)([]),[u,a]=(0,d.useState)(!1),[r,n]=(0,d.useState)(!1),[o,f]=(0,d.useState)(null),x=(0,d.useRef)(null),[N,c]=(0,d.useState)(null),b=async()=>{let s={search:{status:"1",campaign:t.campaingid,toUser:t.userId}},p=await h.post(`${v}/api/search-draft`,s);p.data.status==!0&&l(p.data.data)},g=async()=>{let s={id:N,status:"3"},p=await h.post(`${v}/api/update-draft`,s);if(p.data.staus==!1)return f(p.data.message);a(!1),window.location.reload()},m=async()=>{var w,k,C,R;if(((w=x.current)==null?void 0:w.value)==null||((k=x.current)==null?void 0:k.value)==null||((C=x.current)==null?void 0:C.value)=="")return f("Fell the reason.");let s={id:N,status:"5",rejectReason:(R=x.current)==null?void 0:R.value},p=await h.post(`${v}/api/update-draft`,s);if(p.data.staus==!1)return f(p.data.message);x.current.value=="",n(!1),window.location.reload()};return(0,d.useEffect)(()=>{b()},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${u?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Accept"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("p",{className:"text-center font-medium text-gray-800",children:"Are you sure you want to accept this draft?"}),o==""||o==null||o==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:o}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{a(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:A}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:g,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:I}),"Accept"]})]})]})}),(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${r?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Reject"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("input",{ref:x,type:"text",className:"w-full bg-gray-200 rounded-lg  px-2 py-1 my-2 outline-none",placeholder:"Enter the reason of rejection."}),o==""||o==null||o==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:o}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{n(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:A}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:m,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:I}),"Reject"]})]})]})}),(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-white",children:i.length==0?(0,e.jsx)("div",{children:"No draft request is pending"}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md font-medium",children:"Requested drafts"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-6",children:i.map((s,p)=>(0,e.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-lg",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:s.influencer.pic,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md object-center object-cover"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:s.influencer.name.split("@")[0]}),(0,e.jsx)("p",{className:"text-sm font-medium",children:s.influencer.email})]})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Description"}),(0,e.jsx)("p",{className:"text-sm font-medium",children:s.description}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Handle Info"}),(0,e.jsxs)("div",{className:"flex gap-4",children:[(0,e.jsx)("img",{src:s.handle.platform.logo,alt:"platform",className:"w-14 h-14 shrink-0 rounded-md object-fill object-center"}),(0,e.jsx)("p",{className:"text-xl font-semibold text-center",children:s.handle.name})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Attachment"}),(0,e.jsx)("a",{target:"_blank",className:"mt-2 text-sm font-normal border-2 border-blue-500 inline-block my-2 py-1 px-4  text-blue-500 hover:text-white hover:bg-blue-500",href:s.attach01,children:"View Doc"}),(0,e.jsxs)("div",{className:"flex gap-4 mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{c(s.id),a(!0)},className:"bg-white  text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:I}),"Accept"]}),(0,e.jsxs)("button",{onClick:()=>{c(s.id),n(!0)},className:"bg-white  text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:A}),"Reject"]})]})]},p))})]})})]})},Q=t=>{let[i,l]=(0,d.useState)([]),u=async()=>{let a={search:{}};t.isUser&&(a.search.influencer=t.userId),a.search.campaign=t.campaingid;let r=await h.post(`${v}/api/search-draft`,a);r.data.status==!0&&l(r.data.data)};return(0,d.useEffect)(()=>{u()},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-white mt-4",children:i.length==0?(0,e.jsx)("div",{children:"No draft request is pending"}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md font-medium",children:"Requested drafts"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-6",children:i.map((a,r)=>(0,e.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-lg",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:a.influencer.pic,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md object-center object-cover"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:a.influencer.name.split("@")[0]}),(0,e.jsx)("p",{className:"text-sm font-medium",children:a.influencer.email})]})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Description"}),(0,e.jsx)("p",{className:"text-sm font-medium",children:a.description}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Handle Info"}),(0,e.jsxs)("div",{className:"flex gap-4",children:[(0,e.jsx)("img",{src:a.handle.platform.logo,alt:"platform",className:"w-14 h-14 shrink-0 rounded-md object-fill object-center"}),(0,e.jsx)("p",{className:"text-xl font-semibold text-center",children:a.handle.name})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Attachment"}),(0,e.jsx)("a",{target:"_blank",className:"mt-2 text-sm font-normal border-2 border-blue-500 inline-block my-2 py-1 px-4  text-blue-500 hover:text-white hover:bg-blue-500",href:a.attach01,children:"View Doc"}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Status"}),(0,e.jsx)("p",{className:`mt-2 text-md text-white font-medium text-center rounded-md ${a.status.name=="ACCEPTED"?"bg-green-500":a.status.name=="PENDING"?"bg-yellow-500":"bg-red-500"}`,children:a.status.name}),(0,e.jsx)("div",{})]},r))})]})})})},he=t=>{let[i,l]=(0,d.useState)(!1),u=()=>l(!0),a=()=>l(!1),[r,n]=(0,d.useState)(null),o=(0,d.useRef)(null),f=async()=>{var c,b,g,m;if(((c=o.current)==null?void 0:c.value)==null||((b=o.current)==null?void 0:b.value)==null||((g=o.current)==null?void 0:g.value)=="")return n("Message can't be blank");let x={campaignId:t.champaignId,influencerId:t.influencerId,fromUserId:t.fromuserId,toUserId:t.touserId,inviteMessage:(m=o.current)==null?void 0:m.value},N=await h.post(`${v}/api/add-invite`,x);N.data.status==!1?n(N.data.message):(o.current.value="",a()),window.location.reload()};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"p-4 rounded-xl shadow-xl bg-primary",children:[(0,e.jsx)("h1",{className:"text-white text-xl text-left font-normal",children:"Your request has been rejected.."}),(0,e.jsxs)("p",{className:"text-white font-normal text-md",children:["Reason : ",t.reason]}),(0,e.jsx)("div",{className:"w-full grid place-items-center",onClick:u,children:(0,e.jsx)(D,{text:"Apply again!",textColor:"text-white",background:"bg-secondary"})})]}),(0,e.jsx)("div",{className:`w-full h-screen bg-gray-500 fixed top-0 left-0 bg-opacity-30 grid place-items-center ${i?"fixed":"hidden"} `,children:(0,e.jsxs)("div",{className:"p-6 bg-white rounded-xl shadow-xl w-96",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:a,children:(0,e.jsx)(y,{icon:L,className:"font-bold text-2xl text-center text-primary"})})]}),(0,e.jsx)("h1",{className:"text-primary text-lg font-bold text-left",children:"Connect"}),(0,e.jsx)("p",{className:"text-lg font-normal",children:"Subject : Apply for campaign"}),(0,e.jsx)("textarea",{ref:o,className:"p-4 w-full h-40 outline-none border-2 bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none mt-4",placeholder:"message"}),r==""||r==null||r==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:r}),(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:f,children:(0,e.jsx)(D,{text:"send",background:"bg-primary",textColor:"text-white"})})]})]})})]})},Z=t=>{let i=(0,d.useRef)(null),l=(0,d.useRef)(null),u=(0,d.useRef)(null),[a,r]=(0,d.useState)(),[n,o]=(0,d.useState)(null),[f,x]=(0,d.useState)(!1),[N,c]=(0,d.useState)(null),[b,g]=(0,d.useState)(!1);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("p",{className:"text-md text-primary font-semibold py-1",children:"Campaign draft"}),(0,e.jsx)("div",{className:"w-full h-[1px] bg-slate-300"}),f?(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"p-4 bg-white mt-2 rounded-md",children:[(0,e.jsx)("p",{className:"text-sm text-normal font-semibold py-1 text-primary",children:"Create campaign draft"}),(0,e.jsx)("div",{className:"flex gap-2 mt-2 overflow-x-scroll no-scrollbar py-4",children:t.platforms.map((m,s)=>(0,e.jsx)("div",{className:`shrink-0  p-2 rounded-lg ${n==m.id?"bg-white shadow-xl ":"bg-gray-200"} `,onClick:()=>{o(m.id)},children:(0,e.jsx)("img",{src:t.platforms[s].platform.logo,alt:"error",className:"w-10 h-10 object-center object-cover"})},s))}),(0,e.jsxs)("div",{className:"bg-[#EEEEEE] w-full h-10 rounded-lg flex items-center pl-4",children:[(0,e.jsx)("h3",{className:"text-black font-semibold  text-md",children:a==null?"":a.name.length>=25?`${a.name.toString().slice(0,25)}...`:a.name}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{className:"grid place-items-center px-4 bg-gray-300 rounded-lg cursor-pointer h-full",onClick:()=>{l.current.click()},children:(0,e.jsx)(y,{icon:O})})]}),(0,e.jsx)("div",{className:"hidden",children:(0,e.jsx)("input",{ref:l,type:"file",accept:"application/pdf",onChange:m=>{parseInt((m.target.files[0].size/1024/1024).toString())<4?(c(null),r(m.target.files[0])):c("Pdf file size must be less then 4 mb")}})}),(0,e.jsx)("input",{type:"date",ref:i,className:"bg-[#EEEEEE] outline-none border-none rounded-lg focus:border-gray-300 mt-4 w-full p-2"}),(0,e.jsx)("textarea",{ref:u,className:"focus:border-none focus:outline-none mt-4 p-4 w-full h-20 outline-none border-2 bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none",placeholder:"description..."}),N==""||N==null||N==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:N}),b?(0,e.jsx)("div",{className:"text-white bg-primary rounded-lg w-full text-center py-2 font-semibold text-md mt-2",children:"Creating..."}):(0,e.jsx)("button",{onClick:async()=>{var m,s,p,w,k,C,R,S;if(g(P=>!0),n==null||n==null||n==0||n=="")c("Select the platform.");else if(a==null||a==null)c("Select the pdf file.");else if(((m=i.current)==null?void 0:m.value)==null||((s=i.current)==null?void 0:s.value)==null||((p=i.current)==null?void 0:p.value)=="")c("Select the date.");else if(((w=u.current)==null?void 0:w.value)==null||((k=u.current)==null?void 0:k.value)==null||((C=u.current)==null?void 0:C.value)=="")c("Write the description.");else{let P=await z(a);if(P.status){let q={campaignId:t.champaingId,influencerId:t.influencerId,handleId:n,publishAt:(R=i.current)==null?void 0:R.value,attach01:P.data,description:(S=u.current)==null?void 0:S.value},$=await h({method:"post",url:`${v}/api/add-draft`,data:q});if($.data.status==!1)return c($.data.message);window.location.reload()}else c(P.data)}g(P=>!1)},className:"text-white bg-primary rounded-lg w-full text-center py-2 font-semibold text-md mt-2",children:"Submit"})]})}):(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"p-4 bg-white mt-2 rounded-md",children:[(0,e.jsx)("p",{className:"text-sm text-normal font-semibold py-1 text-primary",children:"Create campaign draft"}),(0,e.jsx)("button",{onClick:()=>{x(!0)},className:"text-white bg-primary rounded-lg w-full text-center py-2 font-semibold text-md mt-2",children:"Create"})]})})]})},ve=t=>{let[i,l]=(0,d.useState)([]),[u,a]=(0,d.useState)(!1),[r,n]=(0,d.useState)(!1),[o,f]=(0,d.useState)(null),[x,N]=(0,d.useState)(null),c=async()=>{let s={search:{campaign:t.campaingid}},p=await h.post(`${v}/api/get-req-pay`,s);p.data.status==!0&&l(p.data.data)};(0,d.useEffect)(()=>{c()},[]);let b=async()=>{let s={id:x,status:"2",refNo:`${new Date().toLocaleDateString()}_${t.userid}_${t.campaingid}`},p=await h.post(`${v}/api/update-payment`,s);if(p.data.staus==!1)return f(p.data.message);a(!1),window.location.reload()},g=async()=>{let s={id:x,status:"3"},p=await h.post(`${v}/api/update-payment`,s);if(p.data.staus==!1)return f(p.data.message);n(!1),window.location.reload()},m=async()=>{let s=await ie.checkout.sessions.create({payment_method_types:["card"],mode:"payment",line_items:[{price_data:{currency:"inr",product_data:{name:"Example Product",images:["https://plus.unsplash.com/premium_photo-1684952849219-5a0d76012ed2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1032&q=80"]},unit_amount:4200},quantity:1}],success_url:"https://your-website.com/success",cancel_url:"https://your-website.com/cancel"});window.location.assign(s.url==null?"":s.url)};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${u?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Accept"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("p",{className:"text-center font-medium text-gray-800",children:"Are you sure you want to accept this payment?"}),o==""||o==null||o==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:o}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{a(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:A}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:m,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:I}),"Accept"]})]})]})}),(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${r?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Reject"}),(0,e.jsx)("p",{className:"text-center font-medium text-gray-800",children:"Are you sure you want to reject this payment?"}),o==""||o==null||o==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:o}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{n(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:A}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:g,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:I}),"Reject"]})]})]})}),(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-white",children:i.length==0?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{children:"No payment request is pending"})}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md font-medium",children:"Requested Payment"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-6",children:i.map((s,p)=>(0,e.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-lg w-72",children:[(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Requested by"}),(0,e.jsx)("div",{className:"w-full h-[2px] bg-gray-700"}),(0,e.jsxs)("div",{className:"flex mt-4",children:[(0,e.jsx)("img",{src:s.influencer.pic,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md object-center object-cover"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:s.influencer.name.split("@")[0]}),(0,e.jsx)("p",{className:"text-sm font-medium",children:s.influencer.email})]})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Amount"}),(0,e.jsxs)("p",{className:"text-sm font-medium",children:[s.amount.toString().split(".")[0]," ",t.currency]}),parseInt(s.status.code)==2?(0,e.jsx)("p",{className:"py-1 px-4 text-center text-white bg-green-500 rounded-md my-2",children:"Accepted"}):parseInt(s.status.code)==3?(0,e.jsx)("p",{className:"py-1 px-4 text-center text-white bg-red-500 rounded-md my-2",children:"Rejected"}):(0,e.jsxs)("div",{className:"flex gap-4 mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{N(s.id),a(!0)},className:"bg-white  text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:I}),"Accept"]}),(0,e.jsxs)("button",{onClick:()=>{N(s.id),n(!0)},className:"bg-white  text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:A}),"Reject"]})]})]},p))})]})})]})},ee=t=>{let[i,l]=(0,d.useState)([]),u=async()=>{let a={search:{}};t.isUser&&(a.search.influencer=t.userid),a.search.campaign=t.campaingid;let r=await h.post(`${v}/api/get-req-pay`,a);r.data.status==!0&&l(r.data.data)};return(0,d.useEffect)(()=>{u()},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-white",children:i.length==0?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{children:"No payment request is pending"})}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md font-medium",children:"Requested Payment"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-6",children:i.map((a,r)=>(0,e.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-lg w-72",children:[(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Requested by"}),(0,e.jsx)("div",{className:"w-full h-[2px] bg-gray-700"}),(0,e.jsxs)("div",{className:"flex mt-4",children:[(0,e.jsx)("img",{src:a.influencer.pic,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md object-center object-cover"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:a.influencer.name.split("@")[0]}),(0,e.jsx)("p",{className:"text-sm font-medium",children:a.influencer.email})]})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Amount"}),(0,e.jsxs)("p",{className:"text-sm font-medium",children:[a.amount.toString().split(".")[0]," ",t.currency]}),parseInt(a.status.code)==2?(0,e.jsx)("p",{className:"py-1 px-4 text-center text-white bg-green-500 rounded-md my-2",children:"Accepted"}):parseInt(a.status.code)==3?(0,e.jsx)("p",{className:"py-1 px-4 text-center text-white bg-red-500 rounded-md my-2",children:"Rejected"}):(0,e.jsx)("p",{className:"py-1 px-4 text-center text-white bg-yellow-500 rounded-md my-2",children:"Pending"})]},r))})]})})})};var te=t=>{let[i,l]=(0,d.useState)([]),u=async()=>{let a={search:{}};t.isUser&&(a.search.influencer=t.userId),a.search.campaign=t.campaingid;let r=await h.post(`${v}/api/search-draft`,a);r.data.status==!0&&l(r.data.data)};return(0,d.useEffect)(()=>{u()},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-white my-4",children:i.length==0?(0,e.jsx)("div",{children:"No one created any drafts yet."}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md font-medium",children:"Draft snapshot"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-6",children:i.map((a,r)=>(0,e.jsxs)("div",{className:"my-2 p-4 bg-white rounded-lg shadow-lg w-80",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:a.influencer.pic,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md object-center object-cover"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:a.influencer.name.split("@")[0]}),(0,e.jsx)("p",{className:"text-sm font-medium",children:a.influencer.email})]})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Description"}),(0,e.jsx)("p",{className:"text-sm font-medium",children:a.description}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Handle Info"}),(0,e.jsxs)("div",{className:"flex gap-4",children:[(0,e.jsx)("img",{src:a.handle.platform.logo,alt:"platform",className:"w-14 h-14 shrink-0 rounded-md object-fill object-center"}),(0,e.jsx)("p",{className:"text-xl font-semibold text-center",children:a.handle.name})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Publication Time"}),a.draft_approval!=null?(0,e.jsx)("p",{className:"text-sm font-medium",children:new Date(a.draft_approval.toString()).toLocaleString()}):(0,e.jsx)("p",{className:"text-sm font-medium",children:"No Publication Time is set"}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Campaign Link"}),a.linkCampaign!=null||a.linkCampaign!=""?(0,e.jsx)("p",{className:"text-sm font-medium",children:a.linkCampaign}):(0,e.jsx)("p",{className:"text-sm font-medium",children:"No Campaign is Linked"}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Attachment"}),(0,e.jsx)("a",{target:"_blank",className:"mt-2 text-sm font-normal border-2 border-blue-500 inline-block my-2 py-1 px-4  text-blue-500 hover:text-white hover:bg-blue-500",href:a.attach01,children:"View Doc"}),a.status.name=="REJECTED"?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Rejection Reason"}),(0,e.jsx)("p",{className:"text-sm font-medium",children:a.status.message})]}):null,(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Status"}),(0,e.jsx)("p",{className:`mt-2 text-md text-white font-medium text-center rounded-md ${a.status.name=="ACCEPTED"?"bg-green-500":a.status.name=="PENDING"?"bg-yellow-500":"bg-red-500"}`,children:a.status.name}),a.status.name=="ACCEPTED"?(0,e.jsx)(B,{className:"text-white py-1 w-full bg-cyan-500 cursor-pointer inline-block text-center mt-4 rounded-md",to:`/home/brandpay/${t.brandid}/${t.campaingid}/${a.id}`,children:"View Details"}):null]},r))})]})})})},ae=t=>{let[i,l]=(0,d.useState)([]),[u,a]=(0,d.useState)([]),[r,n]=(0,d.useState)([]),[o,f]=(0,d.useState)(Array(i.length).fill("")),x=async()=>{let g={search:{fromUser:t.userId,campaign:t.campaingid,influencer:t.userId,status:3}},m=await h.post(`${v}/api/search-draft`,g);m.data.status==!0&&l(m.data.data),a(Array(m.data.data.length).fill(!1)),n(Array(m.data.data.length).fill("")),f(Array(m.data.data.length).fill(""))},N=(g,m)=>{let s=[...u];s[m]=g,a(s)},c=async g=>{let m=o[g];if(m==null||m==null||m==""){let s=[...r];s[g]="Please enter the link",n(s)}else{let s=await h.post(`${v}/api/update-draft`,{id:i[g].id,linkCampaign:m});if(s.data.status)window.location.reload();else{let p=[...r];p[g]=s.data.message,n(p)}}},b=(g,m)=>{let s=[...o];s[g]=m,f(s)};return(0,d.useEffect)(()=>{x()},[]),(0,e.jsxs)(e.Fragment,{children:[i.length==0?(0,e.jsx)("div",{className:"bg-white rounded-md p-4 mt-2",children:(0,e.jsx)("h1",{className:"text-center font-semibold text-lg",children:"No campaign is live"})}):null,i.map((g,m)=>(0,e.jsxs)("div",{className:"bg-white rounded-md p-4 mt-2",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:g.handle.platform.logo,alt:"error",className:"h-10 w-10 shrink-0"}),(0,e.jsx)("div",{className:"ml-4",children:(0,e.jsx)("p",{className:"text-primary text-sm font-semibold text-left",children:g.handle.name})})]}),g.linkCampaign==null||g.linkCampaign==""||g.linkCampaign==null?u[m]?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("input",{type:"text",placeholder:"Enter the link",className:"w-full outline-none fill-none bg-transparent py-1 px-4 rounded-md border-2 border-gray-400 mt-4",value:o[m],onChange:s=>b(m,s.target.value)}),r[m]==""||r[m]==null||r[m]==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-2",children:r[m]}),(0,e.jsx)("button",{onClick:async()=>{await c(m)},className:"mt-4 text-md w-full text-black font-semibold bg-[#fbca8e] rounded-md shadow-lg py-1",children:"Link"})]}):(0,e.jsx)("button",{className:"mt-4 text-md w-full text-black font-semibold bg-[#fbca8e] rounded-md shadow-lg py-1",onClick:()=>N(!0,m),children:"Link campaign"}):(0,e.jsx)(B,{to:`/home/paymentreq/${t.brandId}/${t.campaingid}/${g.id}`,className:"text-center inline-block mt-4 text-md w-full text-black font-semibold bg-[#fbca8e] rounded-md shadow-lg py-1",onClick:()=>N(!0,m),children:"View insight"})]},m))]})},Ne=t=>{let[i,l]=(0,d.useState)(""),[u,a]=(0,d.useState)(0),r=(0,d.useRef)(null),[n,o]=(0,d.useState)(0),f=c=>{o(c.target.value.replace(/\D/g,""))},x=async()=>{let c=await h({method:"post",url:`${v}/api/get-campaign-last-bid`,data:{campaignId:t.campaignId}});c.data.status==!1?a(0):a(c.data.data[0].bidamount)};(0,d.useEffect)(()=>{x()},[]);let N=async()=>{var c,b,g,m;if(n==null||n==null)l("Fill the Bid amount.");else if(Number(n)%100!==0)l("Bid amount must be a multiple of 100.");else if(Number(u)<Number(n))l("Bid amount must be less then current bid amount.");else if(((c=r.current)==null?void 0:c.value)==null||((b=r.current)==null?void 0:b.value)==null||((g=r.current)==null?void 0:g.value)=="")l("Fill the remark.");else{let s={brandId:t.brandId,userId:t.userId,campaignId:t.campaignId,remark:(m=r.current)==null?void 0:m.value,bidamount:Number(n)},p=await h({method:"post",url:`${v}/api/add-bid`,data:s,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});p.data.status==!1?l(p.data.message):window.location.reload()}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("p",{className:"text-md text-primary font-semibold py-1",children:"Bidding"}),(0,e.jsx)("div",{className:"w-full h-[1px] bg-slate-300"}),(0,e.jsxs)("div",{className:"p-4 bg-white mt-2 rounded-md",children:[(0,e.jsxs)("p",{className:"font-semibold text-xl  text-gray-800",children:["Starting bid : ",t.CostPerPost.split(".")[0]]}),(0,e.jsxs)("p",{className:"font-semibold text-xl  text-gray-800 mt-2",children:["Current bid : ",u.toString().split(".")[0]]}),(0,e.jsx)("p",{className:"font-semibold text-xl  text-gray-700 my-2",children:"Min Bid : 100"}),(0,e.jsxs)("div",{className:"flex gap-x-4",children:[(0,e.jsx)("p",{className:"font-semibold text-xl text-gray-700",children:"Enter Amount : "}),(0,e.jsx)("div",{children:(0,e.jsx)("input",{onChange:f,value:n,type:"text",className:"text-black outline-none border-none rounded-md py-1 px-2 bg-[#EEEEEE] w-full"})})]}),(0,e.jsx)("textarea",{ref:r,className:"p-4 w-full h-32 outline-none border-2 bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none mt-4",placeholder:"Remark"}),i==""||i==null||i==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:i}),(0,e.jsx)("button",{onClick:N,className:"text-black bg-[#01FFF4] rounded-lg w-full text-center py-2 font-semibold text-md mt-2",children:"Bid Now"})]})]})},ye=t=>{let[i,l]=(0,d.useState)([]),[u,a]=(0,d.useState)(!1),[r,n]=(0,d.useState)(null),[o,f]=(0,d.useState)(null),x=async()=>{let c={campaignId:t.campaingid},b=await h.post(`${v}/api/get-campaign-bid`,c);b.data.status?l(b.data.data):n(b.data.message)};(0,d.useEffect)(()=>{x()},[]);let N=async()=>{let c={id:o},b=await h.post(`${v}/api/approve-bid`,c);if(b.data.staus==!1)return n(b.data.message);a(!1),window.location.reload()};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${u?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Accept"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("p",{className:"text-center font-medium text-gray-800",children:"Are you sure you want to accept this payment?"}),r==""||r==null||r==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:r}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{a(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:A}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:N,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:I}),"Accept"]})]})]})}),(0,e.jsxs)("div",{className:"p-4 rounded-xl shadow-xl bg-white mt-4",children:[i.length==0?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{children:"No bid request is pending"})}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md font-medium",children:"Requested Bid"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-6",children:i.map((c,b)=>(0,e.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-lg",children:[(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Requested by"}),(0,e.jsx)("div",{className:"w-full h-[2px] bg-gray-700"}),(0,e.jsxs)("div",{className:"flex mt-4",children:[(0,e.jsx)("img",{src:c.userPicUrl,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md object-center object-cover"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:c.userName.split("@")[0]}),(0,e.jsx)("p",{className:"text-sm font-medium",children:c.userEmail})]})]}),(0,e.jsx)("p",{className:"text-lg font-medium",children:"Amount"}),(0,e.jsx)("p",{className:"text-md font-semibold",children:c.bidamount}),(0,e.jsx)("p",{className:"text-lg font-medium mt-2",children:"Remark"}),(0,e.jsx)("p",{className:"text-md font-semibold",children:c.remark}),(0,e.jsx)("div",{className:"flex gap-4 mt-2",children:(0,e.jsxs)("button",{onClick:()=>{f(c.id),a(!0)},className:"bg-white  text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(y,{className:"mx-2",icon:I}),"Accept"]})})]},b))})]}),r==""||r==null||r==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:r})]})]})},ne=t=>{let[i,l]=(0,d.useState)([]),[u,a]=(0,d.useState)(null),r=async()=>{let n={campaignId:t.campaingid},o=await h.post(`${v}/api/get-bid`,n);if(o.data.status)if(t.isUser){let f=o.data.data.filter(x=>x.userId==t.userid);l(f)}else l(o.data.data);else a(o.data.message)};return(0,d.useEffect)(()=>{r()},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"p-4 rounded-xl shadow-xl bg-white mt-4",children:[i.length==0?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{children:"No bid request is pending"})}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md font-medium",children:"Requested Bid"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-6",children:i.map((n,o)=>(0,e.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-lg",children:[(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Requested by"}),(0,e.jsx)("div",{className:"w-full h-[2px] bg-gray-700"}),(0,e.jsxs)("div",{className:"flex mt-4",children:[(0,e.jsx)("img",{src:n.userPicUrl,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md object-center object-cover"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:n.userName.split("@")[0]}),(0,e.jsx)("p",{className:"text-sm font-medium",children:n.userEmail})]})]}),(0,e.jsx)("p",{className:"text-lg font-medium",children:"Amount"}),(0,e.jsx)("p",{className:"text-md font-semibold",children:n.bidamount}),(0,e.jsx)("p",{className:"text-lg font-medium mt-2",children:"Remark"}),(0,e.jsx)("p",{className:"text-md font-semibold",children:n.remark}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Status"}),(0,e.jsx)("p",{className:`mt-2 text-md text-white font-medium text-center rounded-md ${n.approved=="1"?"bg-green-500":"bg-yellow-500"}`,children:n.approved=="1"?"Approved":"Pending"})]},o))})]}),u==""||u==null||u==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:u})]})})};export{oe as default};
