import{a as d}from"/build/_shared/chunk-NZ4E5E5G.js";import{a as C}from"/build/_shared/chunk-BC5I37BB.js";import{a as v,b as y}from"/build/_shared/chunk-UNEBNKOC.js";import"/build/_shared/chunk-2LR2MXSV.js";import{b as re,l as E}from"/build/_shared/chunk-CFMSPZYJ.js";import{c as N,e as ge,f as oe}from"/build/_shared/chunk-ZZL6GC2B.js";var n=N(ge());var e=N(oe());var xe=()=>{let A=E(),f=A.userdata.id,h=A.userdata.brandId,le=["Post","Story","Reel","Video","Audio"],I=E(),w=re(),g=d(t=>t.campaignTypeId),[r,a]=(0,n.useState)(null),i=d(t=>t.platform),se=d(t=>t.setPlatform),x=d(t=>t.media),de=d(t=>t.setMedia),l=(0,n.useRef)(null),m=(0,n.useRef)(null),c=(0,n.useRef)(null),u=(0,n.useRef)(null),[k,ie]=(0,n.useState)(""),[S,me]=(0,n.useState)(""),[T,ce]=(0,n.useState)(""),D=d(t=>t.campaignTypeId),s=(0,n.useRef)(null),[L,ue]=(0,n.useState)("");return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"flex gap-x-4 flex-col lg:flex-row",children:[(0,e.jsxs)("div",{className:"bg-white shadow-xl rounded-xl px-8 py-4 mt-4 grow",children:[(0,e.jsx)("h2",{className:"text-black tect-xl font-medium text-left my-4",children:g=="5"?"Single post":"Bidding"}),(0,e.jsx)("div",{className:"flex gap-4 flex-wrap",children:I.platform.map((t,p)=>(0,e.jsx)("div",{className:` p-2 rounded-lg shrink-0 ${i.includes(t.id)?"bg-white shadow-xl ":"bg-gray-200"} `,onClick:()=>{se(t.id)},children:(0,e.jsx)("img",{src:I.platform[p].platformLogoUrl,alt:"error",className:"w-10 h-10"})},p))}),(0,e.jsx)("div",{className:"flex gap-4 flex-wrap my-6",children:le.map((t,p)=>(0,e.jsx)("div",{className:`shrink-0 cursor-pointer text-primary text-lg text-center font-normal w-28 py-1  rounded-xl ${t==x?"bg-white shadow-xl":"bg-gray-100"}`,onClick:()=>{de(t)},children:t},p))}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Campaign name"}),(0,e.jsx)("input",{ref:l,type:"text",className:"bg-[#EEEEEE]  outline-none border-none focus:border-gray-300 rounded-md w-full p-2",onChange:t=>ce(t.target.value)}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Campaign info"}),(0,e.jsx)("textarea",{ref:m,className:"p-4 w-full h-40 outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),g=="6"?(0,e.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,e.jsxs)("div",{className:"grow",children:[(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Start date"}),(0,e.jsx)("input",{type:"date",ref:c,className:"bg-[#EEEEEE] outline-none border-none rounded-lg focus:border-gray-300 w-full p-2",onChange:t=>ie(t.target.value)})]}),(0,e.jsx)("div",{className:"w-8"}),(0,e.jsxs)("div",{className:"grow",children:[(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"End date"}),(0,e.jsx)("input",{ref:u,type:"date",className:"bg-[#EEEEEE]  outline-none border-none focus:border-gray-300 rounded-md w-full p-2",onChange:t=>me(t.target.value)})]})]}):null,(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Cost per post"}),(0,e.jsx)("input",{ref:s,type:"number",className:"bg-[#EEEEEE]  outline-none border-none focus:border-gray-300 rounded-md w-full p-2",onChange:t=>ue(t.target.value)})]}),r==""||r==null||r==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:r})]}),(0,e.jsx)("div",{children:(0,e.jsxs)("div",{className:"lg:w-80 bg-white  shadow-lx rounded-xl p-4 mt-4",children:[(0,e.jsx)("h1",{className:"text-primary text-lg font-medium",children:"Campaign Summary"}),(0,e.jsxs)("div",{className:"flex my-4",children:[(0,e.jsx)("p",{className:"text-sm text-primary font-normal",children:"Campaign name"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-sm text-primary font-medium",children:T==""?"--------":T})]}),(0,e.jsxs)("div",{className:"flex my-4",children:[(0,e.jsx)("p",{className:"text-sm text-primary font-normal",children:"Cost per post"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-sm text-primary font-medium",children:L==""?"--------":L})]}),g=="6"?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"flex my-4",children:[(0,e.jsx)("p",{className:"text-sm text-primary font-normal",children:"Start date"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-sm text-primary font-medium",children:k==""?"--------":new Date(k).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"})})]}),(0,e.jsxs)("div",{className:"flex my-4",children:[(0,e.jsx)("p",{className:"text-sm text-primary font-normal",children:"End date"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-sm text-primary font-medium",children:S==""?"--------":new Date(S).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"})})]})]}):null,r==""||r==null||r==null?null:(0,e.jsx)("div",{className:"my-4 bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-xl text-red-500 text-md font-normal text-md",children:r}),(0,e.jsxs)("div",{className:"flex w-full",children:[(0,e.jsx)("div",{onClick:()=>{w(-1)},className:"w-full",children:(0,e.jsx)(C,{text:"Back",textColor:"text-black",background:"bg-gray-100",width:"w-full",fontwidth:"font-bold"})}),(0,e.jsx)("div",{className:"w-10"}),(0,e.jsx)("div",{className:"w-full",onClick:async()=>{var R,P,M,B,H,O,$,U,j,X,q,F,z,V,_,G,J,K,Q,W,Y,Z,ee,te,ae;let t=new Date(c.current.value),p=new Date(u.current.value),pe=t>p;if(i==null||i.length==0||i==null)a("Select a platform");else if(x==null||x==""||x==null)a("Select a media");else if(((R=l.current)==null?void 0:R.value)==null||((P=l.current)==null?void 0:P.value)==null||((M=l.current)==null?void 0:M.value)=="")a("Enter campaign name");else if(((B=l.current)==null?void 0:B.value.length)<4)a("Campaign should be more then 3 character.");else if(((H=m.current)==null?void 0:H.value)==null||((O=m.current)==null?void 0:O.value)==null||(($=m.current)==null?void 0:$.value)=="")a("Add campaign info");else if(((U=s.current)==null?void 0:U.value)==null||((j=s.current)==null?void 0:j.value)==null||((X=s.current)==null?void 0:X.value)=="")a("Fill the cost per post");else if(g=="6")if(((q=c.current)==null?void 0:q.value)==null||((F=c.current)==null?void 0:F.value)==null||((z=c.current)==null?void 0:z.value)=="")a("Enter planed starting date");else if(pe)a("Start date should be less then end date");else if(((V=u.current)==null?void 0:V.value)==null||((_=u.current)==null?void 0:_.value)==null||((G=u.current)==null?void 0:G.value)=="")a("Enter planed end date");else{let b={userId:f,brandUserId:f,brandId:h,cityId:"0",currencyId:"0",categories:"0",minEligibleRating:"0",maxEligibleRating:"0",minReach:"0",maxReach:"0",costPerPost:(J=s.current)==null?void 0:J.value,totalBudget:"0",dos:"0",donts:"0",mentions:"0",hashtags:"0",campaignTypeId:D,campaignName:(K=l.current)==null?void 0:K.value,campaignInfo:(Q=m.current)==null?void 0:Q.value,platforms:i.join(),startAt:(W=c.current)==null?void 0:W.value,endAt:(Y=u.current)==null?void 0:Y.value},o=await v({method:"post",url:`${y}/api/add-campaign`,data:b,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});if(o.data.status==!1)a(o.data.message);else{let fe={brandId:h,campaignId:o.data.data.campaign.id,remark:"init bid",bidamount:(Z=s.current)==null?void 0:Z.value},ne=await v({method:"post",url:`${y}/api/add-bid`,data:fe,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});if(ne.data.status==!1)a(ne.data.message);else return w(`/home/createcampaign/inviteinf/${o.data.data.campaign.id}`)}}else{let b={userId:f,brandUserId:f,brandId:h,cityId:"0",currencyId:"0",categories:"0",minEligibleRating:"0",maxEligibleRating:"0",minReach:"0",maxReach:"0",costPerPost:(ee=s.current)==null?void 0:ee.value,totalBudget:"0",dos:"0",donts:"0",mentions:"0",hashtags:"0",campaignTypeId:D,campaignName:(te=l.current)==null?void 0:te.value,campaignInfo:(ae=m.current)==null?void 0:ae.value,platforms:i.join(),startAt:new Date().toLocaleDateString(),endAt:new Date().toLocaleDateString()},o=await v({method:"post",url:`${y}/api/add-campaign`,data:b,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});if(o.data.status==!1)a(o.data.message);else return w(`/home/createcampaign/inviteinf/${o.data.data.campaign.id}`)}},children:(0,e.jsx)(C,{text:"Create",textColor:"text-white",background:"bg-primary",width:"w-full"})})]})]})})]})})},ve=xe;export{ve as default};
