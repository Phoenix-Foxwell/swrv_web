import{a as d}from"/build/_shared/chunk-YKAUYMZD.js";import{a as A}from"/build/_shared/chunk-NJKAJ7NJ.js";import{a as y,b as h}from"/build/_shared/chunk-VJBGBMKQ.js";import"/build/_shared/chunk-5ROUF77C.js";import{b as re,l as E}from"/build/_shared/chunk-P4VL4XDR.js";import{e as C,g as ve,h as oe}from"/build/_shared/chunk-EUC6ZTEW.js";var a=C(ve());var e=C(oe());var ye=()=>{let[le,k]=(0,a.useState)(!1),I=E(),f=I.userdata.id,b=I.userdata.brandId,se=["Post","Story","Reel","Video","Audio"],S=E(),w=re(),g=d(t=>t.campaignTypeId),[r,n]=(0,a.useState)(null),i=d(t=>t.platform),de=d(t=>t.setPlatform),x=d(t=>t.media),ie=d(t=>t.setMedia),o=(0,a.useRef)(null),m=(0,a.useRef)(null),c=(0,a.useRef)(null),u=(0,a.useRef)(null),[T,me]=(0,a.useState)(""),[D,ce]=(0,a.useState)(""),[L,ue]=(0,a.useState)(""),R=d(t=>t.campaignTypeId),l=(0,a.useRef)(null),[B,pe]=(0,a.useState)("");return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:`h-screen w-full grid place-items-center bg-black bg-opacity-25 fixed top-0 left-0 ${le?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"w-80 bg-white rounded-xl shadow-xl p-4",children:[(0,e.jsx)("h1",{className:"text-center text-xl font-semibold",children:"Are you sure you want to go back."}),(0,e.jsxs)("div",{className:"flex justify-around",children:[(0,e.jsx)("button",{onClick:()=>{w(-1)},className:"bg-green-500 py-2 px-4 text-xl font-medium rounded-md text-white",children:"Yes"}),(0,e.jsx)("button",{onClick:()=>k(!1),className:"bg-red-500 py-2 px-4 text-xl font-medium rounded-md text-white",children:"NO"})]})]})}),(0,e.jsxs)("div",{className:"flex gap-x-4 flex-col lg:flex-row",children:[(0,e.jsxs)("div",{className:"bg-white shadow-xl rounded-xl px-8 py-4 mt-4 grow",children:[(0,e.jsx)("h2",{className:"text-black tect-xl font-medium text-left my-4",children:g=="5"?"Single post":"Bidding"}),(0,e.jsx)("div",{className:"flex gap-4 flex-wrap",children:S.platform.map((t,s)=>(0,e.jsx)("div",{className:` p-2 rounded-lg shrink-0 ${i.includes(t.id)?"bg-white shadow-xl ":"bg-gray-200"} `,onClick:()=>{de(t.id)},children:(0,e.jsx)("img",{src:S.platform[s].platformLogoUrl,alt:"error",className:"w-10 h-10"})},s))}),(0,e.jsx)("div",{className:"flex gap-4 flex-wrap my-6",children:se.map((t,s)=>(0,e.jsx)("div",{className:`shrink-0 cursor-pointer text-primary text-lg text-center font-normal w-28 py-1  rounded-xl ${t==x?"bg-white shadow-xl":"bg-gray-100"}`,onClick:()=>{ie(t)},children:t},s))}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Campaign name"}),(0,e.jsx)("input",{ref:o,type:"text",className:"bg-[#EEEEEE]  outline-none border-none focus:border-gray-300 rounded-md w-full p-2",onChange:t=>ue(t.target.value)}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Campaign info"}),(0,e.jsx)("textarea",{ref:m,className:"p-4 w-full h-40 outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),g=="6"?(0,e.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,e.jsxs)("div",{className:"grow",children:[(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Start date"}),(0,e.jsx)("input",{type:"date",ref:c,className:"bg-[#EEEEEE] outline-none border-none rounded-lg focus:border-gray-300 w-full p-2",onChange:t=>me(t.target.value)})]}),(0,e.jsx)("div",{className:"w-8"}),(0,e.jsxs)("div",{className:"grow",children:[(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"End date"}),(0,e.jsx)("input",{ref:u,type:"date",className:"bg-[#EEEEEE]  outline-none border-none focus:border-gray-300 rounded-md w-full p-2",onChange:t=>ce(t.target.value)})]})]}):null,(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Cost per post"}),(0,e.jsx)("input",{ref:l,type:"number",className:"bg-[#EEEEEE]  outline-none border-none focus:border-gray-300 rounded-md w-full p-2",onChange:t=>pe(t.target.value)})]}),r==""||r==null||r==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:r})]}),(0,e.jsx)("div",{children:(0,e.jsxs)("div",{className:"lg:w-80 bg-white  shadow-lx rounded-xl p-4 mt-4",children:[(0,e.jsx)("h1",{className:"text-primary text-lg font-medium",children:"Campaign Summary"}),(0,e.jsxs)("div",{className:"flex my-4",children:[(0,e.jsx)("p",{className:"text-sm text-primary font-normal",children:"Campaign name"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-sm text-primary font-medium",children:L==""?"--------":L})]}),(0,e.jsxs)("div",{className:"flex my-4",children:[(0,e.jsx)("p",{className:"text-sm text-primary font-normal",children:"Cost per post"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-sm text-primary font-medium",children:B==""?"--------":B})]}),g=="6"?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"flex my-4",children:[(0,e.jsx)("p",{className:"text-sm text-primary font-normal",children:"Start date"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-sm text-primary font-medium",children:T==""?"--------":new Date(T).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"})})]}),(0,e.jsxs)("div",{className:"flex my-4",children:[(0,e.jsx)("p",{className:"text-sm text-primary font-normal",children:"End date"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-sm text-primary font-medium",children:D==""?"--------":new Date(D).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"})})]})]}):null,r==""||r==null||r==null?null:(0,e.jsx)("div",{className:"my-4 bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-xl text-red-500 text-md font-normal text-md",children:r}),(0,e.jsxs)("div",{className:"flex w-full",children:[(0,e.jsx)("div",{onClick:()=>{k(!1)},className:"w-full",children:(0,e.jsx)(A,{text:"Back",textColor:"text-black",background:"bg-gray-100",width:"w-full",fontwidth:"font-bold"})}),(0,e.jsx)("div",{className:"w-10"}),(0,e.jsx)("div",{className:"w-full",onClick:async()=>{var t,s,P,M,O,H,$,j,U,X,q,F,z,V,Y,_,G,J,K,Q,W,Z,ee,te,ae;if(i==null||i.length==0||i==null)n("Select a platform");else if(x==null||x==""||x==null)n("Select a media");else if(((t=o.current)==null?void 0:t.value)==null||((s=o.current)==null?void 0:s.value)==null||((P=o.current)==null?void 0:P.value)=="")n("Enter campaign name");else if(((M=o.current)==null?void 0:M.value.length)<4)n("Campaign should be more then 3 character.");else if(((O=m.current)==null?void 0:O.value)==null||((H=m.current)==null?void 0:H.value)==null||(($=m.current)==null?void 0:$.value)=="")n("Add campaign info");else if(((j=l.current)==null?void 0:j.value)==null||((U=l.current)==null?void 0:U.value)==null||((X=l.current)==null?void 0:X.value)=="")n("Fill the cost per post");else if(g=="6"){let N=new Date(c.current.value),p=new Date(u.current.value),fe=N>p;if(((q=c.current)==null?void 0:q.value)==null||((F=c.current)==null?void 0:F.value)==null||((z=c.current)==null?void 0:z.value)=="")n("Enter planed starting date");else if(fe)n("Start date should be less then end date");else if(((V=u.current)==null?void 0:V.value)==null||((Y=u.current)==null?void 0:Y.value)==null||((_=u.current)==null?void 0:_.value)=="")n("Enter planed end date");else{let ge={userId:f,brandUserId:f,brandId:b,cityId:"0",currencyId:"0",categories:"0",minEligibleRating:"0",maxEligibleRating:"0",minReach:"0",maxReach:"0",costPerPost:(G=l.current)==null?void 0:G.value,totalBudget:"0",dos:"0",donts:"0",mentions:"0",hashtags:"0",campaignTypeId:R,campaignName:(J=o.current)==null?void 0:J.value,campaignInfo:(K=m.current)==null?void 0:K.value,platforms:i.join(),startAt:(Q=c.current)==null?void 0:Q.value,endAt:(W=u.current)==null?void 0:W.value},v=await y({method:"post",url:`${h}/api/add-campaign`,data:ge,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});if(v.data.status==!1)n(v.data.message);else{let xe={brandId:b,campaignId:v.data.data.campaign.id,remark:"init bid",bidamount:(Z=l.current)==null?void 0:Z.value},ne=await y({method:"post",url:`${h}/api/add-bid`,data:xe,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});if(ne.data.status==!1)n(ne.data.message);else return w(`/home/createcampaign/inviteinf/${v.data.data.campaign.id}`)}}}else{let N={userId:f,brandUserId:f,brandId:b,cityId:"0",currencyId:"0",categories:"0",minEligibleRating:"0",maxEligibleRating:"0",minReach:"0",maxReach:"0",costPerPost:(ee=l.current)==null?void 0:ee.value,totalBudget:"0",dos:"0",donts:"0",mentions:"0",hashtags:"0",campaignTypeId:R,campaignName:(te=o.current)==null?void 0:te.value,campaignInfo:(ae=m.current)==null?void 0:ae.value,platforms:i.join(),startAt:new Date().toLocaleDateString(),endAt:new Date().toLocaleDateString()},p=await y({method:"post",url:`${h}/api/add-campaign`,data:N,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});if(p.data.status==!1)n(p.data.message);else return w(`/home/createcampaign/inviteinf/${p.data.data.campaign.id}`)}},children:(0,e.jsx)(A,{text:"Create",textColor:"text-white",background:"bg-primary",width:"w-full"})})]})]})})]})]})},he=ye;export{he as default};
