import{a as d}from"/build/_shared/chunk-NZ4E5E5G.js";import{a as A}from"/build/_shared/chunk-BC5I37BB.js";import{a as y,b as h}from"/build/_shared/chunk-UNEBNKOC.js";import"/build/_shared/chunk-2LR2MXSV.js";import{b as ne,l as C}from"/build/_shared/chunk-CFMSPZYJ.js";import{c as E,e as ge,f as re}from"/build/_shared/chunk-ZZL6GC2B.js";var n=E(ge());var e=E(re());var xe=()=>{let I=C(),f=I.userdata.id,w=I.userdata.brandId,oe=["Post","Story","Reel","Video","Audio"],k=C(),b=ne(),g=d(t=>t.campaignTypeId),[r,a]=(0,n.useState)(null),i=d(t=>t.platform),le=d(t=>t.setPlatform),x=d(t=>t.media),se=d(t=>t.setMedia),o=(0,n.useRef)(null),m=(0,n.useRef)(null),c=(0,n.useRef)(null),u=(0,n.useRef)(null),[S,de]=(0,n.useState)(""),[T,ie]=(0,n.useState)(""),[D,me]=(0,n.useState)(""),L=d(t=>t.campaignTypeId),l=(0,n.useRef)(null),[R,ce]=(0,n.useState)("");return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"flex gap-x-4 flex-col lg:flex-row",children:[(0,e.jsxs)("div",{className:"bg-white shadow-xl rounded-xl px-8 py-4 mt-4 grow",children:[(0,e.jsx)("h2",{className:"text-black tect-xl font-medium text-left my-4",children:g=="5"?"Single post":"Bidding"}),(0,e.jsx)("div",{className:"flex gap-4 flex-wrap",children:k.platform.map((t,s)=>(0,e.jsx)("div",{className:` p-2 rounded-lg shrink-0 ${i.includes(t.id)?"bg-white shadow-xl ":"bg-gray-200"} `,onClick:()=>{le(t.id)},children:(0,e.jsx)("img",{src:k.platform[s].platformLogoUrl,alt:"error",className:"w-10 h-10"})},s))}),(0,e.jsx)("div",{className:"flex gap-4 flex-wrap my-6",children:oe.map((t,s)=>(0,e.jsx)("div",{className:`shrink-0 cursor-pointer text-primary text-lg text-center font-normal w-28 py-1  rounded-xl ${t==x?"bg-white shadow-xl":"bg-gray-100"}`,onClick:()=>{se(t)},children:t},s))}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Campaign name"}),(0,e.jsx)("input",{ref:o,type:"text",className:"bg-[#EEEEEE]  outline-none border-none focus:border-gray-300 rounded-md w-full p-2",onChange:t=>me(t.target.value)}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Campaign info"}),(0,e.jsx)("textarea",{ref:m,className:"p-4 w-full h-40 outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),g=="6"?(0,e.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,e.jsxs)("div",{className:"grow",children:[(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Start date"}),(0,e.jsx)("input",{type:"date",ref:c,className:"bg-[#EEEEEE] outline-none border-none rounded-lg focus:border-gray-300 w-full p-2",onChange:t=>de(t.target.value)})]}),(0,e.jsx)("div",{className:"w-8"}),(0,e.jsxs)("div",{className:"grow",children:[(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"End date"}),(0,e.jsx)("input",{ref:u,type:"date",className:"bg-[#EEEEEE]  outline-none border-none focus:border-gray-300 rounded-md w-full p-2",onChange:t=>ie(t.target.value)})]})]}):null,(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Cost per post"}),(0,e.jsx)("input",{ref:l,type:"number",className:"bg-[#EEEEEE]  outline-none border-none focus:border-gray-300 rounded-md w-full p-2",onChange:t=>ce(t.target.value)})]}),r==""||r==null||r==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:r})]}),(0,e.jsx)("div",{children:(0,e.jsxs)("div",{className:"lg:w-80 bg-white  shadow-lx rounded-xl p-4 mt-4",children:[(0,e.jsx)("h1",{className:"text-primary text-lg font-medium",children:"Campaign Summary"}),(0,e.jsxs)("div",{className:"flex my-4",children:[(0,e.jsx)("p",{className:"text-sm text-primary font-normal",children:"Campaign name"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-sm text-primary font-medium",children:D==""?"--------":D})]}),(0,e.jsxs)("div",{className:"flex my-4",children:[(0,e.jsx)("p",{className:"text-sm text-primary font-normal",children:"Cost per post"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-sm text-primary font-medium",children:R==""?"--------":R})]}),g=="6"?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"flex my-4",children:[(0,e.jsx)("p",{className:"text-sm text-primary font-normal",children:"Start date"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-sm text-primary font-medium",children:S==""?"--------":new Date(S).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"})})]}),(0,e.jsxs)("div",{className:"flex my-4",children:[(0,e.jsx)("p",{className:"text-sm text-primary font-normal",children:"End date"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-sm text-primary font-medium",children:T==""?"--------":new Date(T).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"})})]})]}):null,r==""||r==null||r==null?null:(0,e.jsx)("div",{className:"my-4 bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-xl text-red-500 text-md font-normal text-md",children:r}),(0,e.jsxs)("div",{className:"flex w-full",children:[(0,e.jsx)("div",{onClick:()=>{b(-1)},className:"w-full",children:(0,e.jsx)(A,{text:"Back",textColor:"text-black",background:"bg-gray-100",width:"w-full",fontwidth:"font-bold"})}),(0,e.jsx)("div",{className:"w-10"}),(0,e.jsx)("div",{className:"w-full",onClick:async()=>{var t,s,P,M,B,H,O,$,U,j,X,q,F,z,V,_,G,J,K,Q,W,Y,Z,ee,te;if(i==null||i.length==0||i==null)a("Select a platform");else if(x==null||x==""||x==null)a("Select a media");else if(((t=o.current)==null?void 0:t.value)==null||((s=o.current)==null?void 0:s.value)==null||((P=o.current)==null?void 0:P.value)=="")a("Enter campaign name");else if(((M=o.current)==null?void 0:M.value.length)<4)a("Campaign should be more then 3 character.");else if(((B=m.current)==null?void 0:B.value)==null||((H=m.current)==null?void 0:H.value)==null||((O=m.current)==null?void 0:O.value)=="")a("Add campaign info");else if((($=l.current)==null?void 0:$.value)==null||((U=l.current)==null?void 0:U.value)==null||((j=l.current)==null?void 0:j.value)=="")a("Fill the cost per post");else if(g=="6"){let N=new Date(c.current.value),p=new Date(u.current.value),ue=N>p;if(((X=c.current)==null?void 0:X.value)==null||((q=c.current)==null?void 0:q.value)==null||((F=c.current)==null?void 0:F.value)=="")a("Enter planed starting date");else if(ue)a("Start date should be less then end date");else if(((z=u.current)==null?void 0:z.value)==null||((V=u.current)==null?void 0:V.value)==null||((_=u.current)==null?void 0:_.value)=="")a("Enter planed end date");else{let pe={userId:f,brandUserId:f,brandId:w,cityId:"0",currencyId:"0",categories:"0",minEligibleRating:"0",maxEligibleRating:"0",minReach:"0",maxReach:"0",costPerPost:(G=l.current)==null?void 0:G.value,totalBudget:"0",dos:"0",donts:"0",mentions:"0",hashtags:"0",campaignTypeId:L,campaignName:(J=o.current)==null?void 0:J.value,campaignInfo:(K=m.current)==null?void 0:K.value,platforms:i.join(),startAt:(Q=c.current)==null?void 0:Q.value,endAt:(W=u.current)==null?void 0:W.value},v=await y({method:"post",url:`${h}/api/add-campaign`,data:pe,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});if(v.data.status==!1)a(v.data.message);else{let fe={brandId:w,campaignId:v.data.data.campaign.id,remark:"init bid",bidamount:(Y=l.current)==null?void 0:Y.value},ae=await y({method:"post",url:`${h}/api/add-bid`,data:fe,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});if(ae.data.status==!1)a(ae.data.message);else return b(`/home/createcampaign/inviteinf/${v.data.data.campaign.id}`)}}}else{let N={userId:f,brandUserId:f,brandId:w,cityId:"0",currencyId:"0",categories:"0",minEligibleRating:"0",maxEligibleRating:"0",minReach:"0",maxReach:"0",costPerPost:(Z=l.current)==null?void 0:Z.value,totalBudget:"0",dos:"0",donts:"0",mentions:"0",hashtags:"0",campaignTypeId:L,campaignName:(ee=o.current)==null?void 0:ee.value,campaignInfo:(te=m.current)==null?void 0:te.value,platforms:i.join(),startAt:new Date().toLocaleDateString(),endAt:new Date().toLocaleDateString()},p=await y({method:"post",url:`${h}/api/add-campaign`,data:N,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});if(p.data.status==!1)a(p.data.message);else return b(`/home/createcampaign/inviteinf/${p.data.data.campaign.id}`)}},children:(0,e.jsx)(A,{text:"Create",textColor:"text-white",background:"bg-primary",width:"w-full"})})]})]})})]})})},ve=xe;export{ve as default};
