import{a as n}from"/build/_shared/chunk-NZ4E5E5G.js";import{a as U,b as z,c as G}from"/build/_shared/chunk-WIFSPRIB.js";import{a as y}from"/build/_shared/chunk-BC5I37BB.js";import"/build/_shared/chunk-EJYNOQMW.js";import"/build/_shared/chunk-UNEBNKOC.js";import"/build/_shared/chunk-2LR2MXSV.js";import{N as H,W as F,a as E}from"/build/_shared/chunk-LBP4PHVR.js";import{b as B,l as R}from"/build/_shared/chunk-CFMSPZYJ.js";import{c as b,e as ce,f as D}from"/build/_shared/chunk-ZZL6GC2B.js";var o=b(ce());var t=b(D());var ue=()=>{let N=B(),P=R(),[s,d]=(0,o.useState)(null),i=(0,o.useRef)(null),[m,p]=(0,o.useState)(null),[j,h]=(0,o.useState)(!1),v=n(e=>e.audience),J=n(e=>e.removeAudience),K=n(e=>e.clearAudience),O=n(e=>e.addAudience),f=n(e=>e.infLocation),_=n(e=>e.setInfLocation),u=(0,o.useRef)(null),V=n(e=>e.tilldate),W=n(e=>e.setTillDate),c=(0,o.useRef)(null),X=n(e=>e.maxInf),Z=n(e=>e.setMaxInf),r=(0,o.useRef)(null),q=n(e=>e.remuneration),Q=n(e=>e.setRemuneration),g=n(e=>e.remunerationType),Y=n(e=>e.setRemunerationType),ee=n(e=>e.setLat),te=n(e=>e.setLong);(0,o.useEffect)(()=>{var e,l,a;((e=u.current)==null?void 0:e.value)!=null&&(u.current.value=V),((l=c.current)==null?void 0:l.value)!=null&&(c.current.value=X.toString()),((a=r.current)==null?void 0:a.value)!=null&&(r.current.value=q)},[]);let ne={width:"100%",height:"100%"},[x,oe]=(0,o.useState)({lat:-3.745,lng:-38.523}),{isLoaded:le}=z({id:"google-map-script",googleMapsApiKey:"AIzaSyBiZK164IPHzJ213FTrIR_hDUWVnjhC_4o"}),[se,w]=(0,o.useState)(null),ae=(0,o.useCallback)(function(l){let a=new window.google.maps.LatLngBounds(x);l.fitBounds(a),w(l)},[]),re=(0,o.useCallback)(function(l){w(null)},[]),ie=e=>{oe({lat:e.latLng.lat(),lng:e.latLng.lng()}),ee(e.latLng.lat()),te(e.latLng.lng())};return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"bg-white shadow-xl rounded-xl px-8 py-4 mt-4",children:[(0,t.jsx)("h2",{className:"text-black tect-xl font-medium text-left",children:"Audience & demeography"}),(0,t.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Audience location"}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("div",{className:"bg-[#EEEEEE]  h-10 rounded-lg  flex gap-1 pl-2 sm:w-96 w-72",children:[(0,t.jsx)("div",{className:"flex gap-x-2 overflow-x-scroll no-scrollbar",children:v.map((e,l)=>(0,t.jsxs)("div",{className:"flex bg-white my-1 rounded-md py-1 px-2 items-center gap-x-4",children:[(0,t.jsx)("div",{className:" text-black font-semibold ",children:`@${e}`}),(0,t.jsx)("div",{className:"grid place-items-center cursor-pointer",onClick:()=>J(e),children:(0,t.jsx)(E,{icon:F,className:"text-lg font-bold text-red-500"})})]},l))}),(0,t.jsx)("div",{className:"grow"}),(0,t.jsx)("div",{className:"grid place-items-center px-4 bg-gray-300 rounded-lg",onClick:()=>h(!0),children:(0,t.jsx)(E,{icon:H})})]}),(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-primary text-center text-md font-normal my-2 w-20 cursor-pointer",onClick:K,children:"clear all"})})]}),j?(0,t.jsxs)("div",{className:"mt-4 flex",children:[(0,t.jsx)("div",{className:"grid place-items-center",children:(0,t.jsx)("input",{ref:i,type:"text",className:"bg-gray-200 w-full outline-none rounded-lg px-4 py-2",placeholder:"Audience"})}),(0,t.jsx)("div",{className:"w-6"}),(0,t.jsx)("div",{onClick:()=>{i.current.value==""||i.current.value==null||i.current.value==null?p("Audience location can't be empty!"):v.includes(i.current.value)?p("Audience already exist add a diffrent one"):i.current.value.indexOf(" ")>=0?p("Audience cannot containt space"):(O(i.current.value),i.current.value="",h(!1),p(null))},children:(0,t.jsx)(y,{text:"ADD",background:"bg-primary",width:"w-20"})})]}):null,m==""||m==null||m==null?null:(0,t.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-xl text-red-500 text-md font-normal text-md",children:m}),(0,t.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Influencer category"}),(0,t.jsx)("select",{className:"w-full p-2 bg-[#EEEEEE] rounded-lg outline-none border-none pr-6",onClick:e=>{let a=(e.target.value+"").split(" ");_(a[0],a[1],a[2])},children:P.data.map((e,l)=>e.id==f.id?(0,t.jsx)("option",{value:`${e.id} ${e.categoryName} ${e.categoryCode}`,className:"border-none outline-none font-normal text-lg",selected:!0,children:`${e.categoryName} [${e.categoryCode}]`},l):(0,t.jsx)("option",{value:`${e.id} ${e.categoryName} ${e.categoryCode}`,className:"border-none outline-none font-normal text-lg",children:`${e.categoryName} [${e.categoryCode}]`},l))}),(0,t.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Maximum no of influencers that can join the campaign"}),(0,t.jsx)("input",{ref:c,type:"number",className:"bg-[#EEEEEE] outline-none border-none rounded-lg focus:border-gray-300 mt-4 w-full p-2"}),(0,t.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Geo restriction ( Optional only applicable for influencer filtering ) radius in kilometers"}),(0,t.jsx)("div",{className:"w-full h-96",children:le?(0,t.jsx)(U,{mapContainerStyle:ne,center:x,zoom:10,onLoad:ae,onUnmount:re,onClick:ie,children:x&&(0,t.jsx)(G,{position:x})}):null}),(0,t.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Accept participation / invite till"}),(0,t.jsx)("input",{type:"date",ref:u,className:"bg-[#EEEEEE] outline-none border-none rounded-lg focus:border-gray-300 mt-4 w-full p-2"}),(0,t.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Remuneration"}),(0,t.jsxs)("select",{className:"w-full p-2 bg-[#EEEEEE] rounded-lg outline-none border-none pr-6",onChange:e=>{Y(e.target.value)},children:[(0,t.jsx)("option",{value:"1",className:"border-none outline-none font-normal text-lg",children:"Cash"}),(0,t.jsx)("option",{value:"2",className:"border-none outline-none font-normal text-lg",children:"Product"}),(0,t.jsx)("option",{value:"3",className:"border-none outline-none font-normal text-lg",children:"Revenue"}),(0,t.jsx)("option",{value:"4",className:"border-none outline-none font-normal text-lg",children:"Discount"})]}),g=="1"?(0,t.jsx)("input",{ref:r,type:"text",className:"bg-[#EEEEEE]  outline-none border-none focus:border-gray-300 rounded-md mt-4 w-full p-2",placeholder:"usd"}):null,g=="2"?(0,t.jsx)("input",{ref:r,type:"text",className:"bg-[#EEEEEE]  outline-none border-none focus:border-gray-300 rounded-md mt-4 w-full p-2",placeholder:"Product details"}):null,g=="3"?(0,t.jsx)("input",{ref:r,type:"text",className:"bg-[#EEEEEE]  outline-none border-none focus:border-gray-300 rounded-md mt-4 w-full p-2",placeholder:"% per sale"}):null,g=="4"?(0,t.jsx)("input",{ref:r,type:"text",className:"bg-[#EEEEEE]  outline-none border-none focus:border-gray-300 rounded-md mt-4 w-full p-2",placeholder:"Coupons"}):null,s==""||s==null||s==null?null:(0,t.jsx)("div",{className:"my-4 bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-xl text-red-500 text-md font-normal text-md",children:s}),(0,t.jsxs)("div",{className:"flex w-full",children:[(0,t.jsx)("div",{onClick:()=>{N(-1)},className:"w-full",children:(0,t.jsx)(y,{text:"Back",textColor:"text-black",background:"bg-gray-100",width:"w-full"})}),(0,t.jsx)("div",{className:"w-10"}),(0,t.jsx)("div",{className:"w-full",onClick:()=>{var e,l,a,C,k,A,L,I,M,T,$,S;v.length==0?d("Add Audience Location"):f.id==null||f.id==null||f.id==""?d("Select Influencer category"):((e=c.current)==null?void 0:e.value)==null||c.current.value==null||((l=c.current)==null?void 0:l.value)==""||parseInt((a=c.current)==null?void 0:a.value)==0?d("Select maximum influencer no. "):((C=u.current)==null?void 0:C.value)==null||((k=u.current)==null?void 0:k.value)==null||((A=u.current)==null?void 0:A.value)==""?d("Select Accept participation last date. "):((L=r.current)==null?void 0:L.value)==null||((I=r.current)==null?void 0:I.value)==null||((M=r.current)==null?void 0:M.value)==""?d("Select remuneration. "):(W((T=u.current)==null?void 0:T.value),Z(parseInt(($=c.current)==null?void 0:$.value)),Q((S=r.current)==null?void 0:S.value),N("/home/createcampaign/step4"))},children:(0,t.jsx)(y,{text:"Next",textColor:"text-white",background:"bg-primary",width:"w-full"})})]})]})})},de=ue;export{de as default};
