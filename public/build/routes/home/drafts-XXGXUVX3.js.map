{
  "version": 3,
  "sources": ["../../../../app/routes/home/drafts.tsx"],
  "sourcesContent": ["import { LoaderArgs, LoaderFunction, json } from \"@remix-run/node\";\r\nimport { useLoaderData } from \"@remix-run/react\";\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { BaseUrl } from \"~/const\";\r\nimport { userPrefs } from \"~/cookies\";\r\n\r\n\r\nexport const loader: LoaderFunction = async (props: LoaderArgs) => {\r\n\r\n\r\n    const cookieHeader = props.request.headers.get(\"Cookie\");\r\n    const cookie = await userPrefs.parse(cookieHeader);\r\n    return json({ user: cookie.user });\r\n}\r\n\r\nconst UserDrafts = () => {\r\n    const userid = useLoaderData().user.id;\r\n    const [resDarft, setResDarft] = useState<any[]>([]);\r\n\r\n    const init = async () => {\r\n        let req = {\r\n            \"search\": {\r\n                \"fromUser\": userid,\r\n                \"influencer\": userid,\r\n            }\r\n        };\r\n\r\n        const responseData = await axios.post(`${BaseUrl}/api/search-draft`, req);\r\n\r\n        if (responseData.data.status == true) {\r\n            setResDarft(responseData.data.data);\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        init();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"p-4 rounded-xl shadow-xl bg-white my-4\">\r\n                {\r\n                    resDarft.length == 0 ?\r\n                        <div>You haven't created any drafts yet.</div>\r\n                        :\r\n                        <div>\r\n                            <p className=\"text-md font-medium\">User Created draft</p>\r\n                            <div className=\"w-full bg-gray-400 h-[1px] my-2\"></div>\r\n                            <div className=\"flex gap-8 flex-wrap\">\r\n                                {\r\n                                    resDarft.map((val: any, index: number) => {\r\n                                        let image = val[\"brand\"].length == 0 || val[\"brand\"] == undefined || val[\"brand\"] == null || val[\"brand\"] == \"\" ? \"/images/avatar/user.png\" : val[\"brand\"][\"logo\"] == \"0\" || val[\"brand\"][\"logo\"] == undefined || val[\"brand\"][\"logo\"] == null || val[\"brand\"][\"logo\"] == \"\" ? \"/images/avatar/user.png\" : val[\"brand\"][\"logo\"];\r\n                                        return <div key={index} className=\"my-2 p-4 bg-white rounded-lg shadow-lg w-60\">\r\n                                            <div className=\"flex\">\r\n                                                <img src={image} alt=\"influencer pic\" className=\"w-10 h-10 shrink-0 rounded-md\" />\r\n                                                <div className=\"ml-2\">\r\n                                                    <p className=\"text-md font-medium\">{val.brand.name}</p>\r\n                                                    <p className=\"text-sm font-medium\">{val.brand.email}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                            <p className=\"mt-2 text-md font-medium\">Description</p>\r\n                                            <p className=\"text-sm font-medium\">{val.description}</p>\r\n                                            <p className=\"mt-2 text-md font-medium\">Handle Info</p>\r\n                                            <div className=\"flex gap-4\">\r\n                                                <img src={val.handle.platform.logo} alt=\"platform\" className=\"w-14 h-14 shrink-0 rounded-md object-fill object-center\" />\r\n                                                <p className=\"text-xl font-semibold text-center\">{val.handle.name}</p>\r\n                                            </div>\r\n                                            <p className=\"mt-2 text-md font-medium\">Publication Time</p>\r\n                                            {val.draft_approval != null ?\r\n                                                <p className=\"text-sm font-medium\">{new Date(val.draft_approval.toString()).toLocaleString()}</p> :\r\n                                                <p className=\"text-sm font-medium\">No Publication Time is set</p>\r\n                                            }\r\n                                            <p className=\"mt-2 text-md font-medium\">Attachment</p>\r\n                                            <a target=\"_blank\" className=\"mt-2 text-sm font-normal border-2 border-blue-500 inline-block my-2 py-1 px-4  text-blue-500 hover:text-white hover:bg-blue-500\" href={val.attach01}>View Doc</a>\r\n                                            {val.status.name == \"REJECTED\" ?\r\n                                                <>\r\n                                                    <p className=\"mt-2 text-md font-medium\">Rejection Reason</p>\r\n                                                    <p className=\"text-sm font-medium\">{val.status.message}</p>\r\n                                                </>\r\n                                                : null}\r\n                                            <p className=\"mt-2 text-md font-medium\">Status</p>\r\n                                            <p className={`mt-2 text-md text-white font-medium text-center rounded-md ${val.status.name == \"ACCEPTED\" ? \"bg-green-500\" : val.status.name == \"PENDING\" ? \"bg-yellow-500\" : \"bg-red-500\"}`}>{val.status.name}</p>\r\n                                        </div>\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                }\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\n\r\nexport default UserDrafts;"],
  "mappings": "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",
  "names": ["import_react"]
}
