import{a as P}from"/build/_shared/chunk-PBDPE27U.js";import{a as b}from"/build/_shared/chunk-NJKAJ7NJ.js";import{J as N,Z as C,a as u,s as y}from"/build/_shared/chunk-A6XXWJXG.js";import{b as q,h as I,l as $}from"/build/_shared/chunk-P4VL4XDR.js";import{a as w,b as h}from"/build/_shared/chunk-WLYSEPGK.js";import{e as k,g as L,h as U}from"/build/_shared/chunk-EUC6ZTEW.js";var n=k(L());var e=k(U());var M=()=>{let r=$(),l=r.userdata.role.code=="50",p=r.camp.campaigns,c=r.userdata.profileCompleteness==1||r.userdata.profileCompleteness=="1",[o,x]=(0,n.useState)(null),f=q(),d=()=>{c?(x(null),f("/home/createcampaign")):x("Complete your profile first.")};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{children:[l?(0,e.jsx)("div",{children:(0,e.jsx)(E,{camp:p})}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(H,{userid:r.userdata.id}),(0,e.jsx)(O,{userId:r.userdata.id})]}),l?(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"bg-white shadow-xl rounded-xl p-6",children:[(0,e.jsx)("h1",{className:"text-black text-center font-bold text-2xl",children:"Would you like to create new campaign ?"}),(0,e.jsx)("div",{className:"w-full text-center bg-red",children:(0,e.jsx)("div",{onClick:d,children:(0,e.jsx)(b,{text:"Create Campaign",textColor:"text-white",background:"bg-secondary"})})}),o==""||o==null||o==null?null:(0,e.jsx)("div",{className:"bg-rose-500 bg-opacity-10 border-2 text-center border-rose-500 rounded-md text-rose-500 text-lg font-normal text-md my-4",children:o})]})}):null]})})},T=M,E=r=>{let l=r.camp,[p,c]=(0,n.useState)([]),[o,x]=(0,n.useState)(!0),f=async()=>{if(o){let t=l.filter(s=>new Date(s.endAt)>new Date);c(s=>t)}else{let t=l.filter(s=>new Date(s.endAt)<new Date);c(s=>t)}};return(0,n.useEffect)(()=>{f()},[o]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"flex my-6 md:flex-row flex-col flex-wrap items-center",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"text-2xl font-bold text-black text-left mt-4",children:"My campaigns"}),(0,e.jsx)("p",{className:"text-md font-normal text-black text-left",children:"Here you can manage all the campaigns that you are participating in."})]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"w-full",onClick:()=>{x(!0)},children:(0,e.jsx)(b,{width:"w-60",text:"Active campaigns",background:`${o?"bg-[#bdff80]":"bg-white"}`,textColor:"text-black",fontwidth:"font-bold"})}),(0,e.jsx)("div",{className:"w-6"}),(0,e.jsx)("div",{className:"w-full",onClick:()=>{x(!1)},children:(0,e.jsx)(b,{width:"w-60",text:"Finished campaigns",textColor:"text-black",background:`${o?"bg-white":"bg-[#bdff80]"}`,fontwidth:"font-bold"})})]})]}),(0,e.jsxs)("div",{className:"bg-white rounded-2xl my-3 shadow-xl p-4",children:[(0,e.jsxs)("div",{className:"w-60 rounded-xl text-xl font-bold text-black p-2 my-4",children:[" ",(0,e.jsx)(u,{icon:y,className:"text-md text-secondary"})," ","Your Campaign"," "]}),p.length==0?(0,e.jsx)("h1",{className:"text-black font-medium text-xl text-center",children:"You haven't created any campaign yet."}):null,(0,e.jsx)("div",{className:"flex gap-6 flex-wrap",children:p.map((t,s)=>{let m=[];for(let v=0;v<t.platforms.length;v++)m.push(t.platforms[v].platformLogoUrl);let A=t.brand.length==0||t.brand==null||t.brand==null||t.brand==""||t.brand.logo=="0"||t.brand.logo==null||t.brand.logo==null||t.brand.logo==""?"/images/avatar/user.png":t.brand.logo;return(0,e.jsx)("div",{children:(0,e.jsx)(P,{id:t.id,currency:"USD",platforms:m,maxval:t.costPerPost.split(".")[0],weburl:t.brand.webUrl,category:t.type.name,image:A,name:t.brand.name,title:t.name,btntext:"View"})},s)})})]})]})},H=r=>{let[l,p]=(0,n.useState)([]),[c,o]=(0,n.useState)(!0),x=async()=>{let a={search:{status:"3",influencer:r.userid}},t=await w({method:"post",url:`${h}/api/search-invite`,data:a,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});if(c){let s=t.data.data.filter(m=>new Date(m.campaign.endAt)>new Date);p(m=>s)}else{let s=t.data.data.filter(m=>new Date(m.campaign.endAt)<new Date);p(m=>s)}};return(0,n.useEffect)(()=>{x()},[c]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"flex my-6 md:flex-row flex-col flex-wrap items-center",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"text-2xl font-bold text-black text-left mt-4",children:"My campaigns"}),(0,e.jsx)("p",{className:"text-md font-normal text-black text-left",children:"Here you can manage all the campaigns that you are participating in."})]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"w-full",onClick:()=>{o(!0)},children:(0,e.jsx)(b,{width:"w-60",text:"Active campaigns",background:`${c?"bg-[#bdff80]":"bg-white"}`,textColor:"text-black",fontwidth:"font-bold"})}),(0,e.jsx)("div",{className:"w-6"}),(0,e.jsx)("div",{className:"w-full",onClick:()=>{o(!1)},children:(0,e.jsx)(b,{width:"w-60",text:"Finished campaigns",textColor:"text-black",background:`${c?"bg-white":"bg-[#bdff80]"}`,fontwidth:"font-bold"})})]})]}),(0,e.jsxs)("div",{className:"bg-white rounded-2xl my-3 shadow-xl p-4",children:[(0,e.jsxs)("div",{className:"w-60 rounded-xl text-xl font-bold text-black p-2 my-4",children:[" ",(0,e.jsx)(u,{icon:y,className:"text-md text-secondary"})," ","Active Campaign"," "]}),l.length==0?(0,e.jsx)("h1",{className:"text-black font-medium text-xl text-center",children:"You haven't collaborated in any campaign."}):null,(0,e.jsx)("div",{className:"flex flex-wrap gap-6 items-stretch",children:l.map((a,t)=>{let s=a.brand.length==0||a.brand==null||a.brand==null||a.brand==""||a.brand.logo=="0"||a.brand.logo==null||a.brand.logo==null||a.brand.logo==""?"/images/avatar/user.png":a.brand.logo;return(0,e.jsxs)("div",{className:"rounded-xl shadow-xl p-4 w-72 my-2 h-full bg-white ",children:[(0,e.jsxs)("div",{className:"flex items-end gap-x-3 h-full",children:[(0,e.jsx)("div",{children:(0,e.jsx)("img",{src:s,alt:"error",className:"object-cover w-16 h-16 rounded"})}),(0,e.jsx)("p",{className:"text-black font-semibold text-xl content-end text-left",children:a.brand.name})]}),(0,e.jsx)("p",{className:"text-gray-700 font-semibold text-xl text-left mt-2",children:a.campaign.name}),(0,e.jsxs)("p",{className:"text-black font-semibold text-xs text-left mt-2",children:["email : ",a.brand.email]}),(0,e.jsx)(I,{to:`/home/campaigns/${a.campaign.id}`,children:(0,e.jsx)(b,{text:"View",textColor:"text-black",background:"bg-[#01FFF4]",width:"w-full",margin:"my-2",fontwidth:"font-bold"})})]},t)})})]})]})},O=r=>{let[l,p]=(0,n.useState)([]),[c,o]=(0,n.useState)(!1),[x,f]=(0,n.useState)(!1),[d,a]=(0,n.useState)(null),t=(0,n.useRef)(null),[s,m]=(0,n.useState)(null),A=async()=>{let i={search:{status:"1",influencer:r.userId,toUser:r.userId}},g=await w({method:"post",url:`${h}/api/search-invite`,data:i});p(g.data.data)};(0,n.useEffect)(()=>{A()},[]);let v=async()=>{let i={id:s,status:"3"},g=await w.post(`${h}/api/update-invite`,i);if(g.data.staus==!1)return a(g.data.message);o(!1),window.location.reload()},B=async()=>{var D,F,j,R;if(((D=t.current)==null?void 0:D.value)==null||((F=t.current)==null?void 0:F.value)==null||((j=t.current)==null?void 0:j.value)=="")return a("Fell the reason.");let i={id:s,status:"5",rejectReason:(R=t.current)==null?void 0:R.value},g=await w.post(`${h}/api/update-invite`,i);if(g.data.staus==!1)return a(g.data.message);t.current.value=="",f(!1),window.location.reload()};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${c?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Accept"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("p",{className:"text-center font-medium text-gray-800",children:"Are you sure you want to accept this?"}),d==""||d==null||d==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:d}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{o(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(u,{className:"mx-2",icon:N}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:v,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(u,{className:"mx-2",icon:C}),"Accept"]})]})]})}),(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${x?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Reject"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("input",{ref:t,type:"text",className:"w-full bg-gray-200 rounded-lg  px-2 py-1 my-2 outline-none",placeholder:"Enter the reason of rejection."}),d==""||d==null||d==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:d}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{f(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(u,{className:"mx-2",icon:N}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:B,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(u,{className:"mx-2",icon:C}),"Reject"]})]})]})}),(0,e.jsxs)("div",{className:"bg-white rounded-2xl my-4 shadow-xl p-4",children:[(0,e.jsxs)("div",{className:" rounded-xl text-xl font-bold text-black p-2 my-4",children:[" ",(0,e.jsx)(u,{icon:y,className:"text-md text-secondary"})," ","Requested brand campaign"]}),l.length==0?(0,e.jsx)("h1",{className:"text-black font-medium text-xl text-center",children:"You haven't got any request from the campaign."}):null,(0,e.jsx)("div",{className:"flex flex-wrap gap-6",children:l.map((i,g)=>(0,e.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-lg",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:i.brand.logo,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md object-center object-cover"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:i.brand.name.toString().split("@")[0]}),(0,e.jsx)("p",{className:"text-sm font-medium",children:i.brand.email})]})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Message"}),(0,e.jsx)("p",{className:"text-sm font-medium",children:i.inviteMessage}),(0,e.jsxs)("div",{className:"flex gap-4 mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{m(i.id),o(!0)},className:"bg-white  text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(u,{className:"mx-2",icon:C}),"Accept"]}),(0,e.jsxs)("button",{onClick:()=>{m(i.id),f(!0)},className:"bg-white  text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(u,{className:"mx-2",icon:N}),"Reject"]})]}),(0,e.jsx)(I,{to:`/home/campaigns/${i.id}`,className:"inline-block mt-4 rounded-md  text-xl font-semibold text-center text-cyan-500 bg-cyan-500 bg-opacity-10 border-cyan-500 border-2 py-1 px-2 w-full",children:"View campaign"})]},g))})]})]})};export{T as default};
