import{a as M}from"/build/_shared/chunk-C2SSW6VG.js";import{a as F}from"/build/_shared/chunk-7S4RZ54Q.js";import{a as O}from"/build/_shared/chunk-6QRY2UAU.js";import{a as x}from"/build/_shared/chunk-BC5I37BB.js";import{a as c,b as m}from"/build/_shared/chunk-UNEBNKOC.js";import{P as S,a as R}from"/build/_shared/chunk-LBP4PHVR.js";import{l as k}from"/build/_shared/chunk-CFMSPZYJ.js";import{c as T,e as L,f as B}from"/build/_shared/chunk-ZZL6GC2B.js";var l=T(L()),$=T(O());var e=T(B());var j=()=>{let t=k().user,r=k().curUser,[n,o]=(0,l.useState)(0),a=t.pic=="0"||t.pic==null||t.pic==null||t.pic==""?"/images/avatar/user.png":t.pic,[s,i]=(0,l.useState)(null),u=(0,l.useRef)(null),[y,f]=(0,l.useState)(!1),[w,b]=(0,l.useState)(!1),[N,A]=(0,l.useState)(!1),v=k().campaign,C=r.role.code=="50",I=async d=>{let p={search:{campaign:d.toString(),brand:r.brand.id,influencer:t.id}};if((await c.post(`${m}/api/search-invite`,p)).data.data.length>0)return i("Already Invited.");{let P={campaignId:d.toString(),influencerId:t.id,fromUserId:r.id,toUserId:t.id,inviteMessage:"A brand invited you to there campaign."},h=await c.post(`${m}/api/add-invite`,P);h.data.status==!1?i(h.data.message):(u.current.value="",b(!1))}},U=async()=>{let d={search:{type:"1",brand:r.brand.id,influencer:t.id}};(await c({method:"post",url:`${m}/api/search-review`,data:d})).data.data.length>0&&A(!0)};return(0,l.useEffect)(()=>{U()},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:`w-full h-screen bg-gray-500 fixed top-0 left-0 bg-opacity-30 grid place-items-center ${w?"fixed":"hidden"}`,style:{zIndex:100},children:(0,e.jsxs)("div",{className:"p-6 bg-white rounded-xl shadow-xl w-96 h-80 min-h-min flex flex-col",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:()=>{b(!1)},children:(0,e.jsx)(R,{icon:S,className:"font-bold text-2xl text-center text-primary"})})]}),(0,e.jsx)("h1",{className:"text-primary text-lg font-bold text-left",children:"Your Campaigns"}),s==""||s==null||s==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-2",children:s}),v.length==0?(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-2",children:"You don't have any campaign"}):null,(0,e.jsx)("div",{className:"overflow-y-scroll no-scrollbar",children:v.map((d,p)=>(0,e.jsxs)("div",{className:"flex gap-2 my-4 items-center",children:[(0,e.jsxs)("p",{className:"text-gray-600 font-semibold text-xl",children:[p+1,"."]}),(0,e.jsx)("p",{className:"text-gray-600 font-semibold text-lg",children:d.name}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("button",{className:"text-white rounded-md py-1 px-4 bg-secondary font-semibold",onClick:()=>I(d.id),children:"INVITE"})]},p))})]})}),(0,e.jsx)("div",{className:`w-full h-screen bg-gray-500 fixed top-0 left-0 bg-opacity-30 grid place-items-center ${y?"fixed":"hidden"}`,style:{zIndex:100},children:(0,e.jsxs)("div",{className:"p-6 bg-white rounded-xl shadow-xl w-96",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:()=>{f(!1)},children:(0,e.jsx)(R,{icon:S,className:"font-bold text-2xl text-center text-primary"})})]}),(0,e.jsx)("h1",{className:"text-primary text-lg font-bold text-left",children:"Connect"}),(0,e.jsx)("textarea",{ref:u,className:"p-4 w-full h-40 outline-none border-2 bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none mt-4",placeholder:"message"}),s==""||s==null||s==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:s}),(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:async()=>{var D,P,h,E;if(((D=u.current)==null?void 0:D.value)==null||((P=u.current)==null?void 0:P.value)==null||((h=u.current)==null?void 0:h.value)=="")return i("Message can't be blank");let d={campaignDraftId:"0",fromUserId:r.id,toUserId:t.id,comment:(E=u.current)==null?void 0:E.value},p=await c({method:"post",url:`${m}/api/add-chat`,data:d,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});return p.data.status?f(!1):i(p.data.message)},children:(0,e.jsx)(x,{text:"send",background:"bg-primary",textColor:"text-white"})})]})]})}),(0,e.jsxs)("div",{className:"w-full mt-4 shadow-xl bg-white rounded-xl",children:[(0,e.jsx)("img",{src:"/images/products/shoe1.jpg",alt:"error",className:"w-full h-60 object-cover rounded-t-xl"}),(0,e.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,e.jsxs)("div",{className:"p-8 flex flex-row gap-x-3 lg:flex-col",children:[(0,e.jsx)("div",{children:(0,e.jsx)("img",{src:a,alt:"user avatar",className:"w-32 h-32 rounded-md object-cover object-center"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"text-black text-lg font-medium my-2",children:t.userName}),(0,e.jsx)("h1",{className:"text-gray-600 text-sm font-medium my-2",children:t.knownAs}),(0,e.jsx)("p",{className:"text-gray-800 text-md font-normal",children:t.email}),(0,e.jsx)("div",{onClick:()=>{f(!0)},children:(0,e.jsx)(x,{text:"Message",background:"bg-secondary",fontwidth:"font-bold"})}),C?(0,e.jsx)("div",{onClick:()=>{b(!0)},children:(0,e.jsx)(x,{text:"Invite",background:"bg-secondary",fontwidth:"font-bold"})}):(0,e.jsx)("div",{})]})]}),(0,e.jsx)("div",{className:"h-72 w-[2px] bg-gray-300 hidden lg:block mt-8"}),(0,e.jsxs)("div",{className:"p-8",children:[(0,e.jsx)("div",{className:"flex gap-x-4 flex-col md:flex-row gap-y-2"}),(0,e.jsx)("h1",{className:"text-primary text-lg font-medium mt-4 mb-2",children:"User Bio"}),(0,e.jsx)("p",{className:"text-black text-sm font-normal",children:t.bio})]})]})]}),(0,e.jsxs)("div",{className:"w-full mt-4 shadow-xl bg-white rounded-xl flex gap-4 overflow-x-scroll px-4",children:[(0,e.jsx)(g,{text:"Insights",currentTab:n,tab:0,click:()=>{o(0)}}),(0,e.jsx)(g,{text:"Payments",currentTab:n,tab:1,click:()=>{o(1)}}),(0,e.jsx)(g,{text:"Channels",currentTab:n,tab:3,click:()=>{o(3)}}),(0,e.jsx)(g,{text:"Personal Info",currentTab:n,tab:4,click:()=>{o(4)}}),(0,e.jsx)(g,{text:"Past Associations",currentTab:n,tab:5,click:()=>{o(5)}}),(0,e.jsx)(g,{text:"Reviews",currentTab:n,tab:6,click:()=>{o(6)}}),(0,e.jsx)(g,{text:"Dispute",currentTab:n,tab:7,click:()=>{o(7)}})]}),(0,e.jsx)("div",{children:n==1?(0,e.jsx)("div",{children:(0,e.jsx)(z,{userId:t.id})}):null}),n==3?(0,e.jsx)(X,{userId:t.id}):null,n==4?(0,e.jsx)(q,{name:t.userName.toString().split("@")[0],bio:t.bio,career:t.careerHistory,personal:t.personalHistory,external:t.externalLinks}):null,n==5?(0,e.jsx)(_,{userId:t.id,brandId:r.brand.id}):null,n==6?(0,e.jsxs)(e.Fragment,{children:[N?null:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("p",{className:"text-md text-primary font-semibold py-1",children:"Rating"}),(0,e.jsx)("div",{className:"w-full h-[1px] bg-slate-300"}),(0,e.jsx)(F,{campaignId:"0",brandId:r.brand.id,influencerId:t.id,reviewType:"1"})]}),(0,e.jsx)("p",{className:"text-md text-primary font-semibold py-1",children:"Your Reviews"}),(0,e.jsx)("div",{className:"w-full h-[1px] bg-slate-300"}),(0,e.jsx)(J,{userId:t.id,brandId:r.brand.id})]}):null,n==7?(0,e.jsx)(Y,{brandId:r.brand.id,userId:t.id}):null]})},H=j,g=t=>(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{onClick:t.click,children:(0,e.jsx)(x,{text:t.text,background:`${t.currentTab==t.tab?"bg-[#01FFF4]":"bg-gray-100"}`,fontwidth:"font-bold",textColor:`${t.currentTab==t.tab?"text-black":"text-gray-600"}`})})}),X=t=>{let[r,n]=(0,l.useState)([]),o=async()=>{let a=await c.post(`${m}/api/get-user-handles`,{userId:t.userId},{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});n(s=>a.data.data)};return(0,l.useEffect)(()=>{o()},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"bg-white p-4 w-full mt-4 flex flex-wrap gap-4 rounded-xl",children:(0,e.jsxs)("table",{className:"md:w-full md:table-auto border-separate border-spacing-y-3 w-[700px]",children:[(0,e.jsx)("thead",{className:"w-full bg-gray-100 rounded-xl p-2",children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{scope:"col",className:"mt-2 font-normal p-2 text-left",children:"Media"}),(0,e.jsx)("th",{scope:"col",className:"mt-2 font-normal p-2 text-left",children:"Platform Name"}),(0,e.jsx)("th",{scope:"col",className:"mt-2 font-normal p-2 text-left",children:"Account"}),(0,e.jsx)("th",{scope:"col",className:"mt-2 font-normal p-2 text-left",children:"Followers"})]})}),(0,e.jsx)("tbody",{className:"gap-y-4",children:r.map((a,s)=>(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("img",{src:a.platformLogoUrl,alt:"error",className:"w-12 h-12 rounded-md object-cover"})}),(0,e.jsx)("td",{children:a.platformName}),(0,e.jsx)("td",{children:a.handleName}),(0,e.jsx)("td",{children:a.follower.toString().split(".")[0]})]},s))})]})})})},q=t=>{let r=t.bio==null||t.bio==null||t.bio==""?"User bio is empty.":t.bio,n=t.personal==null||t.personal==null||t.personal==""?"User personal history is empty.":t.personal,o=t.career==null||t.career==null||t.career==""?"User career history is empty.":t.career,a=t.external==null||t.external==null||t.external==""?"User external links is empty.":t.external;return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"bg-white p-4 w-full mt-4 rounded-xl",children:[(0,e.jsx)("h3",{className:"text-primary text-xl font-semibold mt-4",children:t.name}),(0,e.jsx)("p",{className:"text-left font-normal text-gray-700",children:r}),(0,e.jsx)("h3",{className:"text-primary text-xl font-semibold mt-4",children:"Personal Life"}),(0,e.jsx)("p",{className:"text-left font-normal text-gray-700",children:n}),(0,e.jsx)("h3",{className:"text-primary text-xl font-semibold mt-4",children:"Career"}),(0,e.jsx)("p",{className:"text-left font-normal text-gray-700",children:o}),(0,e.jsx)("h3",{className:"text-primary text-xl font-semibold mt-4",children:"External Links"}),(0,e.jsx)("p",{className:"text-left font-normal text-gray-700",children:a})]})})},_=t=>{let[r,n]=(0,l.useState)([]),o=async()=>{let a={search:{fromUser:t.userId,influencer:t.userId,brand:t.brandId}},s=await c.post(`${m}/api/search-draft`,a);s.data.status==!0&&n(s.data.data)};return(0,l.useEffect)(()=>{o()},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"bg-white p-4 w-full mt-4 rounded-xl",children:r.length==0?(0,e.jsx)("div",{className:"text-center w-full px-4 py-8 text-2xl text-gray-600 font-semibold ",children:"This brand have no past associations with you."}):(0,e.jsx)("div",{className:"flex flex-wrap gap-6 pb-8 pt-6",children:r.map((a,s)=>{let i=a.brand.length==0||a.brand==null||a.brand==null||a.brand==""||a.brand.logo=="0"||a.brand.logo==null||a.brand.logo==null||a.brand.logo==""?"/images/avatar/user.png":a.brand.logo;return(0,e.jsxs)("div",{className:"my-2 p-4 bg-white rounded-lg shadow-lg w-60",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:i,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:a.brand.name}),(0,e.jsx)("p",{className:"text-sm font-medium",children:a.brand.email})]})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Description"}),(0,e.jsx)("p",{className:"text-sm font-medium",children:a.description}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Attachment"}),(0,e.jsx)("a",{target:"_blank",className:"mt-2 text-sm font-normal border-2 border-blue-500 inline-block my-2 py-1 px-4  text-blue-500 hover:text-white hover:bg-blue-500",href:a.attach01,children:"View pdf"}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Status"}),(0,e.jsx)("p",{className:`mt-2 text-md text-white font-medium text-center rounded-md ${a.status.name=="ACCEPTED"?"bg-green-500":a.status.name=="PENDING"?"bg-yellow-500":"bg-red-500"}`,children:a.status.name})]},s)})})})})},J=t=>{let[r,n]=(0,l.useState)([]),o=async()=>{let a=await c.post(`${m}/api/get-user-review`,{userId:t.userId},{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});n(s=>a.data.data)};return(0,l.useEffect)(()=>{o()},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"bg-white p-4 w-full mt-4 rounded-xl flex-wrap flex gap-6",children:r.map((a,s)=>(0,e.jsxs)("div",{className:"rounded-md shadow-lg p-6 w-80",children:[(0,e.jsxs)("div",{className:"flex gap-4",children:[(0,e.jsx)("img",{src:a.brandLogoUrl,alt:"brand logo",className:"w-20 h-20 rounded-md object-cover object-center"}),(0,e.jsx)("div",{className:"h-full",children:(0,e.jsx)("p",{className:"text-xl font-medium",children:a.brandName})})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-lg text-gray-600 font-medium mt-4",children:"Campaign Rating"}),(0,e.jsx)($.Rating,{initialValue:Math.floor((Number(a.avg_rating1)+Number(a.avg_rating2)+Number(a.avg_rating3))/3),size:35})]})]},s))})})},z=t=>{let[r,n]=(0,l.useState)([]),o=async()=>{let a=await c.post(`${m}/api/payment-status`,{userId:t.userId},{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});n(s=>a.data.data)};return(0,l.useEffect)(()=>{o()},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{children:(0,e.jsxs)("div",{className:"bg-white py-2 rounded-md p-6 mt-10 overflow-x-scroll",children:[(0,e.jsx)("p",{className:"text-left font-semibold text-2xl text-gray-800 my-4",children:"Brand wise revenue"}),r.length==0?(0,e.jsx)("p",{className:"text-center font-semibold text-gray-600 text-2xl",children:"There is nothing to show"}):(0,e.jsxs)("table",{className:"md:w-full md:table-auto border-separate border-spacing-y-3 w-[700px]",children:[(0,e.jsx)("thead",{className:"w-full bg-gray-100 rounded-xl p-2",children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{scope:"col",className:"mt-2 font-normal p-2 text-left",children:"Brand"}),(0,e.jsx)("th",{scope:"col",className:"mt-2 font-normal p-2 text-left",children:"Campaign Name"}),(0,e.jsx)("th",{scope:"col",className:"mt-2 font-normal p-2 text-left",children:"Earning"}),(0,e.jsx)("th",{scope:"col",className:"mt-2 font-normal p-2 text-left",children:"Date"})]})}),(0,e.jsx)("tbody",{className:"gap-y-4",children:r.map((a,s)=>(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("img",{src:a.brandLogoUrl,alt:"error",className:"w-12 h-12 rounded-md object-cover"})}),(0,e.jsx)("td",{children:a.campaign_name}),(0,e.jsxs)("td",{children:[" ",a.total_amount_requested.toString().split(".")[0]]}),(0,e.jsx)("td",{children:M(new Date(Date.now()-a.days_since_payment_made*24*60*60*1e3))})]},s))})]})]})})})},Y=t=>{let[r,n]=(0,l.useState)(null),[o,a]=(0,l.useState)(null),s=(0,l.useRef)(null),i=(0,l.useRef)(null),u=async()=>{var y,f,w,b,N,A,v,C,I;if(((y=s.current)==null?void 0:y.value)==null||((f=s.current)==null?void 0:f.value)==null||((w=s.current)==null?void 0:w.value)=="")n("Fill the message.");else if(((b=i.current)==null?void 0:b.value)==null||((N=i.current)==null?void 0:N.value)==null||((A=i.current)==null?void 0:A.value)==""||((v=i.current)==null?void 0:v.value)=="0")n("Select one reason.");else{let U={type:(C=i.current)==null?void 0:C.value,userId:t.userId,brandId:t.brandId,isBrand:0,message:(I=s.current)==null?void 0:I.value},d=await c({method:"post",url:`${m}/api/add-dispute`,data:U,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});if(d.data.status==!1)return n(d.data.message);n(null),a("Message sent!"),i.current.value="",s.current.value=""}};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md text-primary font-semibold py-1",children:"Dispute"}),(0,e.jsx)("div",{className:"w-full h-[1px] bg-slate-300"}),(0,e.jsxs)("div",{className:"rounded-xl shadow-xl bg-white p-4 mt-2 w-96",children:[(0,e.jsxs)("select",{ref:i,name:"reason",id:"reason",className:"w-full rounded-md border-none outline-none bg-gray-100 py-2 my-2 px-2",children:[(0,e.jsx)("option",{value:"1",children:"This is bad"}),(0,e.jsx)("option",{value:"2",children:"This is so bad"}),(0,e.jsx)("option",{value:"3",children:"This is extrimily bad"}),(0,e.jsx)("option",{value:"4",children:"I just don't want it"})]}),(0,e.jsx)("textarea",{ref:s,className:"p-4 w-full h-40 outline-none border-2 border-gray-300 focus:border-gray-300 rounded-md resize-none",placeholder:"Your message"}),r==""||r==null||r==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:r}),o==""||o==null||o==null?null:(0,e.jsx)("div",{className:"bg-green-500 bg-opacity-10 border-2 text-center border-green-500 rounded-md text-green-500 text-md font-normal text-md my-4",children:o}),(0,e.jsx)("div",{onClick:u,children:(0,e.jsx)(x,{text:"Send Message",background:"bg-primary"})})]})]})})};export{H as default};
