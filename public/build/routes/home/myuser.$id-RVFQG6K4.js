import{a as I}from"/build/_shared/chunk-T2UW36V2.js";import"/build/_shared/chunk-FZJ3KOTO.js";import{a as n}from"/build/_shared/chunk-6ONMTUBQ.js";import{a as m,b as u}from"/build/_shared/chunk-MNPIC26H.js";import{M as w,a as h}from"/build/_shared/chunk-VYXQYHL2.js";import{l as g}from"/build/_shared/chunk-BDKSMX4O.js";import{c as y,d as q,e as k}from"/build/_shared/chunk-7UEYUE33.js";var a=y(q());var e=y(k());var L=()=>{let t=g().user,i=g().curUser,[l,N]=(0,a.useState)(0),A=t.pic=="0"||t.pic==null||t.pic==null||t.pic==""?"/images/avatar/user.png":t.pic,[o,p]=(0,a.useState)(null),d=(0,a.useRef)(null),[B,x]=(0,a.useState)(!1),[U,v]=(0,a.useState)(!1),[$,F]=(0,a.useState)(!1),E=g().campaign,D=i.role.code=="50",T=async s=>{let r={search:{campaign:s.toString(),brand:i.brand.id,influencer:t.id}};if((await m.post(`${u}/api/search-invite`,r)).data.data.length>0)return p("Already Invited.");{let f={campaignId:s.toString(),influencerId:t.id,fromUserId:i.id,toUserId:t.id,inviteMessage:"A brand invited you to there campaign."},c=await m.post(`${u}/api/add-invite`,f);c.data.status==!1?p(c.data.message):(d.current.value="",v(!1))}},S=async()=>{let s={search:{type:"1",brand:i.brand.id,influencer:t.id}};(await m({method:"post",url:`${u}/api/search-review`,data:s})).data.data.length>0&&F(!0)};return(0,a.useEffect)(()=>{S()},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:`w-full h-screen bg-gray-500 fixed top-0 left-0 bg-opacity-30 grid place-items-center ${U?"fixed":"hidden"}`,style:{zIndex:100},children:(0,e.jsxs)("div",{className:"p-6 bg-white rounded-xl shadow-xl w-96 h-80 min-h-min",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:()=>{v(!1)},children:(0,e.jsx)(h,{icon:w,className:"font-bold text-2xl text-center text-primary"})})]}),(0,e.jsx)("h1",{className:"text-primary text-lg font-bold text-left",children:"Your Campaigns"}),o==""||o==null||o==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-2",children:o}),(0,e.jsx)("div",{className:"overflow-y-scroll no-scrollbar",children:E.map((s,r)=>(0,e.jsxs)("div",{className:"flex gap-2 my-4 items-center",children:[(0,e.jsxs)("p",{className:"text-gray-600 font-semibold text-xl",children:[r+1,"."]}),(0,e.jsx)("p",{className:"text-gray-600 font-semibold text-lg",children:s.name}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("button",{className:"text-white rounded-md py-1 px-4 bg-secondary font-semibold",onClick:()=>T(s.id),children:"INVITE"})]},r))})]})}),(0,e.jsx)("div",{className:`w-full h-screen bg-gray-500 fixed top-0 left-0 bg-opacity-30 grid place-items-center ${B?"fixed":"hidden"}`,style:{zIndex:100},children:(0,e.jsxs)("div",{className:"p-6 bg-white rounded-xl shadow-xl w-96",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:()=>{x(!1)},children:(0,e.jsx)(h,{icon:w,className:"font-bold text-2xl text-center text-primary"})})]}),(0,e.jsx)("h1",{className:"text-primary text-lg font-bold text-left",children:"Connect"}),(0,e.jsx)("textarea",{ref:d,className:"p-4 w-full h-40 outline-none border-2 bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none mt-4",placeholder:"message"}),o==""||o==null||o==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:o}),(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:async()=>{var b,f,c,C;if(((b=d.current)==null?void 0:b.value)==null||((f=d.current)==null?void 0:f.value)==null||((c=d.current)==null?void 0:c.value)=="")return p("Message can't be blank");let s={campaignDraftId:"0",fromUserId:i.id,toUserId:t.id,comment:(C=d.current)==null?void 0:C.value},r=await m({method:"post",url:`${u}/api/add-chat`,data:s,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});return r.data.status?x(!1):p(r.data.message)},children:(0,e.jsx)(n,{text:"send",background:"bg-primary",textColor:"text-white"})})]})]})}),(0,e.jsxs)("div",{className:"w-full mt-4 shadow-xl bg-white rounded-xl",children:[(0,e.jsx)("img",{src:"/images/products/shoe1.jpg",alt:"error",className:"w-full h-60 object-cover rounded-t-xl"}),(0,e.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,e.jsxs)("div",{className:"p-8 flex flex-row gap-x-3 lg:flex-col",children:[(0,e.jsx)("div",{children:(0,e.jsx)("img",{src:A,alt:"user avatar",className:"w-32 h-32 rounded-md object-cover object-center"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"text-black text-lg font-medium my-2",children:t.userName}),(0,e.jsx)("h1",{className:"text-gray-600 text-sm font-medium my-2",children:t.knownAs}),(0,e.jsx)("p",{className:"text-gray-800 text-md font-normal",children:t.email}),(0,e.jsx)("div",{onClick:()=>{x(!0)},children:(0,e.jsx)(n,{text:"Message",background:"bg-secondary",fontwidth:"font-bold"})}),D?(0,e.jsx)("div",{onClick:()=>{v(!0)},children:(0,e.jsx)(n,{text:"Invite",background:"bg-secondary",fontwidth:"font-bold"})}):(0,e.jsx)("div",{})]})]}),(0,e.jsx)("div",{className:"h-72 w-[2px] bg-gray-300 hidden lg:block mt-8"}),(0,e.jsxs)("div",{className:"p-8",children:[(0,e.jsx)("div",{className:"flex gap-x-4 flex-col md:flex-row gap-y-2"}),(0,e.jsx)("h1",{className:"text-primary text-lg font-medium mt-4 mb-2",children:"User Bio"}),(0,e.jsx)("p",{className:"text-black text-sm font-normal",children:t.bio})]})]})]}),(0,e.jsx)("div",{className:"w-full mt-4 shadow-xl bg-white rounded-xl",children:(0,e.jsxs)("div",{className:"flex mx-4 gap-4",children:[(0,e.jsx)("div",{onClick:()=>{N(0)},children:(0,e.jsx)(n,{text:"Insights",background:`${l==0?"bg-[#01FFF4]":"bg-gray-100"}`,fontwidth:"font-bold",textColor:`${l==0?"text-black":"text-gray-600"}`})}),(0,e.jsx)("div",{onClick:()=>{N(1)},children:(0,e.jsx)(n,{text:"Payments",background:`${l==1?"bg-[#01FFF4]":"bg-gray-100"}`,fontwidth:"font-bold",textColor:`${l==1?"text-black":"text-gray-600"}`})})]})}),(0,e.jsx)("div",{className:"w-full mt-4 flex flex-wrap gap-4 rounded-xl",children:l==1?(0,e.jsx)("div",{children:$?null:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("p",{className:"text-md text-primary font-semibold py-1",children:"Rating"}),(0,e.jsx)("div",{className:"w-full h-[1px] bg-slate-300"}),(0,e.jsx)(I,{campaignId:"0",brandId:i.brand.id,influencerId:t.id,reviewType:"1"})]})}):null})]})},M=L;export{M as default};
