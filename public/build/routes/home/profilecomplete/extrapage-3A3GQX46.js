import{a as J}from"/build/_shared/chunk-XTP3C3EQ.js";import{a as G}from"/build/_shared/chunk-NJKAJ7NJ.js";import{a as v}from"/build/_shared/chunk-KQNGW2SI.js";import{a as q,b as X}from"/build/_shared/chunk-WI5Z27OJ.js";import"/build/_shared/chunk-5ROUF77C.js";import{V as b,a as x}from"/build/_shared/chunk-6AVPJ36M.js";import{d as $,l as P}from"/build/_shared/chunk-P4VL4XDR.js";import{e as y,g as te,h as W}from"/build/_shared/chunk-EUC6ZTEW.js";var n=y(te());var e=y(W());var ne=()=>{let E=P(),h=E.user.id,oe=E.user.role.code=="50",[p,l]=(0,n.useState)(null),[g,ae]=(0,n.useState)(null),K=J(t=>t.setIndex),N=(0,n.useRef)(null),i=(0,n.useRef)(null),u=(0,n.useRef)(null),d=(0,n.useRef)(null),m=(0,n.useRef)(null),w=(0,n.useRef)(null),A=(0,n.useRef)(null),C=(0,n.useRef)(null),[o,Q]=(0,n.useState)(),[a,Y]=(0,n.useState)(),[r,Z]=(0,n.useState)(),ee=t=>{let s=t.target.value.replace(/[^0-9]/g,"");t.target.value=s};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"p-8 w-full",children:[(0,e.jsx)("h1",{className:"text-2xl text-black font-bold",children:"Documents"}),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"hidden",children:[(0,e.jsx)("input",{type:"file",accept:"*/*",ref:w,onChange:t=>{parseInt((t.target.files[0].size/1024/1024).toString())<4?(l(null),Q(s=>t.target.files[0])):l("File size must be less then 4 mb")}}),(0,e.jsx)("input",{type:"file",accept:"*/*",ref:A,onChange:t=>{parseInt((t.target.files[0].size/1024/1024).toString())<4?(l(null),Y(s=>t.target.files[0])):l("File size must be less then 4 mb")}}),(0,e.jsx)("input",{type:"file",accept:"*/*",ref:C,onChange:t=>{parseInt((t.target.files[0].size/1024/1024).toString())<4?(l(null),Z(s=>t.target.files[0])):l("File size must be less then 4 mb")}})]}),(0,e.jsxs)("div",{className:"flex gap-4 my-2",children:[(0,e.jsx)("div",{className:"w-full text-center bg-gray-100 text-lg font-semibold text-gray-700 rounded-md py-1 cursor-pointer",onClick:()=>{var t;return(t=w.current)==null?void 0:t.click()},children:o==null?(0,e.jsxs)(e.Fragment,{children:["Add Doc ",(0,e.jsx)(x,{className:"mx-2",icon:b})]}):o.name.length<25?o.name:`${o.name.toString().slice(0,25)}...`}),o!=null?(0,e.jsx)("a",{target:"_blank",href:URL.createObjectURL(o),className:"text-white text-center px-4 text-lx font-semibold rounded-md bg-cyan-500  py-2",children:"VIEW"}):null]}),(0,e.jsxs)("div",{className:"flex gap-4 my-2",children:[(0,e.jsx)("div",{className:"w-full text-center bg-gray-100 text-lg font-semibold text-gray-700 rounded-md py-1 cursor-pointer",onClick:()=>{var t;return(t=A.current)==null?void 0:t.click()},children:a==null?(0,e.jsxs)(e.Fragment,{children:["Add Doc ",(0,e.jsx)(x,{className:"mx-2",icon:b})]}):a.name.length<25?a.name:`${a.name.toString().slice(0,25)}...`}),a!=null?(0,e.jsx)("a",{target:"_blank",href:URL.createObjectURL(a),className:"text-white text-center px-4 text-lx font-semibold rounded-md bg-cyan-500  py-2",children:"VIEW"}):null]}),(0,e.jsxs)("div",{className:"flex gap-4 my-2",children:[(0,e.jsx)("div",{className:"w-full text-center bg-gray-100 text-lg font-semibold text-gray-700 rounded-md py-1 cursor-pointer",onClick:()=>{var t;return(t=C.current)==null?void 0:t.click()},children:r==null?(0,e.jsxs)(e.Fragment,{children:["Add Doc ",(0,e.jsx)(x,{className:"mx-2",icon:b})]}):r.name.length<25?r.name:`${r.name.toString().slice(0,25)}...`}),r!=null?(0,e.jsx)("a",{target:"_blank",href:URL.createObjectURL(r),className:"text-white text-center px-4 text-lx font-semibold rounded-md bg-cyan-500 py-2",children:"VIEW"}):null]}),(0,e.jsx)("div",{className:"w-full h-[2px] bg-gray-400 my-4"})]}),(0,e.jsx)("h1",{className:"text-2xl text-black font-bold",children:"Documents"}),(0,e.jsx)("p",{className:"text-black text-left font-normal text-lg  mt-4",children:"Bank Name"}),(0,e.jsx)("input",{ref:i,type:"text",className:"bg-[#EEEEEE]  outline-none border-none focus:border-gray-300 rounded-md w-full p-2"}),(0,e.jsx)("p",{className:"text-black text-left font-normal text-lg  mt-4",children:"Branch Name"}),(0,e.jsx)("input",{ref:u,type:"text",className:"bg-[#EEEEEE]  outline-none border-none focus:border-gray-300 rounded-md w-full p-2"}),(0,e.jsx)("p",{className:"text-black text-left font-normal text-lg  mt-4",children:"IFSC"}),(0,e.jsx)("input",{ref:d,type:"text",className:"bg-[#EEEEEE]  outline-none border-none focus:border-gray-300 rounded-md w-full p-2"}),(0,e.jsx)("p",{className:"text-black text-left font-normal text-lg  mt-4",children:"Account Number"}),(0,e.jsx)("input",{ref:m,type:"text",className:"bg-[#EEEEEE]  outline-none border-none focus:border-gray-300 rounded-md w-full p-2",onInput:ee}),p==""||p==null||p==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:p}),g==""||g==null||g==null?null:(0,e.jsx)("div",{className:"bg-green-500 bg-opacity-10 border-2 text-center border-green-500 rounded-md text-green-500 text-md font-normal text-md my-4",children:g}),(0,e.jsx)("div",{onClick:async()=>{var t,c,s,k,I,F,L,S,z,T,H,M,B,O,U,_;if(((t=i.current)==null?void 0:t.value)==null||((c=i.current)==null?void 0:c.value)==null||((s=i.current)==null?void 0:s.value)=="")l("Enter Bank name.");else if(((k=u.current)==null?void 0:k.value)==null||((I=u.current)==null?void 0:I.value)==null||((F=u.current)==null?void 0:F.value)=="")l("Enter Branch name.");else if(((L=d.current)==null?void 0:L.value)==null||((S=d.current)==null?void 0:S.value)==null||((z=d.current)==null?void 0:z.value)=="")l("Enter IFSC code.");else if(((T=m.current)==null?void 0:T.value)==null||((H=m.current)==null?void 0:H.value)==null||((M=m.current)==null?void 0:M.value)=="")l("Enter Account Number.");else{let D=await v(o),R=await v(a),j=await v(r),f={id:h,bankName:(B=i.current)==null?void 0:B.value,branchName:(O=u.current)==null?void 0:O.value,ifsc:(U=d.current)==null?void 0:U.value,acNo:(_=m.current)==null?void 0:_.value};D.status&&(f.doc1=D.data),R.status&&(f.doc2=R.data),j.status&&(f.doc3=j.data),console.log(f);let V=await q({method:"post",url:`${X}/api/updateuser`,data:f,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});if(V.data.status==!1)return l(V.data.message);K(5),N.current.click()}},children:(0,e.jsx)(G,{text:"Next",textColor:"text-white",width:"w-full",background:"bg-primary",fontwidth:"font-bold"})}),(0,e.jsxs)($,{method:"post",className:"hidden",children:[(0,e.jsx)("input",{type:"hidden",name:"id",value:h.toString()}),(0,e.jsx)("button",{ref:N,name:"submit",children:"Submit"})]})]})})},le=ne;export{le as default};
